---------------------------
YAM Open Source - ChangeLog
---------------------------

$Id$
$URL$

2011-12-21 Jens Langner <Jens.Langner@light-speed.de>

  * mui/FolderListtree, mui/FolderRequestListtree.c: implemented
    a base class for the folder listtree and changed the old
    FolderRequestList class to a Listtree class. In addition,
    MainFolderListtree is also now derived from the new
    FolderListtree class. In the end, this change allowed to 
    use a listtree rather than a plain list for the folder
    request window. Thus, this should close #136.

2011-12-18 Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_EA.c: fixed some potentially critical DoMethod calls
    to NListtree which might have showed some problems.

2011-12-17 Jens Langner <Jens.Langner@light-speed.de>

  * mui/AddrBookListtree.c, MainFolderListtree.c: now that a new
    fixed NListtree.mcc is released the previously added workaround
    could be removed.
  * YAM.c: bumped all minimum required versions of all MCCs to what are
    the latest versions available as there are new features and fixes
    out there in these classes.
  * AVLTree.c: replace AllocVec/FreeVec calls with AllocVecPooled and
    FreeVecPooled as AllocVec/FreeVec are marked as deprecated in the
    latest OS4 SDK.
  * extrasrc: slightly revised some of our own implementation of standard
    C functions and tried to make them more compatible to version found
    in other projects. Especially the strtok_r() function should be somewhat
    more compatible to well-known implementations.

2011-12-16 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AddrBookListtree.c, MainFolderListtree.c: fixed wrong usage of
    DoSuperMethod().

2011-12-16 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/strcasestr.c: renamed our own stristr() implementation to
    strcasestr() as that is the more well-known name for it. In addition, a
    slightly faster implementation is now in place. Furthermore, as MorphOS
    and AROS seem to have own strcasestr() implementations in their C libraries
    we give them preference for these platforms.
  * YAM_MA.c: changed the mail import requester to allow to select multiple
    files at once and start multiple mail file imports. Please note, however,
    that for every file there currently will be a separate preselection window
    opened as stuffing all mails from all selected files together will
    require more substantial work. Nevertheless, mail import from several mbox
    files are now possible. Thus, for the moment this closes #196.
  * locale/*.ct: fixed all catalog files to have "%s" added to the MSG_TR_MsgInFile
    entry or otherwise YAM can't add the name of the file the imported mails
    will be display in the import preselection window.

2011-12-15 Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: reworked the main html2mail flex rules to behave somewhat more
    hierarchically. Previously the rules were pretty much mixed up. Now they
    should more cleanly convert a html mail (and especially embedded links)
    to a somewhat more readable text. This should finally closes #279.
  * mui/MainFolderListtree.c, mui/MainMailList.c: added PCS format statements to
    the MUIA_NList_Format specs of the MainFolderListtree and the MainMailList.
    This is a new feature of NList and will automatically substitute text with
    "..." at the position where text didn't fit into a column anymore. For the
    Folder Listtree the folder name will now be substitute centered and for
    the main mail list the Sender and Subject line will be substituted right
    aligned in case text doesn't fit anymore. Please test extensively! ;)

2011-12-15 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-12-15 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AddrBookListtree.c, MainFolderListtree.c: added a workaround for a bug
    in NListtree.mcc to avoid a NULL pointer access. This closes #281.

2011-12-09 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest change.

2011-12-08 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-12-08 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: enhanced the date scanner to accept placeholders like %e, %-d,
    %-m and %-y. This closes #280.
  * locale/YAM.cd: added the new possible placeholders to the error message
    in case parsing the date fails to explain their meaning.

2011-11-28 Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: implemented identification of <script> tag so that text
    between a script tag is completely skipped in the HTML2Mail conversion.

2011-11-27 Jens Langner <Jens.Langner@light-speed.de>

  * mui/AddrmatchlistPopup.c: modified addrmatchlist to also popup in case
    only one entry was found. This should help in identifying more easily if
    that single entry is the actual right one the user was searching for.
  * mui/Recipientstring.c: modified class to make sure that on every change
    in the string the addrmatchlist will be updated accordingly resulting in
    an updated addrmatchlist object. Previously this was only done if the
    actual text in the string object changed which wasn't the case for all
    occasions. This fix should close #277.

2011-11-26 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: modified the MIME boundary checks to make sure that the boundary
    is placed on a single line with a final '\0' and only white spaces between
    the boundary and the final NUL char. This should fix problems with slightly
    broken mails where the boundary was not chosen unique enough and where in
    the text it might partly show up. Previously YAM was just comparing the
    beginning of a line with the defined boundary string. However RFC 2046
    defines that the boundary should be on a single line with only white
    spaces and the final CRLF. Thus, this fix should close #232.

2011-11-21 Jens Langner <Jens.Langner@light-speed.de>

  * mui/UpdateNotifyWindow.c: the UpdateCheck mechanisms will now not
    complain about a missing document anymore. This might have been the case
    if the update.yam.ch server wasn't working correctly. However, the update
    check is non critical and thus we can ignore that error completly.

2011-11-21 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: YAM now correctly terminates instead of restarting itself when
    receiving APPLIBMT_Quit or APPLIBMT_ForceQuit via application.library in
    case AmiUpdate wants to reboot the system.

2011-09-29 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: fixed a wrong pointer introduced by the latest changes.

2011-09-28 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, FolderList.c: the index loading now uses a temporary folder which
    doesn't need any list locking. This gives a vast speed improvement for large
    folders, since even if semaphore locking is fast it still takes it time.

2011-09-27 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, YAM_UT.c: loading a folder's index no longer causes this index to
    be expired as there is no need to mark a freshly loaded index as invalid.
    Additionally this changes avoids trying to delete the .index files while it
    is still opened for reading. Thanks to Colin Wenzel for the hint.

2011-09-26 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: added some more debug output to a failure upon opening a window.
  * rexx/mailcheck.c: fixed the broken MAILCHECK ARexx command. The first POP3
    account could not be checked for new mail due to a check >0 instead of >=0.

2011-09-21 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: added some debug output to a failure upon opening a window.

2011-09-06 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferWindow.c, TransferControlList.c: the transfer list's scrollbar
    is now placed in the right window border.

2011-09-05  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated according to latest changes.

2011-09-04 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2011-08-29 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typo again :-)

2011-08-15 Thore Böckelmann <tboeckel@gmx.de>

  * mui/BirthdayRequestWindow.c: bumped the notification's parameter counter to
    the correct value. This closes #271.

2011-08-05 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typos.

2011-08-04 Thore Böckelmann <tboeckel@gmx.de>

  * mui/BirthdayRequestWindow.c: skipping a persons birthday for the current day
    only worked if not more than person's birthday was today. If a second person
    had the same birthday a probably already skipped birthday was forgotten
    again as the check file was completely overwritten, because the date check
    compared too many characters.

2011-07-25 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2011-07-25 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferMailList.c: swapped the columns for index and status and made
    the status column non-sortable.
  * mui/MainFolderListtree.c: added some NULL pointer checks to the ChangeFolder
    method. This closes #269.

2011-07-22 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferMailList.c: the preselection list is now sortable by clicking
    on the list's title. This makes it a lot easier to i.e. select mails from
    one person which are several days apart with lots of other mails between
    them. This closes #268.

2011-07-04 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-07-04 Thore Böckelmann <tboeckel@gmx.de>

  * MailImport.c: a failed mail import, i.e. due to a low memory situation, will
    now make sure that any temporary file created during the import is deleted
    to free up the used memory.
  * YAM_FO.c: added some more characters to the list of forbidden characters for
    path names.
  * YAM_FO.c: use the correct variable to check whether a valid path for the new
    folder was entered.

2011-07-03 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c: double clicking on a TNF_LIST entry in the addrbook should now
    also not be possible to select an entry for adding it to a recipientstring.
    This was previously possible and caused potential confusions.
  * YAM_AB.c: a double click on a folder in the addressbook doesn't popup the
    edit window anymore. This should remove the confusion where a double click
    on a TNF_LIST usually means opening/closing it rather than editing. Thus,
    this should be now more consistent with how the mailfolderlist handles
    this.

2011-07-02 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c, mui/MainFolderListtree.c: removed the use of TNF_NOSIGN so that
    the user style selected in the NListtree.mcc preferences are respected.
    Previously we were forcing the user to our style which IMHO was not very
    nice. In addition, we are always showing a folder icon now in front of
    a message folder in case the user hasn't installed a custom icon. This
    should make the look&feel more consistent. Furthermore we don't display
    and vertical bar in the folder list anymore which should allow to make
    it smaller.

2011-07-01 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-07-01 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: set a busy mouse pointer while writing the final mail
    file. This makes a obvious why YAM does not react on user input while a
    large attachment is being encoded.

2011-06-29 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_CO.c: implemented new filter actions to mark a filtered mail
    as (un)marked, (un)read or as spam/not spam. This closes #265.

2011-06-29 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-06-28 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, mui/SearchControlGroup.c: doing a search with a pattern is now
    working again, but it must be done using AmigaDOS patterns. Hence these are
    activated automatically now. This closes #266.

2011-06-22 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: the error message about non-MIME-conformant mails will only be
    shown if an encoding other than plain 7bit ASCII is requested. Without any
    fancy encoding there will be no error message, even if the MIME-Version
    header line is missing.

2011-06-21 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-06-21 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: non-MIME-conformant mails without a MIME-Version header line are
    no longer displayed as raw 7bit ASCII text but will be decoded as usual.
    However, a warning about the missing header line will be presented to give
    the user a hint about that fact. Non-MIME-conformant mail clients (like that
    Android thingy) are becoming more and more common these days and it is
    better to have a possibly malformed mail text than a raw base64 dump. This
    closes #264.

2011-06-13  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated according to latest changes.

2011-06-06 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: added missing parameter for MUIM_CallHook and an empty string
    check to avoid trying to play non-existent sound files. This closes #263.

2011-05-14 Thore Böckelmann <tboeckel@gmx.de>

  * mui/UserPortraitGroup.c: added missing parameter to method call. This
    closes #259.

2011-05-11 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: fixed one warning.

2011-05-02 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/http.c: implemented a basic HTTP redirection handling to be able to
    download update files from sourceforge.net.

2011-04-21 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile, YAM_global.c: added "aros-arm" target to also compile YAM for the
    ARM processor target officially supported by the AROS platform. Please note,
    that YAM does not yet compile for the ARM target cleanly as there seems to
    be some oddity with the VA_ARG() macros in SDI which we have to investigate
    soon. But at least the nightly builds should be tried to be generated and
    the error will be added to our nightly build logfiles so that our AROS
    maintainers can investigate.

2011-04-18 Thore Böckelmann <tboeckel@gmx.de>

  * mui/UpdateComponentList.c, mui/UpdateNotifyWindow.c: the list of updates is
    now sorted alphabetically with the exception of YAM updates which are forced
    to be on top.

2011-04-14 Thore Böckelmann <tboeckel@gmx.de>

  * mui/UserPortraitGroup.c: changed the base class from Virtgroup.mui to
    Group.mui since there is no need for a virtual group at all.

2011-04-14 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-04-13 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typos.

2011-04-13 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: thread abortion can now be either synchonous or asynchronous.

2011-04-12 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: call DoMethod() directly upon thread termination instead of using
    PushMethodOnStackWait().
  * mui/UserPortraitGroup.c: the user will be prompted to select a different file
    name for the portrait image to be downloaded in case it already exists.

2011-04-11 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-04-11 Thore Böckelmann <tboeckel@gmx.de>

  * mui/UserPortraitGroup.c: it is possible to let YAM search for user portraits
    on gravatar.com. The image will be downloaded to the gallery directory.
    Refer to http://www.gravatar.com for details.
  * mime/md5.c: changed to prototype of md5update() to accept buffer variables
    of arbitrary type.

2011-03-19 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2011-03-18 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c: completely removed the semaphore lock around the
    gethostbyname() call, since this was necessary for WinUAE only and caused
    major headaches on other systems.
  * Makefile: added the definition of "__amigaos3__" to make OS3 specific checks
    easier.
  * UpdateNotifyWindow.c: downloading an update file now opens a file requester
    first to let the user modify the path and file name. Already existing files
    are handled as well and the user must then choose whether to overwrite it or
    not.

2011-03-17 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2011-03-17 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c: obtain the connection semaphore in an interruptible way to
    be able to be abortable while waiting for the lock.

2011-03-16 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-03-16 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: ops wrong file committed, fixed.

2011-03-15 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-03-15 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, locale/YAM.cd, locale/german.ct: added a Help menu which contains
    two items for the main contents and the ARexx interface for now. This closes
    #258.
  * mui/YAMApplication.c: the existance of the help file YAM.guide is now
    checked before MUI is told to display it. In case it is missing an error
    message will pop up.

2011-03-14 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/http.c: use MUIM_Set instead of OM_SET to activate the non-mail mode for
    the transfer control group. OM_SET seems to be swallowed by MUI.
  * tcp/http.c: activate the transfer window when downloading updates.

2011-03-12 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2011-03-09  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated according to latest changes.

2011-03-07 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-03-07 Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed a typo.

2011-03-06 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferControlGroup.c: fixed wrong default value for the "mail mode"
    attribute.

2011-03-03 Jens Langner <Jens.Langner@light-speed.de>

  * include/SDI: updated SDI headers with patches for AROS/m68k kindly provided
    by Matthias Rustler.

2011-03-02 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-03-02 Thore Böckelmann <tboeckel@gmx.de>

  * UpdateNotifyWindow.c, misc: YAM now performs the download of possible update
    files itself instead of offloading this work to a browser. This only applies
    for downloads initiated from within the update notify window. Outdated
    classes will be downloaded as before using a separate browser.
    The download path defaults to "T:" but can be customized on the Update page
    of the configuration window.
  * mui/TransferControlGroup.c: set the connection's error value as well in case
    of an abortion.
  * tcp/http.c: fixed wrong status message during a file download.

2011-02-28 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-02-27 Thore Böckelmann <tboeckel@gmx.de>

  * AppIcon.c, YAM_UT.c: slightly changed the check for active connections to
    use the semaphore in a shared fashion and check for a positive number of
    currently active connections.

2011-02-23 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-02-23 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MainMailList.c: replaced the custom SetMailInfo method by an overridden
    MUIM_CreateShortHelp implementation. This also makes it possible to let the
    bubble help display the information about the mail under the mouse pointer
    and not just of the currently active one, which even might be invisible.
  * mui/AttachmentImage.c, mui/MainFolderListtree.c: applied the same change as
    for the mail list for these two objects as well.
  * YAM.cd: changed the bubble help for the folder listtree and the mail list
    according to the latest changes.

2011-02-21 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: fixed a possible race condition in the POP3 thread when starting
    the POSTGET macro.
  * misc: completely removed the non-thread safe itoa() function and replaced it
    locally by its content. It wasn't used that often anyway.

2011-02-21 Jens Langner <Jens.Langner@light-speed.de>

  * ParseEmail.l: added a check to HSEGMENT for non-ASCII characters so that they
    are matched in http regexp as well. This closes #254.

2011-02-18 Thore Böckelmann <tboeckel@gmx.de>

  * MainMailList.c: implemented empty construct and destruct methods as there
    is nothing to construct and all the needed information is already contained
    in the mail structure. Although NList's default methods do basically the
    same the performance penalty of going through one more class' dispatcher and
    NList's internal pointer checks becomes quite noticable with large folders
    of 10000+ mails.

2011-02-17 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocSysObject.c: item pools now use the same value for puddle size
    and threshold to speed up freeing items. This affects non-OS4 builds only.

2011-02-16 Thore Böckelmann <tboeckel@gmx.de>

  * AVLTree.c, misc: added a custom implementation of balanced AVL trees. Such
    a tree is now used to mirror all user addressbook entries. Performing a
    search on this tree is about twice as fast as the old search using the
    methods of NListtree.mcc. This is very noticable with large folders and
    the "addressbook lookup" option being active.
  * YAM_AB.c, mui/AddrBookListtree.c: converted the standard list hooks to
    proper methods.

2011-02-15 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: fixed the recently introduced off-by-1 string check. Note: the
    word "attachment" consists of ten characters only ;)
  * misc: replaced all dynamically created image strings for NList.mcc by string
    constants. This should speed up display of large mail lists significantly.

2011-02-14 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: enhanced the "content-disposition" workaround for iPhone-alike
    HTML mai clients to also show 'inline' images as real attachments in case
    they are embedded in 'multipart/alternative' MIME parts.

2011-02-12 Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: large rework of the HTML to text conversion functionality. Now
    the flex regexp rules should hopefully convert HTML text more visibily
    accurate to pure text. In addition it now injects bold, italic and underline
    text styles whereever it finds the appropriate tags for it. So hopefully the
    new rules will give us some more nicer output while not breaking weird
    layout HTML mails. The common rule still applies: We can't convert ALL
    HTML to properly formatted ASCII text.

2011-02-08 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-02-07 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typos and compiled with latest FlexCat 2.8.

2011-02-06 Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: changed the regexp to separately identify <pre> tags and treat
    everything within them as normal text, thus outputting it as is. This should
    improve HTML to text conversions for emails with newlines within <pre> tags.
  * YAM_RE.c: if the content-disposition of an 'alternative' mail part is found
    to be "attachment" we remove the alternative status of that particular mail
    part now and make sure YAM displays it under all circumstances. This should
    work around issues with mails created by HTML-only aware mail clients like
    the iPhone mail client. These clients are known to drop attachments in the
    "multipart/alternative" structure, thus they are usually hided per default.
    Now these attachments should be displayed correctly.

2011-02-05 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: added the angled brackets to the range of invalid characters for
    file names.

2011-02-05 Jens Langner <Jens.Langner@light-speed.de>

  * AttachmentObject.c: we display 'alternative' mail parts in italic style only
    instead of supressing the filename or description of the part.

2011-02-04 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, mui/MainFolderListtree.c: updated the NList includes to the latest
    versions and bumped the minimum required versions of NList to 0.109. This
    makes it possible to implement the listtree hooks as proper methods.

2011-02-03 Thore Böckelmann <tboeckel@gmx.de>

  * misc: access to the currently active folder variable is now protected by a
    semaphore to avoid possible race conditions.

2011-02-02 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2011-02-02 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, mui/MainFolderListtree.c: changed a hook to a method.
  * misc: the current folder is now kept in a global variable to avoid having
    to obtain it from the folder tree object everytime it is needed. This should
    speed up all checks against the current folder a lot.
  * tcp/pop3.c: getting the current folder from the folder tree is no longer
    necessary due to the now globally available pointer.
  * tcp/pop3.c: the folder tree is updated 4 times per second at most during a
    POP3 download.

2011-02-01 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: hitting the "Send" button will no longer send out mails which are
    currently being edited. This closes #252.
  * YAM_FI.c: performing a long lasting search will no longer block POP3 and
    SMTP transfers to be started/completed although they still will very much
    depend on how fast the search actually can be done. The search really needs
    to be moved to a separate thread.
  * tcp/http.c: the receive loop now distinguishes between line based text
    contents and aribtrary binary contents. This makes it possible to let down-
    load its update archives itself in the future.

2011-01-31 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typos and update to the latest changes.

2011-01-31 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_CO.c, tcp/pop3.c, tcp/smtp.c: the configuration is now locked
    as long as there are active POP3 or SMTP transfers. This avoids the problem
    that modifying and using/saving the configuration will effectively destroy
    the mail server nodes which are in use by the active transfers. An error
    message will be displayed in that case.

2011-01-28 Thore Böckelmann <tboeckel@gmx.de>

  * tools/genclasses: the generated clean up code now checks for still living
    objects of each internal custom class. This effectively points to memory
    leaks in case objects are created dynamically and don't belong to the
    application anymore when the final cleanup happens.

2011-01-27 Thore Böckelmann <tboeckel@gmx.de>

  * mui/ObjectList.c: changed the ObjectList's default behaviour to dispose
    removed objectItems.
  * mui/ObjectList.c: fixed the completely wrong disposure of removed objects.

2011-01-25 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c, YAM_COg.c: fixed several places where invoking the method
    the MUIM_TextEditor_InsertText was missing the last parameter to specify the
    position where to insert the text. This caused random effects to happen,
    like inserting the text at the beginning. This closes #250.

2011-01-24 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-01-24 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-01-24 Thore Böckelmann <tboeckel@gmx.de>

  * MailImport.c, locale/YAM.cd: added another error message in case the file to
    be imported contains no mails at all.
  * tcp/Connection.c: the new timeout mechanism for gethostbyname() could have
    left the abort signal pending which in turn caused the preselection window
    to be closed immediately. Now the signal is properly cleared.
    This closes #248.

2011-01-23 Thore Böckelmann <tboeckel@gmx.de>

  * MailImport.c, locale/YAM.cd: trying to import mails from an unknown file now
    outputs an appropriate error message. This closes #247.

2011-01-21 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AddressmatchList.c: readded the vanished multicolumn format specs.

2011-01-20 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c: gethostbyname() is now protected by a timeout in case the
    network infinitely tries to resolve the host name without returning failure
    within the desired time.

2011-01-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: rebuilding a folder's index could result in a DOS requester
    asking for malformed disks to be inserted because the index file name was
    not set up at all.
  * mui/MainMailList.c: choosing "Edit as new" from the mail list's context menu
    to edit an already sent mail in the outgoing folder as new did not work,
    because the corresponding menu item was created in a completely wrong way.
  * YAM_RE.c: for message/rfc822 attachments the description will no longer be
    displayed in the read window/pane.

2011-01-14 Pär Boberg <pbobbenb@aim.com>

  * locale/swedish.ct: updated according to changes.

2011-01-14 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: fixed a possible memory leak in case adding a mail to the
    folder's mail list failed.

2011-01-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: changing the security flags of a POP3 server used the former
    settings to generate the new port number which resulted in a wrong port
    number most of the time. This closes #244.

2011-01-11 Alper Sönmez <amithlondestek@gmail.com>

 * locale/turkish.ct: update to the latest changes.

2011-01-10 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-01-10 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: propagating the old global POP3 options to the single accounts
    could mess up certain values depending on which nightly build was used
    before. Now only the really found options will be propagated instead of all
    possible.
  * YAM_COs.c: fixed a typo which caused the "apply remote filters" setting to
    be ignored.

2011-01-08 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: maintain release.

2011-01-08 Thore Böckelmann <tboeckel@gmx.de>

  * misc: removed the "avoid duplicates" checkmark from the GUI as there is no
    sensible reason to force duplicate mails. However, it is still possible to
    enable or disable this setting by modifying the .config file manually if
    downloading already downloaded mails again is really required.
    Furthermore the global "download on startup" option is now account specific
    to be able to download mails from certain servers only when starting YAM.
    The old global setting will be propagated to all POP3 accounts automati-
    cally.

2011-01-06 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: replaced MA_IndexFileName() by a thread safe variant.

2011-01-05 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: minor changes.

2011-01-05 Thore Böckelmann <tboeckel@gmx.de>

  * MailServers.c: added missing comparison of the preselection mode.
  * ImageCache.c: added a missing NULL pointer check.
  * YAM_MA.c: a separator bar in the Scripts menu will only be added if at least
    one custom script is configured.
  * YAM_MA.c, locale/YAM.cd: removed the confirmation requester when a global
    search over all mail folders for a threaded answer has to be performed.
    Since YAM periodically flushes all indices the confirmation is more annoying
    than helpful. See #19 for details.

2011-01-05 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2011-01-03 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_MA.c: restored the old "get mail on startup" behaviour.

2011-01-02 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: the account based remote filter setting was not remembered
    correctly.

2011-01-02 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2011-01-02 Pär Boberg <pbobbenb@aim.com>

  * locale/swedish.ct: updated according to changes.

2011-01-01 Jens Langner <Jens.Langner@light-speed.de>

  * misc: updated all copyright strings to refelect the new year and made
    them all have the same shape.

2011-01-01 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2011-01-01 Thore Böckelmann <tboeckel@gmx.de>

  * First of all: Happy New Year, YAMmers!
  * misc: It is now possible to define the mail preselection individually for
    each account. This closes #46. The same applies for the "avoid duplicates"
    setting.
  * misc: applying the remote filters is now optional for each POP3 account.
    This saves possible issues when remote filters are meant for certain
    accounts only, but were applied for all accounts. This closes #83.

2010-12-30 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-12-23 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, mui/YAMApplication.c: moved the "MultipleYAM" variable check out of
    the application class as it will be necessary to know the single task state
    in case creating the application fails due to a double start.
  * YAM.c, Rexx.c: starting YAM a second time with startup options to compose a
    new mail will now pass these options via ARexx to the already running
    instance. Before the first instance would just have popped up and the new
    mail options were completely ignored. This closes #236.
  * YAM_UT.c: when closing a temp file which was never opened before YAM did
    nevertheless try to delete this file which of course must fail. As a
    consequence this file was treated as a zombie file furtheron. When all this
    happened while YAM was shutting down adding the file to the zombie file list
    caused a crash, because the timer which then got restarted had been deleted
    already. Now only existing files will be treated as zombie files. This
    closes #242.

2010-12-19 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, mui/YAMApplication.c: moved the notification stuff to the application
    subclass.

2010-12-17 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2010-12-17 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c, mui/ReadMailGroup.c: possible parsing errors while checking a mail
    for spam content will not show any error anymore. Normal reading of the mail
    however will still show any parsing error.
  * Threads.c: in case YAM had to create additional threads while another thread
    finished its work at the same time the replied working message would be
    treated as the replied startup message. Eventually the true replied startup
    message would be treated as a normal message and be freed, which must not be
    done for a non-allocated static message. The result was a crash. Many thanks
    to Simone Bevilacqua for the hint.
  * tcp/http.c, mui/YAMApplication.c: downloading a URL (i.e. the update
    informations for YAM) will now also create an invisible transfer window.
    As a consequence the transfer window can be closed an made visible again by
    a new menu item in the "Project" menu.

2010-12-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, YAM_UT.c: removed the non-thread safe GetNextLine() function. It
    was used during folder index loading only.
  * MailImport.c: putting the complete application to sleep while scanning the
    file to be imported is absolute non-sense with the thread framework we have
    now.
  * BayesFilter.c: removed an unnecessary duplicate allocation of a newly added
    string.

2010-12-13 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c: shrinked the 1-second WaitSelect() loops to one single
    call. The TCP/IP connection are now used in separate threads only and hence
    cannot freeze the GUI anymore.

2010-12-09 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: raised the batch size for the mail item pools to 1000.
  * Debug.c: corrected the printed time by the STOPCLOCK() debug macro. We are
    dealing with microseconds instead of nanoseconds.
  * BayesFilter.c: raised the inital hash table size to 4096 words.

2010-12-08 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c, MailTransferList.c: the POP3 thread now checks for mails to
    either be transferred or deleted to actually start the download. Before only
    mails to be transferred were respected which made it impossible to just
    delete mails from a server without downloading any. This closes #239.
  * extrasrc/AllocSysObject.c, extrasrc/ItemPool#?.c: added an emulation for
    AmigaOS4's item pools. These can handle lots of constant size allocations
    much faster than normal pools.
  * misc: make use of item pools for all struct Mail and struct MailNode. These
    are the most often used structures in YAM and (de)allocation will be sped up
    a lot. As a consequence there are new functions to allocate, clone and free
    mails.
  * YAM_MAf.c: the automatic index flushing will now also reset the folders' new
    mail counter and update the folder treeview accordingly.

2010-12-07 Thore Böckelmann <tboeckel@gmx.de>

  * mui/CharsetPopupList.c, MUIObjects.c: split off the charset popup list to a
    separate class to be able to implement the hooks as proper methods.
  * mui/FolderRequestList.c, mui/FolderRequestWindow.c: split off the folder
    request list to a separate class to be able to implement the hooks as proper
    methods.
  * mui/CheckboxRequestWindow.c: replaced toggle hook by a proper method.
  * YAM.c, mui/YAMApplication.c: converted the double start hook to a method of
    the application object.

2010-12-06 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AddressmatchList.c, AddressmatchPopup.c: separated the old class into
    two classes to be able to implement the old hooks as proper methods.
  * YAM_RE.c: do not access the struct ReadMailData after disposing the
    ReadWindow object as this will read just free()'d memory. This closes #234.
  * mui/YAMApplication.c: make sure YAM doesn't steal the focus in case a
    visible but inactive transfer window is requested.
  * extrasrc/AllocSysObject.c: the debug build now munges the freed memory as
    far as this is possible to catch possible "access after free" type of bugs.
  * mui/AccountList.c, YAM_COg.c: split off the POP3 account list to a separate
    class to be able to implement the hooks as proper methods.
  * mui/PlaceholderList.c, YAM_COg.c: split off the variable placeholder list to
    a separate class to be able to implement the hooks as proper methods.
  * mui/FilterPopupList.c, YAM_FI.c: split off the filter popup list to a
    separate class to be able to implement the hooks as proper methods.
  * tcp/pop3.c: a mail which exceeds the preselection size limit but has been
    downloaded before will no longer cause the preselection window to appear.

2010-12-05 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: we will now always show the unit with all kind of size display
    settings rather then omitting 'B' if only bytes are shown. This should make
    the display more consistent.

2010-12-05 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: converting a mail size to a string now uses the correct power of
    10 for the conversion. This closes #238.
  * mui/YAMApplication.c: clear the contents of newly allocated entries for the
    address match list to avoid display of corrupted strings.

2010-12-03 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: reverted the index save optimization as snprintf() might return
    larger numbers than the amount of character actually used.
  * Debug.h: fixed a typo in the STOPCLOCK() macro which made it unusable.
  * MailImport.c: since the import happens in separate thread there is no need
    to put the whole application to sleep while scanning the file to be
    imported.

2010-12-02  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated according to latest changes.

2010-12-02 Thore Böckelmann <tboeckel@gmx.de>

  * Timer.c: added a safety check to avoid restarting an already cleaned up
    timer during the termination process.
  * mui/YAMApplication.c: fixed a wrong sizeof() statement when adding a new
    entry to the EMail cache. This closes #237. At least I hope. Please reopen
    the ticket if the bug is still present.
  * MailImport.c: save one strlen() call.
  * YAM_FI.c: calculate some stuff outside the header search loop once instead
    of in each iteration.

2010-11-30 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: removed the now unused MA_ChangeTransfer() function.
  * YAM_FI.c: moved an IsMinListEmpty() call outside a loop.
  * YAM_MAf.c: slightly optimized the folder index saving by exploiting the
    fact that snprintf() already returns the number of characters. This saves
    the additional strlen() call.

2010-11-27 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferWindow.c, mui/YAMApplication.c: the user's transfer window
    setting is now respected correctly again. Setting this to "never" or
    "always" will show the transfer window never or always respectively while
    the automatic setting will leave it to the application whether the window
    should be visible or not.
  * YAM_MA.c: deleting old mails will now use 00:00 as base time instead of the
    current time to compare a mail's date against the folder's maximum age.
    Effectively this results in deleting old mails once per day only.

2010-11-26 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocSysObject.c: added the missing includes to fix the broken
    MorphOS and AROS builds.
  * tcp/pop3.c, mui/PreselectionWindow.c: changed the preselection to highlight
    the first mail to be transferred. Obtaining the message details will also
    start with this mail. This comes in very handy if there are more mails on
    the server than are actually to be downloaded (i.e. because of filtering and
    duplicates checking).
  * MailList.c, YAM_FO.c, YAM_UT.c: clearing a folder's mail list should be much
    faster for large folders now. This is archived by checking possibly opened
    read windows to be closed ahead of clearing the list. Before the opened read
    windows were checked against every single mail which made YAM crawl when
    folders with some ten thousand mails had to be cleared.

2010-11-25 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocSysObject.c: added support for ASOT_INTERRUPT. This might come
    handy sooner or later.
  * extrasrc/MoveList.c: added a reimplementation of AmigaOS4's MoveList()
    function.
  * MailList.c: make use of the new MoveList() function.
  * mui/YAMApplication.c: changed the mail cache entries to be MinNodes instead
    of nodes and allocate them using AllocSysObject().

2010-11-24 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c, tcp/smtp.c, tcp/http.c: in case a transfer was aborted the
    AppIcon could be left in the "transferring" state. Now we make sure that it
    is put back to "normal" state.
  * tcp/Connection.c: added a check for a possible abortion during the
    gethostbyname() call. A suitable error code will be returned in this case.
  * mui/TransferControlGroup.c: aborting a transfer will abort the corresponding
    thread only instead of waking it up in a regular fashion.
  * Threads.c: aborting a thread incorrectly used the signal bit instead of a
    mask with that bit set.
  * mui/WriteAttachmentList.c: removed the unneeded setup and cleanup methods.
    There is no need to request additional IDCMP messages when no custom input
    handling is done.

2010-11-23 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2010-11-23 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-11-23 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c, mui/TransferControlGroup.c: aborting a transfer will now also
    abort the corresponding thread.
  * MailServers.c, YAM_CO.c: removed some more unnecessary empty list checks.
  * mui/AttachmentObject.c, mui/AttachmentImage.c: added a missing include to
    fix the AROS build.
  * mui/FolderRequestWindow.c: make the listview object instead of the embedded
    list object the window's default object. This closes #235.

2010-11-22 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c: the break signal mask is now set globally instead for the
    WaitSelect() call only. This should make it possible to abort even calls
    like gethostbyname() which cannot be called in an asynchronous manner.

2010-11-19 Thore Böckelmann <tboeckel@gmx.de>

  * misc: eliminated lots of empty folder list checks. This is done implicitly
    by the ForEachFolderNode() macro.
  * misc: eliminated lots of empty mail list checks. This is done implicitly by
    the ForEachMailNode() macro.

2010-11-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_EA.c: fixed a "one too small" array size.
  * misc: fixed lots of shadowing variable declarations. Unfortunately the
    -Wshadow compiler option cannot be set for all target systems, because
    the system includes already produce lots of warnings (at least for OS3).
  * MailServer.c: cloning a mail server will mark the clone as "not in use".

2010-11-17 Thore Böckelmann <tboeckel@gmx.de>

  * mui/ReadMailGroup.c: streamlined the double click hook a bit.
  * misc: completely removed the support for anonymous remailers as suggested
    in ticket #25. YAM should not be used to produce even more junk mails.
    This closes #25.
  * YAM.c: postponed freeing of pending error messages a bit, since the shutdown
    process might throw some more error messages which then would not be freed
    correctly anymore.

2010-11-16 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: fixed the slightly wrong number of total mails in case there
    are some mails to be downloaded and some to be ignored.

2010-11-11 Thore Böckelmann <tboeckel@gmx.de>

  * mui/Base64Dataspace.c: fixed a too small memory allocation which very
    probably caused the buffer overrun described in ticket #233.
    This closes #233.
  * UpdateCheck.c, Threads.c, tcp/http.c: put the HTTP URL download into a
    thread. Thus the update check can now be done asynchronously as well. All
    in all this makes stuff like automatic and asynchronous user image download
    from service providers like www.gravatar.com possible.

2010-11-09 Thore Böckelmann <tboeckel@gmx.de>

  * MailExport.c, misc: The mail export will now happens inside a thread.
  * all: restructured all classes to avoid lots of dependencies. Now it is
    possible add/modify class methods and definitions and only the sources
    depending on the modified classes will be recompiled.

2010-11-08 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c, misc: made the birthday to string conversion thread safe. I hope
    this also closes #227, altough I was not able to reproduce this issue.

2010-11-05 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: make sure the .taglines.hsh file is created in case it
    doesn't yet exist.
  * all: lots of minor changes due to the latest changes in the GenClasses tool.
    It is now necessary to include the header of each used class separately
    instead of the former "mui/classes.h" header. On the other hand this
    minimizes the number of dependencies a lot as the sources now depend on the
    classes they acually use only and no longer on all available classes.

2010-11-05 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update again to the latest changes.

2010-11-04 Thore Böckelmann <tboeckel@gmx.de>

  * mui/YAM.c: somehow the image in the OS4 notification got lost. Now it is
    back again.

2010-11-04 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-10-30 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update again to the latest changes.

2010-10-30 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, locale/YAM.cd: shortened some more menu item texts.
  * mui/Base64Dataspace.c: fixed two warnings.
  * YAM_MA.c, locale/YAM.cd: renamed the "exchange mail" menu item to "send
    queued and get new mail". This closes #23.

2010-10-30 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2010-10-30 Thore Böckelmann <tboeckel@gmx.de>

  * mui/YAM.c: fixed wrong usage of strlcpy().

2010-10-29 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2010-10-29 Thore Böckelmann <tboeckel@gmx.de>

  * mui/#?Window.c: only snapshotting a window will remember the current weight
    values and NList column sizes. For the preselection window unsnapshotting
    the window will reset the column sizes to their defaults.

2010-10-28 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c, mui/YAM.c, locale/YAM.cd: the new mail notification now includes
    the account name.

2010-10-27 Thore Böckelmann <tboeckel@gmx.de>

  * mui/PreselectionWindow.c, YAM_UT.c: the column layout of the preselection
    window can be saved permanently. This is accomplished by using the new
    Base64Dataspace class to store the layout of the dynamically added NList
    object. MUI itself will save the window's dimensions, but I cannot save
    further exported data by MUIM_Export of already dead objects. This is why
    we have to take this detour. This finally closes #60.
  * mui/Base64Dataspace.c: added a subclass of Dataspace.mui to im/export data
    from/to a base64 encoded ASCII string.

2010-10-26 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed a little typo.

2010-10-26 Thore Böckelmann <tboeckel@gmx.de>

  * mui/ImageArea.c: handle possible duplicate attributes during OM_NEW.
  * mui/Aboutwindow.c: added the language name to the translators' names.
  * mui/Aboutwindow.c: added Alper Sönmez to the list of translators.
  * mui/AttachmentObject.c: some more error checkings upon exporting an
    attachment.
  * YAM_RE.c: exporting an attachment will now replace possibly invalid
    characters in every case. Furthermore mail attachments will now get the
    extension ".eml" by default.

2010-10-25 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2010-10-25 Alper Sönmez <amithlondestek@gmail.com>

  * locale/turkish.ct: update to the latest changes.

2010-10-25 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-10-25 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, mui/AttachmentRequestWindow.c: the two virtual mail parts used for
    selecting the raw mail part must not be part of the requester's instance
    data, as these vanish as soon as the requester is closed and hence must not
    be accessed afterwards. Instead we use two globally accessible mail parts
    to circumvent this issue.
  * themes: added four themes done by Alper Sönmez.
  * mui/YAM.c: enabled the "jump to new mail" feature again.
  * ParseEmail.l, mui/YAM.c, mui/ReadMailGroup.c: the GotoURL() function is no
    longer called in TextEditor.mcc's double click hook directly. This should
    cure the unwanted "text marked on double click" issues on AmigaOS4. Opening
    a URL using the URL: device seems to take a bit too much time.
  * Threads.c: set the default error output stream as well for the new threads
    in the OS4 build.

2010-10-24 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.

2010-10-24 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, misc: removed all "mail exchange order" related stuff, since this in
    no longer required due to the recently added POP3 and SMTP thread stuff.
  * tcp/pop3.c: deriving the transfer flags from mail's attributes now correctly
    respects the mail's size and the configured preselection mode. This closes
    #228.

2010-10-22 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-10-22 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/Connection.c, tcp/pop3.c, tcp/smtp.c: slightly reworked the availibility
    check of secure connections.
  * mui/InfoBar.c, mui/Searchwindow.c: replaced two MUIM_WriteLong occurences by
    proper methods. This gives a much more safe implementation, because in one
    case MUI was instructed to write a 4 byte LONG value to a 1 byte BOOL
    variable and thus trashed memory.

2010-10-21 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest changes.

2010-10-21 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c, misc: I finally managed to put the complete POP3 stuff into a
    separate thread. In contrast to the known behaviour the individual accounts
    will no longer be handled one after each other but in parallel. Running the
    POP3 download in a thread means YAM will be 100% responsive to user input
    while the download is in progress. Each account will have its own control
    group in the transfer window and in case preselection is required YAM will
    open separate preselection windows for each account.

    I really hope I didn't introduce too many new bugs and/or possible deadlocks
    due to the now massively used threading. My personal tests didn't reveal any
    deadlocks anymore, but my setup is definitely different from that of other
    users and might not expose every possible pit fall.

    A warning for AROS users: AROS's current arosc.library is definitely *NOT*
    thread safe and YAM will very probably misbehave as soon as two or more
    transfers are running in parallel. It is up to the AROS development team
    to make its default C runtime library thread safe.
  * lib/os3: added thread safe build of clib2 to be linked against for the OS3
    build. This is absolutely necessary to guarantee thread safety when using
    i.e. fopen() from several threads simultaneously. Additionally this makes it
    possible to leave the compiler's default C runtime library untouched.

2010-10-20 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: the subthreads will now use the same default input/output streams
    as the main task.
  * tools/mkrelease.sh, doc/Install-YAM: added turkish catalog.
  * locale/turkish.ct: added/updated turkish translation kindly provided by
    Alper Sönmez.
  * MailImport.c: the transfer context is now dynamically allocated instead of
    being placed on the stack. Also changed the creation of the preselection
    window accoring to the latest changes to that class.
  * mui/PreselectionWindow.c: the preselection window now features a mode of
    working (import, mail download, etc). The "Resume" and "Pause" buttons are
    no longer needed. So far this only affects the mail import from a file.
  * YAM_FI.c: lock the mail list while filtering the mails.
  * mui/ObjectList.c: correctly set the top position of a new item.
  * mui/StringRequestWindow.c: some changes to allow waking up a waiting thread.

2010-10-18 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest changes.

2010-10-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, Timer.c: superflous idle threads will now be purged once per minute.
  * Threads.c: extended the thread framework for future usage.

2010-10-17 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MainFolderListtree.c: the dynamically allocated display hook must be
    freed after the object itself has been disposed. It seems NListtree.mcc is
    using the hook while being disposed. This closes #226.

2010-10-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c, YAM_EA.c, Makefile: completely disabled any automatic stack
    extension facility since this is not available for all platforms.

2010-10-14 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: oops ! forget to cleanup old strings.

2010-10-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: removed some static string buffers.
  * mui/MainFolderListtree.c, extrasrc/AllocSysObject.c: moved the static hook
    strings into the class' instance data.
  * YAM_UT.c, YAM.c: implemented a semaphore protected unique ID generation
    system.

2010-10-13 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update again to the latest changes.

2010-10-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, misc: made the MA_NewMailFile() function thread safe.
  * mui/ImageArea.c, mui/TransferMailList.c: implemented optional alternative
    texts for images. These will be used in case an image could not be loaded.
    This comes in quite handy for i.e. the "empty" theme. Instead of images the
    mail preselection window will now display some chars to indicate the state
    of the mails.

2010-10-12 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: don't update the transfer control group while loading the mail
    details for the preselection list. This will output a malformed time since
    the transfer has not been started yet. This closes #163.
  * MailImport.c: the transfer control group must not be created from within the
    subthread.
  * mui/misc: all subclassed windows now add themselves to the application
    automatically instead of leaving this task to the creating instance.
  * tcp/pop3.c, locale/YAM.cd: changed some strings in the POP3 transfer to
    use the account's name instead of combining user name + host.

2010-10-11 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog.

2010-10-11 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, tcp/Connection.c: added a global semaphore to avoid deadlocks when
    calling gethostfromname() from several threads at the same time. At least
    WinUAE suffers from this kind of deadlock.

2010-10-08 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c, YAM_UT.c, mui/MainFolderListtree.c: now that we show also the
    statistics of folder groups we needed to show statistics also in each
    separate column of the folder listtree.

2010-10-08 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MainFolderListtree.c: the group statistics will now be shown for closed
    group nodes only.
  * YAM.h, YAM_transfer.h: removed some no longer used global variables.

2010-10-07 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/smtp.c: due to the recently introduced mail transfer lists a main being
    sent no longer carried a reference to itself and hence setting the mail's
    status after it was sent no longer worked correctly.
  * YAM_MA.c: made MA_SetStatusTo() callable from threads.
  * mui/WriteWindow.c: removed the dependency from the old transfer structure
    since sending mails is now happening in a thread.
  * tcp/smtp.c: moving sent mails from the outgoing folder to the sent folder
    did not happen due to wrong parameters being used.

2010-10-06 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: the filter functions don't use a global structure to place the
    results into anymore. This makes it possible to invoke the filter functions
    multiple times without loosing old results.

2010-10-05 Jens Langner <Jens.Langner@light-speed.de>

  * tools/mkrelease.sh: adapted release script to use "svn export" rather
    than copying the distribution files from a local checked out directory.

2010-10-05 Thore Böckelmann <tboeckel@gmx.de>

  * mui/ObjectListitem.c: default to a horizontal group.
  * mui/misc: removed dummy instance data for all classes which don't need it.
  * TransferList.c, YAM_TR.c: split off the complete transfer list handling to
    a separate module. This makes it much easier to handle lists of mails to be
    transferred in any way and avoids much code duplication.
  * YAM_UT.c, mui/MailTextEdit.c: converted the two functions EditorToFile and
    FileToEditor to methods of the mail text editor class.

2010-10-04 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: removed the generic NList destruct hook, as it is not used
    anymore.
  * YAM_US.c, mui/UserList.c:s plit off the user list to a separate module to
    be able to implement the hooks as proper methods.
  * YAM.c, Threads.c, rexx/mailimport.c: importing mails via ARexx will now
    return control to ARexx only after the import has finished completely.

2010-10-03 Thore Böckelmann <tboeckel@gmx.de>

  * mui/UpdateNotifyWindow.c, mui/UpdateComponentList.c: correctly implemented
    the component list class. This closes #224.

2010-10-01 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow: mark the SMTP mail servers as being "in use" in case the
    send process is started from the write window.
  * Thread.c: execute the subthreads with priority 0 instead of +1.
  * doc/Install-YAM: fixed spanish part of Installer script.
  * YAM_COg.c, mui/ScriptList.c: split off some more list classes as separate
    modules to be able to implement the hooks as proper methods.
  * YAM_COg.c, mui/FilterList.c, mui/MimeTypeList.c: split off some more list
    classes as separate modules to be able to implement the hooks as proper
    methods.
  * mui/ObjectList.c: no idea why, but the object list needs an invisible dummy
    object to be resizeable.
  * mui/ReadMailGroup.c, mui/HeaderList.c: split off the read mail group's
    header list to a separate module to be able to implement the hooks as proper
    methods.
  * mui/AttachmentRequestWindow.c, mui/AttachmentList.c: split off the list of
    attachments to a separate module to be able to implement the display hook
    as method.
  * mui/WriteWindow.c, mui/WriteAttachmentList.c: implemented the window's list
    hooks as proper methods of the list itself.
  * mui/ThemeListGroup.c, mui/ThemeList.c: split off the theme list to a
    separate module to be able to replace the hooks by proper methods.
  * MailImport.c, YAM_TR.c: splitt off the mail import to a separate module.
    The mail import will now happen inside a thread and uses the just added
    preselection window class to let the user the mails to be imported.
  * mui/PreselectionWindow.c: split off the preselection window to a separate
    class. Not all known functions are working yet, but this class will not be
    used for POP3 downloads yet as well.

2010-09-30 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: update to the latest changes.
  * doc/Install-YAM: added spanish translation.

2010-09-30 Thore Böckelmann <tboeckel@gmx.de>

  * AppIcon.c, DockyIcon.c: slightly reworked the Docky icon logic to always
    display the correct Docky icon. This closes #197.
  * themes/default: added image for AmigaOS4 new mail notifications.
  * YAM_TR.c: if the file "Themes/default/notify" exists it will be displayed in
    YAM's AmigaOS4 new mail notification. This closes #151.
  * MailExport.c: use AllocSysObject() to allocate the transfer nodes.
  * DockyIcon.c: let application.lib fall back to the application's icon in case
    no hide icon could be obtained.
  * YAM.c, mui/misc: bumped the required minimum version of NList.mcc to the one
    of the most recent 0.108 release as this fixes the method based display.
    This makes it possible to replace lots of display hooks by proper methods.
    Also bumped the required version of TextEditor.mcc to the latest 15.36
    release.
  * misc: SMTP mail servers are now marked as being "in use" as soon as a mail
    transfer is initiated for them.

2010-09-29 Thore Böckelmann <tboeckel@gmx.de>

  * mui/YAM.c: fall back to a default icon in case there is no application icon.
  * YAM_TR.c: the POP3 detail download stopped one mail too early and left the
    last line in the preselection window empty. Now YAM correctly advances until
    the last mail. This closes #223.
  * doc/Install-YAM: fixed indentation and corrected language name for polish
    translation. Also set english guide to be the default for all languages with
    no native guide.
  * mui/Addrmatchlist.c: double clicking an entry in the match list will now
    append a comma and a space just like pressing Return does. This closes #203.
  * YAM_AB.c: opening the address book window again will now correctly activate
    the To/CC/BCC buttons depending on whether there is an active entry or not.

2010-09-29 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest development changes.
  * doc/YAM-install: added polish translation (only ASCII due to differences between AmigaPL and ISO-8859-2)

2010-09-27 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferWindow.c: removing the last control group will now dispose the
    window object immediately instead of disposing the group first.
  * tcp/smtp.c: make sure that the final stats are displayed before the transfer
    window is closed and that the filters are applied synchronously.
  * MethodStack.c: the arguments are no longer copied one by one, but using a
    single memcpy() call.

2010-09-26 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: updated spanish catalog translation - bug fixed.
  * help guide in spanish language adapted from v2.4 to v2.7; updated with
    last new features of the program.

2010-09-24 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/smtp.c, mui/YAM,c: filtering the sent mails will now be done by the main
    process, as the filter process might involve lots of actions which must not
    be done from within a thread directly, i.e. GUI actions.
  * tcp/smtp.c, mui/YAM.c: added some more debug output to track down #218. Also
    made sure that the transfer list is correctly cleaned up to avoid memory
    leaks.

2010-09-23 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: fixed a NULL pointer access in the debug build during the filter
    process.
  * YAM_UT.c, Threads.c: removed the sound playback in a separate thread again
    and reverted to the old approach. AmigaOS3's sound.datatype is simply too
    buggy to be able to play more than 4 samples in different threads without
    causing major problems. This closes #214.
  * MailExport.c: the export process now uses a connection without connecting to
    to any host. This makes it possible to use the connection's abort checking.
    Additionally aborting the export process will now correctly signal failure.

2010-09-23 Samir Hawamdeh <s.hawamdeh@tin.it>

  * AUTHORS: add Luca Longone as italian contributor, thanks mate!

2010-09-22 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/smtp.c: added some debug output.
  * MailExport.c, YAM_TR.c: moved the mail box export to a separate module which
    uses the new style transfer window.
  * tcp/pop3.c: replaced the UIDL parsing by a length limiting function, to
    avoid the non-length aware sscanf() function.
  * tcp/pop3.c: now that we don't have a common .uidl database file for all
    accounts anymore we can drop the "@hostname" appendix for each entry.
  * tcp/pop3.c: for servers which don't support the UIDL command already known
    mails were not marked as such and hence they would have been downloaded
    again.
  * YAM_FI.c, misc: all filters will now be cloned before they are used to
    filter mails. This finally makes it possible to use filter from within
    threads, because the actual filtering process modifies the filter nodes and
    that would have clashed as soon as two threads try to use the filters at the
    same time.
  * tcp/smtp.c: added the omitted appliance of filters for sent mails.
  * YAM_FI.c: there is no more difference between a single search pattern and
    multiple patterns read from a pattern file. This makes the pattern handling
    a lot easier. Also combined the boolean variables into one single flag
    variable.
  * YAM_FI.c: added some safety checks when reading a pattern file. Each parse
    operation must be successful and there must be at least one valid pattern in
    the file for final success.
  * YAM_FI.c: combined the search cleanup process into one function.

2010-09-21 Pär Boberg <pbobbenb@spray.se>

  * doc/Install-YAM: updated the swedish section of the script.
  * locale/swedish.ct: updated according to changes.

2010-09-21 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog.
  * doc/YAM_english.guide: complete the contributors list (translators).
  * doc/YAM_french.guide: complete the contributors list (translators).

2010-09-21 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: don't show an error message in case the QUIT command failed
    without receiving any answer from the server.
  * misc: first version of sending mails via SMTP in a subthread. The transfer
    progress will be shown as usual, but for the future each transfer will have
    its own separate graphical display. The window will be closed as soon as the
    last transfer has finished.

2010-09-20 Thore Böckelmann <tboeckel@gmx.de>

  * UIDL.c, YAM_COg.c: an existing UIDL database file will now be deleted if
    the corresponding POP3 account is deleted.

2010-09-19 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: upon creating a new folder the name gadget will be activated.
  * YAM_FO.c: creating a new folder now correctly sets up the full path to the
    folder's directory. This closes #215.
  * YAM_FO.c: fixed a possible NULL pointer access in the debug build.

2010-09-17 Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes and fixed warnings
    from FlexCat 2.7.

2010-09-17 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c, YAM_FI.c, MailServers.c, MimeTypes.c: implemented a generic list
    comparison function to avoid having to implement the same stuff over and
    over again.
  * YAM_FO.c: the default folder images are now set using FO_SetFolderImage().

2010-09-16 Thore Böckelmann <tboeckel@gmx.de>

  * rexx/userinfo.c: use the folder list instead of graphical representation to
    count the number of folders.
  * YAM.c, YAM_FO.c, YAM_UT.c: simplified and centralized the folder statistics
    update process.
  * YAM.c: don't use the folder treeview to traverse through all folders but the
    folder list only.
  * YAM_FO.c: simplified the FO_SetCurrentFolder() function since the folder
    structure carries the treenode pointer and there is no need to look up the
    pointer in the treeview first.
  * YAM_FO.c: removed the now unused FO_GetFolderTreenode() function.
  * locale/greek.ct, locale/spanish.ct, locale/swedish.ct: removed some unused
    strings and added missing trailing ellipsises.

2010-09-15  Alexandre Balaban <abalaban@free.fr>

  * doc/Install-YAM: updated according to latest changes.
  * doc/YAM_french.guide: updated according to latest changes.
  * locale/french.ct: updated according to latest changes.

2010-09-15 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: playing a sound for testing purposes will happen synchronously
    again to avoid multiple playback. The application will be put to sleep while
    the playback is in progress. However, sound playback triggered by a filter
    will be done asynchronously, because playing a notification sound should not
    halt other actions.
  * doc/Install-YAM: added the default help text to all copyfiles commands.
  * Threads.c, YAM_UT.c: each thread now allocates a signal which can be used
    by the main thread to abort the thread's current action. This closes #212.
  * doc/Install-YAM: added polish and spanish to the list of supported languages
    and corrected the order when not being installed on AmigaOS4.
  * YAM_FI.c: a search in the mail headers now bails out as soon as a matching
    string has been found instead of continuing the search which will forget
    about the found string. This closes #211.
  * doc/Install-YAM: the charset files for codesets.library will now be
    installed only if codesets.library is currently installed.
  * doc/Install-YAM: updated greek translation.

2010-09-14 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: rewritten some error messages.
  * doc/Install-YAM: complete the italian part of the installer.

2010-09-14 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.
  * doc/Install-YAM: translated newly added sentence (#ask_charsets)

2010-09-14 Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: the script will nor ask for confirmation before copying the
    charset files. This makes sense in case the user skipped the installation of
    codesets.library before.
  * tools/mkrelease.sh, doc/Install-YAM: added the german guide to the release
    archives, even if this one is still based on YAM 2.4 and therefore is
    quite outdated.
  * tools/mkrelease.sh: fixed archive generation.
  * extrasrc/AllocSysObject.c: fixed the memory munging for the debug build to
    correctly decrement the counter and avoid writing one byte too much and
    hence causing MungWall hits. This closes #208.
  * YAM_CO.c: removed redundant NewMinList() calls.
  * doc/Install-YAM: let the Installer application do the word wrapping instead
    of doing this ourself. This works around the ugly fact, that Installer opens
    a fixed sized window depending on the font being used which is not able to
    display all texts in full length with certain fonts.

2010-09-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: changed the GetMailFile() function to not use a static temporary
    buffer anymore.
  * YAM_FO.c: the folder structure now carries a pointer to the corresponding
    treenode. This avoids a lot of double iterating through the folder tree
    every time YAM has to access the treenode.
  * YAM_FO.c: slightly rewrote the ASL start hook.
  * YAM_FO.c: the folder structure now carries the absolute path to the folder's
    directory around. This solves the possible race conditions that would occur
    with the former GetFolderDir() function due to the static path buffer.

2010-09-11 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some typos.

2010-09-11 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: updated spanish catalog translation.

2010-09-10 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: made AppendToLogfile() safe to be called from threads.
  * tcp/smtp.c: multiline replies from an SMTP server were always treated as
    matching due to a wrong comparison.
  * YAM_UT.c: made Busy#?() safe to be called from threads.
  * YAM_ER.c: made ER_NewError() safe to be called from threads.

2010-09-09 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: updated spanish catalog translation.

2010-09-09 Thore Böckelmann <tboeckel@gmx.de>

  * MethodStack.c: implemented synchronous execution of pushed methods.
  * YAM_UT.c: for all systems except AmigaOS4 the sound playback no longer
    checks the return value of the STM_PLAY trigger. For AmigaOS3 the return
    value very much depends on the used sound.dt. For AROS it is always 0 and
    does in no way reflect success or failure.
  * YAM_TR.c: fixed missing display of final transfer statistics.

2010-09-08 Thore Böckelmann <tboeckel@gmx.de>

  * mui/TransferControlGroup.c: fixed a NULL pointer access in case the transfer
    happens while the transfer window is not visible.
  * mui/TransferControlGroup.c: fixed wrong display of mail size during the
    transfer.
  * tcp/Connection.c: a connection's error code is now correctly set after each
    receive operation. This closes #206.
  * misc: implemented feature request #61. The confirmation requester can now be
    disabled globally by setting the ConfirmRemoveAttachments option in the
    hidden section of the configuration to "Y" or "1". YAM will then *never* ask
    for confirmation before removing any attachment. You have been warned! This
    closes #61.

2010-09-08 Mariusz Danilewicz <mandi@interia.pl>

  * AUTHORS: added translators section (please check and update missing persons).

2010-09-07 Thore Böckelmann <tboeckel@gmx.de>

  * tools/mkrelease.sh: fixed archive generation.
  * YAM_TR.c, mui/TransferControlGroup.c: split off the transfer statistics into
    a separate subclass of Group.mui. This new group handles everything which
    was done by the TR_TransStat_#? functions before. This makes it possible to
    get rid of some more global variables.
  * YAM_MA.c: slightly optimized the "update status" process by not updating the
    AppIcon after each processed folder.
  * HTML2Mail.l: added some new HTML tags to allow better parsing of SVN commit
    mails.

2010-09-06 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fix another shortcut in addressbook, this solve #204.

2010-09-06 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MailFolderListtree.c: folder groups will now show the number of new and
    unread mails after their name, just like it is done for normal folders. This
    closes #68.

2010-09-03 Thore Böckelmann <tboeckel@gmx.de>

  * UIDL.c, tcp/pop3.c: the duplicate mail filtering process no longer adds the
    received UIDLs from the server to the hash table, but just marks already
    known entries as "new", because only "new" entries will be saved in the UIDL
    database files. The UIDLs will be added only after the corresponding mails
    have been downloaded successfully or been deleted.

2010-09-02 Thore Böckelmann <tboeckel@gmx.de>

  * UIDL.c, MailServers.c: changed the UIDL database naming. Each mail server
    now gets a unique account ID which is idependend of the accoutn data. The
    user and host name will now be written to a header line inside the file
    instead of the file name. This has the advantage that changing the account
    data will not result in a different UIDL database file to be used further
    on. Second the generated file name has a fixed length which can be handled
    by all standard AmigaOS filesystems.
  * UIDL.c: the generated UIDL file name is no longer placed on the stack as a
    local variable inside the generating function. This closes #202.

2010-09-01 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest development changes.

2010-09-01 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: disconnecting from a server will also stop a possibly still
    running "keep alive" timer."
  * tcp/pop3.c: added a NULL pointer check to catch the situation that a failed
    connection is attempted to be shut down. This closes #201.
  * YAM_TR.c, UIDL.c, tcp/pop3.c: separated the UIDL management functions into
    a separate module. Furthermore fixed some issues in the changed management
    which could still result in certain mails to be downloaded twice.
  * Rexx.c: in case YAM receives an asynchronous reply to a former
    SendRexxCommand() call an error message will only be displayed if the
    result is not equal to zero. This is now the same reaction as for a
    synchronous ARexx script. This closes #199.
  * YAM_COs.c, YAM_FO.c, FolderList.c: en/disabling the spam filter several
    times without restarting YAM eventually resulted in multiple folders named
    "Spam", because the folder's node was only removed from the listtree, but
    never from the folder list. When trying to remove the folder a second time
    YAM would work with the previous node pointer and hence was not able to find
    this node in the listtree and in turn did not remove the tree node. Now the
    folder is correctly removed from the folder list. This closes #198.
  * YAM.c, YAM_COs.c, YAM_FO.c: fixed some wrong constants when removing a node
    from the folder listtree. The old constants didn't cause any harm, because
    they have the same value.
  * YAM_AB.c, YAM_US.c: for new users get an empty address book file will now
    be created in case the global address book is not to be copied. This avoids
    an error message about a missing/invalid address book as soon as that new
    user logs in for the first time.
  * YAM_TR.c: the generated .uidl#? filenames for are now stripped of invalid
    characters for AmigaDOS but which might occur in user and host names.
  * YAM_FO.c: removed the path argument from the FO_Load/SaveTree functions
    as we are using a static file name anyway.
  * YAM_UT.c, misc: the CreateFilename() now requires a destination buffer to
    be filled with the full path. This makes this function usable from several
    places and threads at the same time.
  * YAM_TR.c, tcp/pop3.c: reworked the UIDL management. First of all YAM will
    use separate files for each account to avoid any mix up of (in)active and/or
    (un)checked accounts. The filename will be built as ".uidl_<user>_<host>"
    to be unique even for multiple accounts with the same host. The old .uidl
    file will be kept as a fallback, because it may contain UIDLs of multiple
    accounts. The new .uidl_* file will be written only if new entries added
    added to the database. This also means that old and outdated entries will
    vanish only if there are new mails to be remembered. Mails will be rem-
    embered as soon as they were downloaded or just deleted. This respects the
    fact that certain providers don't delete mails immediately but only after a
    proper QUIT command. The result of an aborted download was that already
    deleted mails were downloaded again, even if YAM was configured to avoid
    duplicate mails. All this closes #191. The old style .uidl must deleted
    manually if the user is sure that all contained UIDLs really don't longer
    reside on the server.

2010-08-31 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: moved the Notify creation out of the MA_New() function into
    the CreateDynamicMenus() function and enabled it to dynamically create
    and kill notifies. In addition, the limit for POP3 menus has been raised
    to 30. This should really be enough for people as not all POP3 accounts
    are really required to be a menuitem and users can freely move POP3
    accounts around to get the first 30 items displayed accordingly. This
    refs #190.

2010-08-31 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: adding the POP3 servers to the menu will bail out now after the
    maximum number of ten (10) entries. This closes #190 again.

2010-08-30 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed remaining shortcuts thanks to users feedback.

2010-08-30 Thore Böckelmann <tboeckel@gmx.de>

  * tcp/pop3.c: the current mail server node is now remembered during a POP3
    session. This saves some GetMailServer() calls and also makes it possible
    to abort the session with an opened and already finished preselection list.
    Furthermore allowed the application to perform its event handling while the
    preselection list is filled with data. This closes #195.

2010-08-30 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: changed AROS build to use -O2 as the default optimization level as
    -O3 seems to cause some troubles with AROS compiles.

2010-08-29 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: the output channel for asynchronously launched commands will be
    automatically changed to a new console window in case output to the standard
    channels is requested.
  * YAM_UT.c: launching a command synchronously with output redirected to the
    current standard input/output channels would crash sooner or later, because
    YAM closed exactly these channels. Now the channels are closed only if YAM
    did open them explicitly before. This closes #192.
  * YAM.c: removed the ENTER()/RETURN() calls from the root dispatcher, as this
    clutters a @all log too much without giving any useful additional trace
    information.

2010-08-28 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: added a NULL check when freeing header nodes. This should close
    #193. Please reopen the ticket if that is not the case.
  * YAM_MA.c: setting up the POP3 menu items must increase the index. This
    fixes #190.

2010-08-27 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c, ReadMailGroup.c: the header nodes are now allocated using
    AllocSysObject(). Also fixed a inconsistent usage of malloc() and ASO().
  * YAM_RE.c, YAM_WR.c: the ReadMailData and WriteMailData nodes are now
    allocated using AllocSysObject().
  * MimeTypes.c: the MIME type nodes are now allocated using AllocSysObject().
  * tools/mkrelease.sh: fixed some path issues.
  * YAM_FI.c: the filter and rule list nodes are now allocated using
    AllocSysObject().
  * YAM_FI.c: the search list nodes are now allocated using AllocSysObject().
  * extrasrc/AllocSysObject.c: the allocated memory will no longer be cleared,
    as OS4's function does not do this as well. This may sound bad, but it
    requires us to properly initialize the variables before they are used.
    Additionally the debug build will munge the allocated memory and fill it
    with 0xabadcafe.
  * MailServer.c: initialize all variables since AllocSysObject() does not clear
    the allocated memory.
  * YAM_UT.c, YAM_CO.c: added DuplicateNode() function to easily create a copy
    of a node using AllocSysObject().

2010-08-27 Frank Weber <opionline@yahoo.de>

  * Debug.c: changed all '%d' to '%ld' because KPutFmt() crash on AOS3.

2010-08-26 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest release.

2010-08-26 Thore Böckelmann <tboeckel@gmx.de>

  * tools/mkrelease.sh: the dutch translation was accidentally copied as polish
    translation.
  * YAM.c, MethodStack.c: changed the method stack from a plain list to a
    standard Exec message port. This makes it possible to Wait() for stacked
    method instead of having to poll for them.
  * ImageCache.c: warnings about missing image files will only be issued in case
    neither the NOIMAGEWARNING ToolType nor the theme's NoImageWarning option
    are active. This avoids lots of useless warnings for the "empty" theme.
  * mui/MainMailList.c, YAM_FI.c: the main mail list object can now be told not
    to handle double clicks itself but to let the surrounding stuff handle this
    case. For the mail search window this caused multiple read windows to be
    opened, because the double click in the result list caused the click to be
    handled twice, but the class itself and once again by the search window.
    This closes #187.
  * Threads.c, YAM.c, YAM_UT.c: playback of sound samples is now done inside a
    thread. This makes it possible to play more than one sample at a time.
  * YAM.c, YAM_COg.c: turned the embedded XPK packet list into a dynamically
    allocated list.
  * MailServers.c: the server nodes are now allocated using AllocSysObject().
  * YAM_MAf.c, YAM_RE.c: the header nodes are now allocated using
    AllocSysObject().
  * YAM_CO.c, YAM_COg.c: fixed MailServerNode handling due to allocation using
    AllocSysObject().
  * YAM_COg.c: newly added POP3 server nodes must be added to the list of
    servers.

2010-08-25 Jens Langner <Jens.Langner@light-speed.de>

  * tcp/pop3.c, tcp/smtp.c, tcp/html.c, YAM_TR.c, misc: splitted YAM_TR.c into
    several files under the tcp sub directory. Now all protocol related functions
    are stored in the respective sources files. This should make everything a bit
    more clear and easier to identify where the corresponding functions are.

2010-08-25 Thore Böckelmann <tboeckel@gmx.de>

  * BayesFilter.c, MethodStack.c: the spam filter's and the method stack's
    aribtration semaphores are now accessed only after their proper
    initialization. This closes #186.

2010-08-24 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc.h: added some more forward declarations.
  * YAM.c, YAM_TR.c, YAM_RE.c, TCP.c: completely removed the need for a global
    SocketBase. Each and everything is now handled by the connections.
  * YAM_TR.c: completely switched the SMTP transfer over to the new connection
    based data transfer.
  * mime/md5.c, YAM_TR.c: implemented a conversion of an MD5 digest into a
    hexdump. In contrast to the former conversion this happens in an endianess
    aware way.
  * TCP.c, YAM_TR.c, UpdateCheck.c: refined the connections to make them
    reusable if needed. First of all a connection must be created, then it can
    be used to check the online state of the configured interfaces. Then a host
    can be connected ahead of any data transfer. Finally the connection is
    disconnected and if the connection will not be used anymore it must be
    deleted again.
    The POP3 functions now use a connection for all data transfers. This is far
    from being thread safe yet, but we did a step more towards this goal.
  * TCP.c: in case MakeSecureConnection() fails for any reason the error value
    will always be set accordingly.
  * TCP.c: never use SocketBaseTags() but its non-vararg SocketBaseTagList()
    instead. We are dealing with a local SocketBase instead of a global one
    and our varargs replacement does not/cannot obey this fact.

2010-08-24 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some shortcuts and correct a few errors.

2010-08-24 Jens Langner <Jens.Langner@light-speed.de>

  * TCP.c,h, tcp/Connection.c,h: renamed TCP.c,h to tcp/Connection.c,h. Now all tcp
    network related stuff should be placed in the new subdirectory so make it
    easier to identify the various source files which deal with network stuff.
  * YAM_TR.c, TCP.c: added __NOLIBBASE__ and __NOGLOBALIFACE__ define right
    before including <proto/bsdsocket.h>. This should assure that no global
    socket base pointer is defined at all. One day this will help to keep
    the tcp stuff threadsafe.
  * YAM_TR.c, YAM_transfer.h: SMTP-AUTH support was broken due to incorrectly
    used flag variables. Now the full functionality should be restored. This
    fixes #185.

2010-08-23 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c, TCP.c: added new TCP module to handle single connections. Setting
    up a connection just takes a host and a port. Further actions are then
    sending and receiving data across this connection. After the setup the
    connection can be made secure using AmiSSL. Each connection knows if and
    when to get a private SocketBase and hence is safe to be used in a thread.
    So far only TR_DownloadURL() uses a connection, but this will change in
    the near future for POP3 and SMTP transfers as well.
  * YAM_TR.c: the argp parameter of IoctlSocket() must be a long. Using a char
    variable produced the desired result only by pure luck, but at least peeked
    around somewhere on the stack.
  * MailServers.c: slightly simplified the mail server comparison.

2010-08-22 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: initialize the debugging framework a bit earlier to be able to
    correctly catch any ENTER()/RETURN() macros in called functions like
    GotoURLPossible(). This might have caused #183.

2010-08-20 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_stringsizes.h: removed MAXP3 define as we have no limit on max. amount
    of POP3 servers anymore. Only the number of entries in the main menu
    will be limited with MAXP3_MENU.
  * MailServers.c,h, misc: partly merged the new mail server management
    functionality from our newtransfer branch back onto the trunk again.
    This include a changed mail server management to use exec lists which are
    structured via "MailServerNode" and put into a List in our main
    configuration structure. This finally provides internal facilities to
    manage an unlimited amount of POP3 or SMTP servers. However, the
    graphical configuration for the multiple SMTP server functionality is
    still pending. Thus, this partly addresses #41.

2010-08-20 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: split the old MA_UpdateIndexes() function into two separate
    functions, since updating/flushing and rebuilding an index in fact don't
    have anything in common.

2010-08-19 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some more shortcuts and correct a few errors.

2010-08-19 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c, Timer.c BayesFilter.c, mui/YAM.c: flushing the spam filters
    training data is now done inside a thread.
  * misc: completely rewrote the thread framework. Instead of launching a thread
    whenever one is needed we now have a self-expanding pool of threads (4 by
    default) which then get loaded with work. Currently only the asynchronous
    lauching of external commands is implemented, but extended this is quite
    straight forward and very easy. All in all this is much more intuitive and
    less error prone than the previous approach. Additionally it doesn't need
    lots of separate functions for different, but similar things.

2010-08-18 Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped the minimum required version of the NList classes to what
    have been recently released as a new hotfix version 0.107 of NList.
  * Debug.h: added <inline/macros.h> include statement to get the debug sources
    compatible to the old gcc 2.95.x compile as gcc 3.4.0 doesn't seem to be
    that stable for m68k builds :(

2010-08-17 Jens Langner <Jens.Langner@light-speed.de>

  * Debug.h, include/netinclude: switched all inline files to use the correct
    LPXXX() macros rather than defining the macros on our own. This should
    make our code compatible to gcc 3.4.x compiles for m68k-amigaos.

2010-08-17 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update to the latest development changes.

2010-08-16 Jens Langner <Jens.Langner@light-speed.de>

  * misc: now that a new NList release is out we are finally using some new
    features from it (MUIM_NList_SetActive). This of course required to
    increase the minimum required version of NList to 20.125.

2010-08-16 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: make it more verbose and correct a few errors.

2010-08-16 Thore Böckelmann <tboeckel@gmx.de>

  * mui/ReadMailGroup.c: the header list NList object and the surrounding
    NListview object are treated as equal for the standard edit operations.
  * YAM_UT.c: the LaunchCommand() function now returns the return code of the
    launched command in the synchronous case and RETURN_OK/_FAIL for the asynch-
    ronous case to signal success/failure of the thread creation. This makes it
    possible to use this function for all PGP calls instead of having to
    implement the same stuff again there.
  * YAM_UT, YAM_ER.c: the error reporting code about a failed command execution
    no longer needs check which thread it is running in. This is done by the
    error window now.
  * Threads.c: added a function to check wether the code is running in the main
    thread or in one of the subthreads.

2010-08-15 Thore Böckelmann <tboeckel@gmx.de>

  * misc: a failed command execution will now always be reported using the well
    known error message window. This finally closes #11. The main thread is no
    longer an embedded structure in the global data but allocated dynamically
    like any other subthread. First, this is more consistent, and second, this
    causes much less dependencies of the source code files.

2010-08-15 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/DoSuperNew.c, extrasrc.h: added an own AROS version of the
    DoSuperNew() function which itself uses the DoSuperNewTagList() function
    to call the super-class OM_NEW method instead of using DoSuperMethod().

2010-08-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: fixed a double removal of a node from a list (RemHead() first,
    Remove() later) which might have caused a file to be closed twice.

2010-08-14 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/NewReadArgs.c: replaced all oldstyle CopyMem() uses by proper
    overflow safe uses of string functions.
  * extrasrc/NewReadArgs.c,h: unified the "public" and "private" NewRDArgs
    data structure as we are utilizing it anyway completely. In addition, the
    data alignment enforcement has been removed. All together this fixes #178
    where a Close() has been executed on an invalid file handle due to the
    wrong structure alignment of NewRDArgs.
  * misc: removed all unnecessary "if(X != NULL)" checks right before a free(X)
    operation. free() is known to perform save even on NULL pointers. So the
    additional check in our sources is really not required. In addition it
    should be slightly faster and more readable under certain situations.

2010-08-13 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update to the latest development changes.

2010-08-13 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed a bug in the DeleteZombiFiles() function where in case of
    a undeletable file the zombie node has never been readded to the list and
    thus a subsequent call to DeleteZombieFiles() always succeeded.
  * Threads.c, YAM.cd: changed the thread exit warning requester to use
    localized strings and be a bit more verbose as well as more intuitive
    button texts.
  * Requesters.c: the '_' character will now be stripped from the gadget text
    in case a pure intuition requester will be shown with MUI_Request().
  * Debug.c: now that we have our thread framework finally running, the debug
    framework required some changes to actually display/synchronize and manage
    the debug output throughout multiple threads. Now a thread ID number will
    be output together with an debug class identifier. This should make the
    whole debug framework more thread-safe and actually usable to output
    debug information from different threads in parallel.
  * YAM_UT.c, extrasrc/stristr.c: moved the stristr() function from YAM_UT.c
    to its own source file in the 'extrasrc' path as it better fits there.

2010-08-13 Thore Böckelmann <tboeckel@gmx.de>

  * AllocSysObject.c: make use of the OFFSET_OF() macro.
  * Threads.c: still running threads upon termination are no longer aborted,
    as this causes crashes. The user has the choice to wait until the threads
    have terminated or to blindly ignore the threads. However, ignoring still
    running threads will definitely cause a crash as soon as the thread
    terminates after YAM has exited, because that thread will access already
    deallocated memory then.
  * misc: lots of changes to get the thread framework running. Clicking on an
    attachment now launches a new thread which then will run the associated
    command.

    WARNING: don't let commands launched by YAM in a separate thread run beyond
    YAM's time of living!! Although you will be notified about still running
    threads and have to choice to wait for the thread to terminate this is not
    yet working as expected and will very probably crash your machine.
    You have been warned!

  * YAM_MA.c: hitting the DEL key now takes both the mail list and and mail
    listview into account. This fixes the reported "unable to delete mail"
    issue.
  * YAM_UT.c: stristr() must *NOT* use the ENTER()/RETURN() macros, as this
    function is already used when the debug environment is not yet completely
    up and running. Calling ENTER() in that situation will cause infinite
    recursions due to the module check of ENTER().
  * YAM_UT.c: made stristr() NULL pointer safe.
  * Debug.h: fixed wrong SHOWTAGS() definition for the non-debug build.
  * extrasrc/AllocSysObject.c, extrasrc/ExamineDir.c: fixed SHOWTAGS() call.

2010-08-12 Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: switched all allocations to AllocSysObject().
  * extrasrc/AllocSysObject.c: fixed some inconsistencies with message objects.
    ASOMSG_Length will only set the mn_Length variable.
  * Debug.c: added a signal semaphore to serialize debugging from different
    threads.
  * Threads.c: added missing sending of startup message to the new thread.

2010-08-12 Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c,h: slightly reworked all our main debug functions so that a
    "module" name can be added in the form of a define statement. This should
    bring our debug framework to somewhat more like the public librtdebug
    library. This is not finished yet and things like a thread-aware output
    as well as managing indent levels per thread need to be implemented.
  * YAM.c: moved the first MA_ChangeFolder() call in InitAfterLogin() after
    the final MUIA_Window_Open call to the main window. This should fix the
    problem that after the first start the listview is not centered on the
    active entry.
  * MainMailList.c, MainMailListGroup.c, rexx/setmail.c, rexx/setmailfile.c,
    include/mui/NList_mcc.h: updated the public NList include header with the
    latest one available and utilized the new MUIV_NList_Jump_Active_Center
    value with the MUIM_NList_Jump method usage.

2010-08-11 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/NewReadArgs.h, include/NewReadArgs.h: moved the NewReadArgs
    header file from our global "include" directory where third-party
    headers are usually placed to our "extrasrc" directory path to make it
    more clear that this function is part of our app.
  * YAM.c: fixed a potential memory leak where ExtHelp was checked but this
    structure element is set immediately to NULL when ParseCommandString() is
    finished with execution.
  * extrasrc.h, extrasrc: slightly reworked the whole "extrasrc" management
    a bit and introduced NEED_XXXXX defines which define on which platform certain
    functions are required. This is then in line with what is defined in the
    individual Makefile part of that platform, thus should be easier to
    understand. Furthermore, all sources in 'extrasrc' check now if the proper
    NEED_XXXX define is set during compilation, which might point at some
    missing definition or unnecessary compilation of that file. All in all
    this should now hopefully fix #177.

2010-08-11 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/NewReadArgs.c: fixed a possible memtrack warning due to the use of
    memory pools in the NewReadArgs() function. Also completely dropped the more
    than ancient and unused "Remember" support. Finally fixed a buffer overrun
    in case the WINDOW tooltype was used.
  * extrasrc.h: added missing HAVE_(V)SNPRINTF definitions. This fixes the OS4
    build.
  * extrasrc.h: added some HAVE_#? definitions for all systems.
  * extrasrc/vasprintf.c: make sure that our vasprintf() implementation returns
    a NULL buffer in case of an error.
  * mui/AttachmentImage.c: use asprintf() instead of malloc() and snprintf().
  * YAM.c: use asprintf() instead of malloc() and snprintf() with a fixed buffer
    size for the extended help.
  * all classes: some general code cleanup in the subclasses.

2010-08-10 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: adapted to the latest catalog descriptor.

2010-08-10 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c, locale/YAM.cd: there is no need to annoy a user with a requester
    that the folder constraint in a filter has been renamed or removed. The
    user already acknoledged the change by his own operation and thus it is
    clear that the operation is performed to all areas including the filters.

2010-08-10 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c, YAM_FI.c: reworked the automatic filter adaption. The user will
    only be notified that the mail filters are modified, as it makes no sense
    to keep a non-working filter. Additionally the filters will also be adapted
    in case a folder is deleted. The modifications to the filters are not saved
    immediately!
  * locale/YAM.cd: changed the requester's wording due to the last change.
  * YAM_FO.c, YAM_FI.c: the "do you want to modify the filters" question will
    pop up only in case the folder is used by any filter at all.
  * YAM_FO.c, YAM_FI.c: after changing a folder's name the user will now be
    asked if the mail filters should be adapted accordingly in case they are
    configured to move mails to this folder. This closes #116.

2010-08-09 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocSysObject.c: use a union of all supported object type to avoid
    lots of type casts.
  * extrasrc.h: cleaned up the file. No longer defines lots of NEED_#? only just
    to define the corresponding HAVE_#? a few lines later. This and the last
    change very probably will break compatibility with non-GCC compilers.
  * extrasrc: removed the combined extrasrc.c file and let the build process
    compile each imported module separately. This change has the big advantage
    that a modification to one of the modules does not require to "touch"
    another source to let "make" recognize the modification.
  * YAM_FO.c: fixed some possible memory leaks and locked mail lists in case
    something went wrong during the mailing list pattern search.
  * mui/Aboutwindow.c: fixed wrong usage of MUIV_Notify_Self. This closes #176.

2010-08-08 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed tons of erroneous shortcuts and removed all wrongly
    ellipsis notifications that means no more compiling error with FlexCat 2.7!

2010-08-07 Jens Langner <Jens.Langner@light-speed.de>

  * locale/french.ct: fixed some flexcat warnings regarding missmatched
    parameters. Please check your catalogs with FlexCat 2.7+ in future before
    submitting them.

2010-08-06 Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2010-08-06 Jens Langner <Jens.Langner@light-speed.de>

  * www/nightly.yam.ch: added yam-build.sh script to our repository. This one
    creates the nightly builds and can now be tuned by everyone ;)

2010-08-05 Thore Böckelmann <tboeckel@gmx.de>

  * Makefile: slightly modified the dependencies for the classes to avoid the
    permanent GenClasses invokation even without any changes to the public stuff
    of the classes (methods, attributes, etc).

2010-08-05 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2010-08-03 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, mui/MainWindow.c, mui/Aboutwindow.c: implemented some more hooks
    as methods.
  * YAM_MA.c, YAM_UT.c, mui/MainMailList.c: moved the "set mail info" hook
    to a separate method of the list.
  * mui/ReadMailGroup.c, mui/WriteWindow.c: disabled the "default object on
    click" for the last to instances.

2010-08-02 Frank Weber <opionline@yahoo.de>

  * TODO: Removed the part about a additional config flag to turn off the
    requester that opens after the filters have done their work because it's
    already implemented on 2010-03-09. Remove the "birthday check" part from
    "Automation for the usual Start/Quit events". It's done since 2010-03-10.

2010-08-02 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_UT.c, mui/MainFolderListtree.c: moved the "set folder info"
    hook to a separate method of the listtree.
  * YAM_MA.c, mui/MainFolderListtree.c: moved the folder tree double click hook
    to a separate method of the listtree.
  * ImageCache.c: changed a warning to a normal debug message to reduce the
    massive amount of messages during the startup phase.

2010-07-30 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed tons of warnings with FlexCat 2.7 caused by recent
    modifications, then updated to the latest changes.
  * Hey how about find a method for suppressing trailing ellipsis notifications!

2010-07-30 Thore Böckelmann <tboeckel@gmx.de>

  * locale/YAM.cd, locale/german.ct: added some ellipsises.
  * YAM_MAf.c: several active "jump on xxx" config settings will now do what
    one would expect. I.e. having "jump to new" and "jump to recent" active
    will first try to jump to the first unread message of a folder before
    proceeding to the most recent message. The possible jump happens in this
    sequence: new -> last active -> most recent -> first
  * mui/MainMailListGroup.c: removed the catch of the MUIA_NList_SelectChange
    attribute. The former redirection of setting the active liste entry was
    complete nonsense, as the attribute is a boolean one. Interpretin such a
    value as a position which would have caused the wrong reaction. Even the
    attempt to avoid passing this attribute the group parent is not necessary
    as group object would ignore the unknown attribute anyway.
  * misc: simplified the centered display within the main mail list a bit.
  * YAM_MA.c, mui/MainMailListGroup.c: use the NListview objects to set up the
    left/right key focus feature instead of the NList objects for consistency
    reasons. In any case the NListview object must become the active object
    instead of the embedded NList object.
  * YAM_MA.c, YAM_MAf.c, mui/MainMailList.c: use the new "centered jump" feature
    of NList.

2010-07-29 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: jumping to a different entry in the mail list will now first
    center the list view on this item before making it the active one. This
    requires a yet unreleased version of NList.
  * YAM_TR.c: an empty IOCInterface string caused YAM to assume that the TCP/IP
    stack was offline. Hence empty strings are now treated as "TCP/IP online".
    This closes #174.
  * UpdateCheck.c, YAM_MA.c: an update checktriggered by the user but without
    any new updates will no longer be quiet but instead inform the user. This
    closes #80.
  * YAM_RE.c, locale/YAM.cd, locale/german.ct: the title of the save attachment
    requester will now be set in respect of the content type of the file to be
    saved. This closes #24.
  * YAM_MA.c, mui/MainWindow.c, mui/MainMailListGroup.c: the "active object on
    click" feature of NList must operate on listview objects instead of the em-
    bedded list objects. Thus we have to distinguish between these two in lots
    of places. Together with the latest modificiations to NList itself this
    closes #14. The bug is already fixed without the NList modifications, but
    there will still be the annoying active borders because of a limitation of
    the current NList release.

2010-07-28 Jens Langner <Jens.Langner@light-speed.de>

  * STYLEGUIDE: added a section on "enum" types and the use of "const" wherever
    possible.
  * YAM_TR.c: added Trim() operation to the execution of CheckSingleInterface().
    This addresses some latest concerns regarding the implementation, see #39.
  * YAM_TR.c: slightly optimized the CheckSingleInterface() and all other
    corresponding functions regarding interface online checking.

2010-07-28 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: variables passed to SocketBaseTags() must be full 32bit wide,
    otherwise some information might get lost.
  * YAM_TR.c: allow space separated interface names aswell as the single names
    must not contain space characters at all.
  * YAM_TR.c, YAM_CO.c, YAM_COs.c: implemented a multiple interface check to be
    able to specify more than just a single interface to be checked to be
    online. It is now possible to provide a comma separated list of interfaces
    to be checked in the advanced section of YAM's config (i.e. "eth0,ppp0").
    This closes #39.

2010-07-27 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc.h, extrasrc/ExamineDir.c, extrasrc/AllocSysObject.c: replaced
    incorrectly used "PPC" defines with the correct "__PPC__" ones. This was
    indeed the reason why the MorphOS compile showed a strange behaviour when
    running the index rescanning after having switched to MOS 2.5 SDK. This
    should finally fix #173.

2010-07-27 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/ExamineDir.c: yet another fix to make sure that the IoErr() value
    of the ExAll() call is correctly returned. Otherwise the calling function
    might bail out because of an error which never happened.

2010-07-26 Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: added "tags" debug class to display complete tag lists.
  * extrasrc/ExamineDir.c: make sure to set DOS' IoErr to ERROR_NO_MORE_ENTRIES
    if that error code was not already returned by the ExAll() call.
  * YAM_MAf.c, YAM_UT.c, YAM_WR.c, mui/ThemeListGroup.c: output DOS' IoErr()
    value in case the ExamineDir() call failed.
  * extrasrc/ExamineDir.c: added a proper ExAllEnd() call in case the looped
    ExamineDir() call was aborted prematurely before.
  * include/SDI_compiler.h: adapted IPTR and SIPTR definitions as the latest
    MorphOS SDK already contains them.
  * Debug.h: modified the memory tracking macros for the MorphOS build to match
    the non-debug definition. Otherwise wrong tag lists might be used.

2010-07-20 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: first compile with FlexCat 2.7 OS4 PPC!
    Fixed some errors and update to the very latest YAM.cd

2010-07-20 Jens Langner <Jens.Langner@light-speed.de>

  * locale/YAM.cd, locale/deutsch.ct: removed all exclamation marks from
    sentences where it wasn't really necessary. We should really try to keep
    away from ending sentences with exclamation marks as we don't want to
    scream at our users and the importance should be better put into the
    wording of the sentence and into the presentation of the GUI. All
    translators should also go through their translations now and make
    sure to sync them to what is used in YAM.cd.
  * extrasrc/ExamineDir.c,h: fixed compilation by adding the missing EAD
    defines and corrected its usage accordingly.
  * mui/YAM.c: slightly changed the $VER: string generation to fix a
    compiler warning observed with the MOS compiles.

2010-07-20 Thore Böckelmann <tboeckel@gmx.de>

  * mui/request windows: make sure that every requester window gets a window
    title at all if none given. "YAM" will be used as default.
  * YAM_TR.c, locale/YAM.cd: the notification message now distinguished between
    a single and multiple received mails. This closes #32.
  * locale/italian.ct: removed some excessive "\" characters.
    Translators, please make sure that there is NO "\" at the end of the last
    line of a single translation. I really recomment to use FlexCat 2.7, which
    will print lots more warnings for bugs like this.

2010-07-19 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian translation.

2010-07-19 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/ExamineDir.c: the ExamineDir() reimplementation directly returned
    the type value from the ExAll() call instead of converting it to the
    ExamineDir() style. This confused the calling function to ignore files
    which certainly should have been found. This closes #173.

2010-07-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: fixed the wrong tag value adaption. Although the v1 interface
    uses broken tag item defintions this only applies to the functions
    implemented in the very first release. The Notify() function uses proper
    tag item values and hence these don't need to be adapted. This closes
    #171.
  * locale/german.ct: fixed a translation quirk.
  * YAM_COs.c: disabling the spam filter resulted in an inactive filter on the
    first sight, but internally all config items regarding to the spam filter
    were set back to their default values, which in fact means "spam filter
    active". Now the spam filter is correctly disabled. This closes #149.

2010-07-17 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/ExamineDir.c: added some debug output to the ExamineDir()
    reimplementation.

2010-07-16 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: added some more debug output to the mail folder scanning to
    catch a possible problem on certain MorphOS systems.

2010-07-15 Thore Böckelmann <tboeckel@gmx.de>

  * misc: replaced several version checks by the LIB_VERSION_IS_AT_LEAST()
    macro.

2010-07-14 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: fixed MSG_MA_ReplyReqOpt translation.

2010-07-07 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: the notifications for colored text did only take changes
    between pens 0 and 7 into account, but neglected other colored text, i.e.
    because of being quoted.

2010-06-29 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: added a top-level Makefile to allow to compile YAM without
    having to dive into the 'src' directory.
  * tools/mkrelease.sh: got rid of the pushd/popd combo as these commands
    are not supported by all different shell flavours.

2010-06-29 Thore Böckelmann <tboeckel@gmx.de>

  * locale/#?.ct: fixed some serious translation issues due to the improved
    checks of the new FlexCat version.

2010-06-28 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update Polish translation.

2010-06-28 Thore Böckelmann <tboeckel@gmx.de>

  * mui/YAM.c: set up a correct and not too long Commodity title string. This
    finally fixes the last PatchWork hit of #170.

2010-06-27 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile,Makefile.dep: changed the dependency file generation once more
    to also catch the cases where the object files are stored in subdirs of
    our $OBJDIR hierarchy.

2010-06-26 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian translation.

2010-06-26 Frank Weber <opionline@yahoo.de>

  * mui/BirthdayRequestWindow.c: Use the correct MSG_... for MakeCheck().
  * locale/german.ct: Add a shortcut in MSG_BIRTHDAYREQUEST_DONTSHOWAGAIN
    for the checkbox in the birthday requester.
  * locale/german.ct: Fixed some double used shortcuts.

2010-06-26 Jens Langner <Jens.Langner@light-speed.de>

  * Makefile,Makefile.dep: fixed dependency creation by reintroduction the
    patching of the Makefile.dep file via 'sed' so that the dependencies are
    relative to the '.obj_XXX' directories which prevents the whole dependencies
    from working lately.
  * mui/BIrthdayRequestWindow.c, YAM.c: removed the whole birthdayCheckSemaphore
    mechanism as a semaphore doesn't seem to be required. Please keep in mind
    that the GUI functionality will always be executed in the same process/task
    even if we introduce multithreading in future. This means that in even in
    future all GUI/MUI operations are executed in the same thread and thus a
    locking via a sempahore is unnecessary AFAICS.
  * SDI_hook.h: updated to the very latest version of the hook macros to
    fix problems with AROS compiles.

2010-06-24 Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: added missing LF at the end of the file. FlexCat for
    Unix needs this one.
  * mui/BirthdayRequestWindow.c: added a few 'static' and 'const' keywords.
  * Debug.c: clear the semaphore structure before calling InitSemaphore(). The
    "CxBroker" hit is harmless as commodities.library will truncate too long
    strings automatically. This closes #171.
  * YAM.c, mui/BirthdayRequestWindow.c: changed the embedded semaphore structure
    into a dynamically allocated one. This supports OS4's resource tracking.

2010-06-24 Frank Weber <opionline@yahoo.de>

  * YAM_AB.c, YAM.h: Revert the changes for changeset 4725 and 4723
    (2010-05-30) because they are not needed with the checkbox into
    the birthday requester.

2010-06-23 Frank Weber <opionline@yahoo.de>

  * mui/BirthdayRequestWindow.c, YAM.c, YAM.h, locale/YAM.cd:
    Add a checkbox to the birthday requester. If the user leave the checkbox
    enabled then the user and alias is saved to a file PROGDIR:.birthdaycheck
    and the birthday requester for this user and alias is not displayed again
    on the same day. This closes #16.
  * locale/german.ct: updated translation according to the latest changes.

2010-06-21 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: minor updates on translation.

2010-06-17 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: minor updates on translation.

2010-06-17 Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c, YAM_MA.c: in case an ARexx script could be successfully sent off to
    the REXX process but failed later (i.e. no real ARexx script) an error
    message will now be shown.
  * Makefile: build mui/Classes.o as soon as the new class descriptions have
    been created. This solves the issue of undefinied references in case a new
    class has been added and the need of a recompile in case new class
    attributes have been defined.

2010-06-15 Thore Böckelmann <tboeckel@gmx.de>

  * src/YAM_FI.c: clicking on "Select matched" in the search window will now
    correctly refresh the main window's toolbar and menu items to reflect the
    selection.
  * mui/MainWindowToolbar.c: fixed an inconsistency when automatically marking
    previously found mails from the search window. The "Spam" button could be
    left inactive although there were mails selected and not yet marked as spam.

2010-06-14 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: simplyfied the recipient setup by redirecting the horse
    work to the Recipientstring class.

2010-06-13 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c, mui/Recipientstring.c: moved the AB_InsertAddress() function as
    a private static function to the Recipientstring class as it didn't have any
    dependencies to other functionality.

2010-06-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: removed the limitation that a Recipientstring object must have
    MUIA_UserData set to be able to append recipients instead of replacing
    everything. Furthermore the added recipient will no longer be assembled
    manually but using the respective method of the Recipientstring class.

2010-06-11 Thore Böckelmann <tboeckel@gmx.de>

  * mui/Recipientstring.c: a possible "mailto:" header in front of an address
    will now be stripped upon resolving the complete string. This closes #93.

2010-06-07 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: the tabs' title texts and several other static texts were
    initialized on the very first use only. Restarting YAM by choosing "Restart"
    from the project menu closed YAM's catalog and reopened it later. This could
    result in invalid pointers the next time the write window was opened again.
    Now the pointers are initialized every time. We really must get rid of these
    static variables!! This closed #167.

2010-06-06 Thore Böckelmann <tboeckel@gmx.de>

  * include/SDI_compiler.h: updated to latest version.

2010-06-05 Jens Langner <Jens.Langner@light-speed.de>

  * misc: implemented new hidden option and functionality "ExpungeIndexes"
    which takes number of seconds for which the index of a custom folder
    will be automatically expunged together with the writeindexes timer.
    This should allow to automatically free memory in case a folder hasn't
    been used for a long time. The default for this option is 10 min.
    This fulfills and closes #144.

2010-06-02 Frank Weber <opionline@yahoo.de>

  * STYLEGUIDE: 10. Variables: Add a hint about using static Variables.

2010-05-31 Thore Böckelmann <tboeckel@gmx.de>

  * locale/italian.ct, locale/polish.ct: removed unused translation from
    italian catalog and fixed missing identifier in polish catalog.

2010-05-30 Mariusz Danilewicz <mandi@interia.pl>

  * locale/polish.ct: update polish catalog at the latest changes.

2010-05-30 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog at the latest changes.

2010-05-30 Thore Böckelmann <tboeckel@gmx.de>

  * mui/BirthdayRequestWindow.c: added some missing folding markers and set the
    svn:eol-style property.

2010-05-30 Frank Weber <opionline@yahoo.de>

  * YAM.h, YAM_AB.c: Store the LastBirthdayCheckDay into the global struct
    instead of a static variable.
  * mui/BirthdayRequestWindow.c: Add a Window_ID to the birthday requester
    so a user can snapshot the window position and set individual settings
    for that window.
  * YAM_AB.c: Don't show the birthday requester twice on the same day in the
    same YAM session. This closes #166.
  * locale/german.ct: updated translation according to the latest changes.
  * YAM_AB.c, locale/YAM.cd: Add the date to the birthday requester.
  * YAM_CO.c: Change the default BirthdayCheckTime from 10:00 AM to 00:00 AM.
  * YAM_AB.c, mui/BirthdayRequestWindow.c, Makefile: Add a nonblocking birthday
    Requester. This closes #47 and partly #16.

2010-05-26 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog.

2010-05-26 Thore Böckelmann <tboeckel@gmx.de>

  * MimeTypes.c, locale/YAM.cd: added application/pgp-signature to the internal
    MIME type list.
  * YAM_WR.c: added some const qualifiers.

2010-05-21 Jens Langner <Jens.Langner@light-speed.de>

  * include/mui: updated the mui includes to match the latest released
    version.

2010-05-19 Jens Langner <Jens.Langner@light-speed.de>

  * locale/polish.ct: updated polish catalog translation kindly provided by
    Mariusz Danilewicz.

2010-05-18 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c, mui/WriteWindowToolbar.c: correctly declared the style
    buttons as toggle buttons and modified some notifications to not trigger
    any further notifications when modifying the buttons' states. All in all
    this fixes bug #3002917. Modifying the style using the menus always worked
    as expected. Just the buttons were not showing the correct state.
  * locale/german.ct: fixed a very strange translation.

2010-05-17 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: the attachment list now uses the same size formatting as
    all other classes instead of displaying the plain byte size of a file.
  * YAM_FI, YAM_COs.c: restored the old string search behaviour when reading the
    configuration file. Thus DOS patterns are the default again.
  * YAM_COs.c: fixed a small bug which prevented the DOS pattern setting to be
    correctly recognized upon loading the configuration.

2010-05-16 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: fixed a minor memory leak where upon using the new BoyerMooreSearch
    the temporary allocations have never been freed.

2010-05-14 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: updated spanish catalog translation.

2010-05-13 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_write.h, YAM_MA.c, ReadWindow.c, ReadMailGroup.c, YAM_FI.c:
    when replying to a mail while some text is currently selected in the
    corresponding read window or embedded read pane, the new reply window
    will only contain quoted text which is based on the selected text portion.
    This closes #164.

2010-05-12 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog.

2010-05-12 Thore Böckelmann <tboeckel@gmx.de>

  * BoyerMooreSearch.c, YAM_FI.c: implemented a fast string search using the
    Boyer-Moore string search algorithm. This approach is faster than the usual
    substring search using AmigaDOS patterns and allows the user to search for
    strings which cannot easily be found because of special forbidden characters
    in AmigaDOS patterns (i.e. [, ], *, #, ?, etc). However, the old pattern
    based string search is still available, but must be specified explicitly.
    The new search algorithm may also be used for YAM's filters.
  * YAM_COs.c: added loading and saving of the extended string search.
  * mui/QuickSearchBar.c: use new Boyer/Moore search here as well.

2010-05-12 Jens Langner <Jens.Langner@light-speed.de>

  * Aboutwindow.c: added Emilio Jimenez to the list of active translators.

2010-05-10 Thore Böckelmann <tboeckel@gmx.de>

  * Makefile, doc/Install-YAM: added new spanish translation to the catalog
    generation and to the Installer script.

2010-05-09 Emilio Jimenez <ejim@ono.com>

  * locale/spanish.ct: added spanish catalog translation.

2010-04-30 Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: slightly reworked the CheckMCC() function to not only rely on
    MUI object creation as some classes may return NULL if some attributes
    are missing at object creation. Also PROGDIR: checking seems not required
    as OpenLibrary() already checks PROGDIR: per default.

2010-04-28 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed some unused space.

2010-04-25 Thore Böckelmann <tboeckel@gmx.de>

  * DockyIcon.c: the full application path is now specified when registering
    YAM at application.lib.

2010-04-24 Frank Weber <opionline@yahoo.de>

  * YAM_CO.c: Add a workaround for a MUI 3.8 bug to show the colors for the
    Poppen objects on OS3.x.
  * YAM_COs.c: Disable all Poppen objects according to the UseTextColorsRead
    setting and do some cosmetic changes. This closes #162.

2010-04-23 Thore Böckelmann <tboeckel@gmx.de>

  * misc: spread some static and const keywords.

2010-04-21 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: added missing NULL pointer check for output file. Having no output
    file is a valid situation. This closes #160.
  * YAM_UT.c: added "eml" extension to the name pattern of the mail export
    requester now that we suggest "<subject>.eml" for single exported mails.

2010-04-20 Thore Böckelmann <tboeckel@gmx.de>

  * Makefile, tools/mkrelease.sh: added shell script file for building the
    release archives for the various platforms. As usual this script takes the
    build OS ID as single parameter (i.e. "mkrelease.sh os4" to build for
    AmigaOS 4.x).
  * doc/Install-YAM, tools/mkrelease.sh: added polish translation to Installer
    script and release build script.
  * mui/Aboutwindow.c: added Johan Banis and Mariusz Danilewicz to the list of
    translators.

2010-04-20 Jens Langner <Jens.Langner@light-speed.de>

  * locale/dutch.ct: updated dutch catalog translation according to the latest
    changes supplied by Johan Banis.
  * locale/polish.ct: updated polish catalog translation kindly provided by
    Mariusz Danilewicz.

2010-04-19 Thore Böckelmann <tboeckel@gmx.de>

  * DockyIcon.c: registering YAM at application.lib didn't respect the fact that
    even with a new V2 interface the build system's SDK could be slightly out-
    dated and still use the old V1-only tag definitions. This closes #158.
  * DockyIcon.c, YAM.c, YAM_TR.c: replaced the remaining wrong uses of V1
    application.lib tags with a V2 interface and vice versa.
  * Makefile: added dutch translation to release target.
  * doc/Install-YAM: added dutch translation to Installer script.
  * Makefile: modified release target to no longer export certain directories
    from the repository but to copy directly from the currently checked out
    version.
  * YAM_UT.c: slightly changed the DateStamp to string conversion and vice versa
    to correctly strip the days if only the time is of interest.
  * Rexx.c, rexx/help.c: added terminating dummy entry to avoid a crash in the
    ARexx HELP implementation. This closes #159.
  * YAM_MAf.c: in case a mail contains no From: header line YAM now tries to
    construct a valid sender from a possible Sender: header line. This might not
    be perfect, but it is better than no name at all. This closes #117.

2010-04-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, DockyIcon.c: fixed the mixed up usage of V2 tags with a V1 interface
    of application.library. The old V1 interface used completely broken tag
    definitions which collided with standard tags like TAG_IGNORE or TAG_MORE.
    This is worked around by trying to obtain the V2 interface first and fall
    back to the V1 interface upon failure. The function calls then must be
    adapted to use the correct tag definitions for the two possible interface
    versions.
  * YAM_FI.c, MimeTypes.c: fixed the still wrong list comparison.

2010-04-17 Jens Langner <Jens.Langner@light-speed.de>

  * misc: moved all the new (but not yet working) transfer/preselection window
    related stuff to a separate SVN branch "newtransfer-2.7" and removed the changes
    from the main trunk. This should make the nightly builds actually usable again
    for people wanting to test other things or wanting to report on other bugs.
    So until all the new stuff isn't finished and at least tested a bit we are not
    going to move that to the main trunk again so that the nightly builds are at
    least a bit usable again. However, please note that nightly builds are still
    considered "unstable". So only use them if you can deal with that and the
    potential bugs they might still have.

2010-04-15 Jens Langner <Jens.Langner@light-speed.de>

  * locale/dutch.ct, Makefile: added dutch catalog translation kindly provided by
    Johan Banis.

2010-04-11 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_COs.c: implemented DSS_SHORTTIME for DateStamp2String() functions
    so that the time can be output without seconds. This completes the functionality
    requested in ticket #145.

2010-04-11 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: when exporting mails the file name returned by the file requester
    is now checked to be non-empty. Although I could not reproduce ticket #154
    this should fix it and thus closes #154.

2010-04-09 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: fixed italian catalog according to users request.

2010-04-09 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: the XPK scanning duplicated the found packers in a wrong way so
    that the resulting capability flags were completely screwed up and the
    displayed lists in the configuration window showed the wrong packers. For
    example the IDEA packer was no longer recognized as being able to encrypt.
    This closes #152.
  * YAM.c: scanning the XPK compressors could result in a wrong final result if
    querying the info of one compressor failed but the next one succeeded.
    Additionally the query structure is now allocated dynamically instead of
    placing it on the stack.

2010-03-31 Frank Weber <opionline@yahoo.de>

  * YAM_UT.c: Initialize the DateStamp->ds_Days in the functions
    String2DateStamp() and DateStamp2String() if DSS_TIME is used.
    This closes #145.
  * YAM_AB.c: Do the birthday compare only if here is really anthing to compare.
  * YAM_COs.c: minor cosmetic change.

2010-03-25 Frank Weber <opionline@yahoo.de>

  * YAM_COg.c, YAM_FI.c, YAM_main.h, YAM_stringsizes.h, locale/YAM.cd:
    Add 2 entries in the config script list which allow to run a script before
    and after YAM does a filter action.
  * locale/german.ct: updated translation according to changes above.
    This closes #112.
  * NOTE: The scripts are called before/after getting mails *and* if the user do
    a local filter action (click the filter button, do a Arexx mailfilter or use
    the menu).

2010-03-24 Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech catalog translation.

2010-03-24 Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/NewMinList.c: added NewMinList() function for those systems which
    don't implement it themselves.
  * ChangeLog: moved all genclasses related entries to its own ChangeLog file.
  * misc: added interface version parameter to the INITLIB() and GETINTERFACE()
    macros to be able to obtain other interface versions than just the fixed
    version 1.

2010-03-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_RE.c, YAM_UT.c: exporting mails will now suggest a suitable
    name. "<subject>.eml" will be used for a single mail and "<foldername>.mbox"
    for multiple mails or complete folders.
  * YAM.c: iterating through the list of open write windows during the automatic
    "put on hold" restart could have crashed if the write window was closed
    faster than the loop advanced.

2010-03-16 Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c: the new checkIndentLevel() functionality will now only be used in
    case the call trace is turned on because otherwise an incorrect indent
    management causes YAM to slow down dramatically because incoming events
    also output the warning all the time.

2010-03-16 Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: added CHECKINDENT() function to check the log's indentation level
    to be below a certain limit. Furthermore all calls of ENTER(), LEAVE() and
    RETURN() will now check if the indentation level becomes negative because of
    a missing ENTER() statement and output a warning in that case.

2010-03-15 Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: added FLUSH() function to flush pending file output.
  * misc: replaced lots of NewList() calls by NewMinList() to get rid of the
    type casts. Additionally all lists are iternated using the IterateList()
    macro.

2010-03-15 Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc.h: fixed xget() prototype for AROS compile.

2010-03-12 Samir Hawamdeh <s.hawamdeh@tele.it>

  * locale/italian.ct: first committed for 2.7 Dev release.

2010-03-10 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c, YAM_CO.c: added the hidden string option "BirthdayCheckTime" to
    define the time at which the cyclic birthday check should be performed. This
    value defaults to "10:00:00" (10:00 AM) and must be given as "hh:mm:ss".
  * YAM_AB.c, YAM.c, Timer.c: birthdays are now checked on a regular basis. This
    means that YAM will automatically check for pending birthdays at 00:01 each
    day if it is running over midnight. Let's see what the users think of this.
    Maybe we need a configurable time for this check instead of the fixed 00:01.
    This closes #138.
  * doc/YAM_english.guide: updated english documentation according to latest
    changes.
  * rexx/restart.c: added FORCE option to enforce a restart without any
    confirmation requesters. ARexx script authors be warned!! Use this option
    carefully or you might raise some user's wrath upon you :)
  * Rexx.c, rexx/restart.c: implemented the ARexx command "restart". This one
    will do exactly the same as choosing "Restart" from YAM's "Project" menu.
    This closes #42.

2010-03-09 Frank Weber <opionline@yahoo.de>

  * YAM_config.h, YAM_CO.c, YAM_FI.c, YAM_COs.c: Added a hidden boolean option
    'ShowFilterStats' to supress the requester after a local filter action is
    done.
  * TRANSLATION: Fixed a little typo.

2010-03-09 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: reading a message part will now correctly add the LF character
    which was stripped by the GetLine() function. This fixes #2.
  * YAM_TR.c, TransferMailList.c: moved the list's display hook into the class
    source file.
  * YAM_MAf.c, MainFolderListtree.c: moved the column format generation into the
    class source file.
  * YAM_CO.c: the spam filter will now be enabled in the default settings.
    Furthermore the options "filter new mail", "mark on move to spam folder",
    "addressbook is white list", "move non-spam to incoming" and "apply filters"
    are enabled by default. Spam mails will not automatically be marked as read,
    because an untrained spam filter will move lots of mails to the spam folder
    and the user should be notified that the mails in the spam folder may not
    be true spam. This fulfils #31.
  * YAM_RE.c: renamed FreeHeaderList() to ClearHeaderList() as this is what the
    function really does.
  * YAM_RE: a header list was freed using the wrong function which then caused
    crashes. Header lists must be freed with FreeSysObject(). This fixes #141.
  * AttachmentImage.c: a double click on an already selected attachment icon
    will now correctly invoke the associated command. This fixes #141.
  * locale/german.ct: fixed a typo. This really fixes #140.
  * YAM_WR.c: fixed a memory leak.
  * misc: all menus now reflect the fact that YAM is able to forward mails in
    two different modes (as attachments and inlined). For the main and read
    window the items corresponding to the configured default mode will have the
    known shortcut "W". All this allows to choose the forward mode even from the
    menu and not just via the toolbar by pressing the required qualifiers. This
    accepts #106.

2010-03-06 Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentRequestWindow.c: added an additional column to display a mail
    part's description. This fixes #119.

2010-03-04 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: quitting YAM while a write window is still open will open a requester
    which explicitly ask for confirmation and allow the user to put the mails on
    hold. This fixes #63.
  * YAM_TR.c: in case an imported mail contains both the Status and the X-Status
    header lines the "new" state of the mail is derived from the Status header
    line only, because the X-Status header line does not contain any explicit
    information about the "new" state. This fixes bug ticket #118.

2010-03-03 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the "avoid duplicates" option cleared too many flags which caused
    mails not to be displayed in the preselection list.
  * YAM_RE.c: in case a MIME part has no name an aritifical name will now be
    generated from the part's index number. This avoids usage of YAM's temporary
    names When saving such parts to a file.
  * locale/german.ct: fixed some typos.

2010-03-02 Thore Böckelmann <tboeckel@gmx.de>

  * themes/AISS: the AISS theme now requires at least AISS 4.8 to be installed.
    This makes it possible to remove the last custom toolbar images. The config
    images have been copied over from the default theme.
  * YAM_TR.c: in case a user has the preselect list configured to appear always
    and some additional remote filters which might choose not to download
    certain mail these mails are displayed nevertheless to give the user the
    chance to further modify the download rules for these mails. This fixes bug
    #2957484.
  * YAM_RE.c: possible quotes around a part's encoding name are now stripped.
    This fixes bug #2957412.

2010-03-01 Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: added AROS system detection.

2010-02-25 Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: rewrote the operation system detection. Now MorphOS 1.x
    will correctly be detected (exec.library V50+ instead of V51+). Additionally
    the user will be asked to acknowledge the automatic detection in case our
    assumptions were wrong. Also removed the checks for a 68020 CPU, MUI 3.8
    and AmigaOS 3.0 as minimum system requirements. YAM's own checks are far
    better than these rough and outdated estimations.

2010-02-24 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: changed the mail composition to use the original file's name in
    the Content-Disposition header instead of the current file name. This fixes
    the problem, that attachments are shown with wrong name on other systems if
    one attaches a file to mail, puts the mail on hold, edits it later and
    finally sends it off. In this case YAM changed the original file name to the
    one used internally by YAM (YAMm00000123.txt for example).
  * Debug.c: renamed the "con" debug flag to "stdout" because it conflicted with
    "config" and made listening to config debug messages only impossible.
  * YAM_CO.c, YAM_FI.c: comparing an empty list against a non-empty list falsely
    signaled both lists to be equal. This effectively prevented saving the
    conifiguration when i.e. starting with an empty MIME type list and adding
    new entries without changing anything else in the configuration.
  * doc/Install-YAM: fixed typo which might lead to a wrong system detection.
  * YAM.c: added some debug messages when checking if the current user differs
    from the last start.

2010-02-23 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: update italian catalog according to latest 2.6 changes.

2010-02-23 Thore Böckelmann <tboeckel@gmx.de>

  * doc/.addressbook, doc/.taglines, Makefile: added default address book and
    taglines files and added them to the release target. This fixes #147.
  * YAM_US.c: in case the first of YAM's users has no real name YAM will now
    at first try to use the real name from the configuration. If there was no
    name entered in the configuration then "John Doe" will be used as a simple
    fallback.

2010-02-22 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_RE.c: changed all header list allocations to use
    AllocSysObject() instead of calloc().
  * AllocSysObject.c: changed the AllocSysObject() emulation to allocate
    MinNodes and MinList with the correct size.

#### YAM 2.6 RELEASE ####################################################

2010-02-21 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: finally bumped the YAM version to 2.6 for the upcoming
    stable release. Cheer with us as it took 2 years for that one ;)
  * locale: bumped the version of our catalog to version 7 and updated the
    currently uptodate catalog translations to match that version. Also fixed
    the cleanup script and cleaned up all catalog translations accordingly.

2010-02-20 Matthias Rustler <mrustler@gmx.de>

  * ImageCache.c: images were drawn on AROS with pink border instead of
    transparent.

2010-02-18 Thore Böckelmann <tboeckel@gmx.de>

  * themes/default: replaced the OS3 specific icons once more by a set which now
    definitely includes two images per icon.

2010-02-16 Jens Langner <Jens.Langner@light-speed.de>

  * misc: replaced all IsListEmpty() occurances by IsMinListEmpty() checks when
    a MinList is involved. This allowed to remove some unnecessary cast operations.
  * YAM_UT.c, Rexx.c: fixed some compiler warnings about strict aliasing rules
    which happen in case YAM is compiled with GCC 4.4.x.

2010-02-10 Jens Langner <Jens.Langner@light-speed.de>

  * mui/Aboutwindow.c: added a reference to expat.library which is used to allow
    importing an XML addressbook file.

2010-02-08 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MainMailList.c: the context menu's "Set status to" entries are now
    enabled/disabled in respect to the number of selected mails. For a single
    mail the menu items reflect the current state of the mail and opposite items
    will be disabled. For multiple mails opposite items will both be enabled
    (i.e. "read" and "unread") to give the user the chance to modify the status
    independent of the clicked mail. This fixes bug #2177452.

2010-02-02  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: removed diacritics from AUTH chunk text
  * mui/Aboutwindow.c: added myself to the list of translators; hopefully you
    don't mind :)

2010-02-01 Thore Böckelmann <tboeckel@gmx.de>

  * themes/default: replaced the old planar icons for OS3 by the new icons done
    by Martin 'Mason' Merz.

2010-01-29 Thore Böckelmann <tboeckel@gmx.de>

  * Themes.c: each system now tries to obtain a system specific icon from the
    theme (i.e. icon/new_os4.info). If that fails YAM will fall back to the
    normal unspecific icon (i.e. icon/new.info). This makes it possible to
    distribute system specific icons like the new big icons from AmigaOS4.1
    update 1 with a theme without forcing users of other systems without on-the-
    fly icon scaling to use these big icons.
  * themes/default: added separate icons for all supported platforms. For OS4
    the new big icons will be used, MorphOS and AROS will use dual image PNG
    icons and OS3 will default to plain Amiga icons.

2010-01-28 Thore Böckelmann <tboeckel@gmx.de>

  * mui/Aboutwindow.c, doc/YAM_english.guide, doc/YAM_french.guide: added
    Matthias Rustler to the list of developers.
  * mui/Aboutwindow.c, doc/YAM_english.guide, doc/YAM_french.guide: added
    Antonis Iliakis to the list of translators.

2010-01-25 Thore Böckelmann <tboeckel@gmx.de>

  * themes/default: updated the default theme to use the imagery used with OS4.1
    update 1. This is about 99% an AISS theme without the need to install AISS.
    Many thanks to Martin 'Mason' Merz for his work!
  * locale/#?: fixed some inconsistencies with trailing dots.
  * doc/Install-YAM: fixed the wrong path of muimaster.library for MorphOS in
    the MUI version check.

2010-01-15 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: minor corrections on the italian translation.

2010-01-14  Vit Sindlar <sindlarv at centrum dot cz>

  * doc/Install-YAM: updated Czech part of the installer script

2010-01-13 Jens Langner <Jens.Langner@light-speed.de>

  * misc: reverted the changes of revision 4473 where Thore forced all
    NListview objects to always carry a vertical scrollbar no matter what.
    While this fixed the graphics corruption symptoms reported lately,
    it does not seem to be a wise decision to work around this issue in
    YAM when the root of the problem is known to be originating from NList.
    We really need to fix that in NList later, so to allow YAM to benefit
    from further NList improvements it is better not to force YAM to
    use vertical scrollers at all times.

2010-01-11 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AttachmentImage: fixed the non-OS4 builds by defining the unknown
    ICONGETA_SizeBounds tag as TAG_IGNORE.
  * mui/Searchwindow.c: performing a next search in the read window now just
    removes a notification instead of erasing the parent window pointer. First,
    this makes it possible to let the "not found" window to reference the
    correct parent window, and second it fixes bug #2921931 as a NULL pointer
    was used without check before.
  * YAM_MA.c: aborting the printing of several mails did not abort the process.

2010-01-10  Alexandre Balaban <abalaban@free.fr>

  * doc/YAM_french.guide: updated according to latest changes.

2010-01-10 Thore Böckelmann <tboeckel@gmx.de>

  * mui/AttachmentImage: make use of OS4.1's icon.library's ability to scale
    icons itself and get rid of doing the dirty work ourself.
  * YAM.c: starting YAM a second time while the splash window is still visible
    will no longer cause the main window to be opened.
  * doc/Install-YAM: added greek translation to the installation script kindly
    provided by Antonis 'Phantom' Iliakis.

2010-01-09 Thore Böckelmann <tboeckel@gmx.de>

  * locale/greek.ct: updated the greek translation kindly provided by Antonis
    'Phantom' Iliakis.

2010-01-08 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: other minor corrections on the italian translation.

2010-01-08  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2010-01-08  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated the file and fixed all problems as reported by
    flexcat, too.

2010-01-08 Thore Böckelmann <tboeckel@gmx.de>

  * misc: all NListview objects are now forced to get a vertical scrollbars
    attached, no matter if it is required at all or configured otherwise in the
    NListview settings. This is meant to work around certain layout issues with
    dynamically added scrollbars.

2010-01-07 Thore Böckelmann <tboeckel@gmx.de>

  * locale/misc: updated all translations to get rid of the "trailing ellipsis"
    warnings of FlexCat. I hope all string conform to C='s style guide now.
  * doc/Install-YAM: added copying of greek catalog to the install script.
  * all: bumped the copyright of all files to 2010.

2010-01-06 Thore Böckelmann <tboeckel@gmx.de>

  * Happy Birthday, damato! :)
  * YAM_TR.c: when deleting a mail on the server which was not selected to be
    downloaded still increased the downloaded number of bytes by its own size
    and thus lead to an incorrect size display.
  * locale/greek.ct: updated the greek translation kindly provided by Antonis
    'Phantom' Iliakis.

2010-01-04 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c, YAM_MA.c, ReadWindow.c, WriteWindow.c: all toolbars are now placed
    into a scrollable virtual group where they really belong as subclasses of
    TheBarVirt.mcc. This makes it possible to resize the corresponding windows
    smaller than the toolbar's size. This partly fixes bug #2925005.
  * YAM_AB.c: upon importing XML address books multiple street, city, state and
    country informations will now be separated by commas. This finally fixes bug
    #2923894.
  * YAM.c, YAM_US.c: a directory passed to YAM via the MAILDIR command line
    option or ToolType will now be reused upon a restart to make sure that the
    same directory is used everytime. Additionally the first and main user's
    mail directory can now be changed from within YAM. Please note however that
    using MAILDIR is not recommended with multiple users as all users will share
    the same configuration and mails, which most probably might not be what you
    really intended. All in all this fixes bug #2923953, where different
    directories (one configured but up to now unchangeable, another passed via
    MAILDIR) for the main user resulted in a default configuration upon a
    restart.

2010-01-02 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: YAM will now accept numbers greater or equal to 1900 for %y year
    placeholders, even if the standard allows two digits only. However, please
    note that YAM will convert any year number back to two digits if the locale
    formatting string contains a %y instead of %Y and hence may produce non
    unique date strings. Sorry, but if your locale country file still contains
    such ancient placeholders it is really time to upgrade or to live with the
    consequences. Especially OS3 will at some point suffer from this. This
    finally fixes bug #2923855.
  * locale/german.ct: fixed some really badly translated strings.
  * locale/german.ct: removed a wrong underscore character in a window title
    string.

2010-01-01 Thore Böckelmann <tboeckel@gmx.de>

  * Happy New Year, YAMmers! :)
  * YAM_UT.c, YAM.c, UpdateNotifyWindow.c: with OS4.1 the new URL: device is now
    favoured over openurl.library if available.
  * YAM.c: changed the early startup to make use of the URL: device too, instead of
    openurl.library only.

2009-12-31 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: the date scanning function didn't take into account that the
    entered separator did not match the required one from the locale settings
    and incorrectly accepted the date string as valid. Now the check for valid
    numbers checks if the format string contains the placeholders and then
    checks if the numbers are correct no matter if that part of the string has
    been parsed or not. This fixes bug #2923855.
  * YAM_AB.c: importing an alien address book with multiple postal addresses will
    now keep all street informations instead of the last one only like it is done
    with cities, states, countries, etc. This fixes bug #2923894.

2009-12-27 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: minor correction in the italian translation.

2009-12-27 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: changed the name of the shared pool for OS4.
  * YAM_CO.c: hopefully fixed the nasty Docky icon issue at last.

2009-12-23 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, DockyIcon.c: disabling and reenabling the Docky icon while YAM was
    running still had some issues, because application.lib seems to be unable to
    add a docky icon on the fly if there hasn't been any before. Thus we must
    unregister and reregister YAM (as it was before) to get the change working.

2009-12-22 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, DockyIcon.c: disabling and reenabling the Docky icon while YAM was
    running caused a crash because the message port pointer was not updated when
    reregistering YAM at application.library. All in all reregistering is not
    necessary at all and hence was dropped. Instead only the Docky icon is
    (re)enabled. This fixes bug #2919018.
  * DockyIcon.c: the default docky icon is now automatically taken from the
    program's icon file by application.library.

2009-12-21 Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed some inconsistent strings.

2009-12-19  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2009-12-18 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: setting a mail's status to "marked" will now prevent this mail
    from being deleted automatically when deleting old mails. This fulfils
    feature request #2907807.
    Furthermore the mail node is no longer removed from its list twice, which
    might have caused arbitrary funny things to happen.
  * MailList.c: implemented TakeMailNode() as a function instead of a macro to
    be able to update the list's counter accordingly.
  * FolderList.c: implemented TakeFolderNode() as a function instead of a macro
    to be able to update the list's counter accordingly.

2009-12-17 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: the bounce window had no menu strip and hence copying and
    pasting in the recipient string object did not work. A minimal menu strip is
    now added which just consists of the standard editing options. This fixes
    bug #2915918.

2009-12-09 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: various changes on the italian translation.

2009-12-09 Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: openurl.library was never closed and hence caused a memory leak.
  * mui/UpdateNotifyWindow.c, locale/YAM.cd, locale/german.ct: in case the
    openurl.library is not installed the user will now get a requester with
    instructions displayed on how to perform the download manually. This
    effectively fulfils feature request #2911128.

2009-12-08 Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed a typo.

2009-11-16 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: external programs are no longer created as a child process of YAM
    to prevent error messages from DOS if YAM is shut down before the child
    process. This fixes bug #2898332.

2009-11-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, MimeTypes.c: added some additional NULL pointer checks, because
    the AROS implementation of GetSucc() is not NULL pointer safe.

2009-11-12 Thore Böckelmann <tboeckel@gmx.de>

  * mui/MainFolderListtree.c: reverted yesterdays change. Only folders without
    any valid index should be displayed in italic style. Thus a folder with
    a flushed index will be displayed as a usual folder. Accessing the folder
    just needs a (hopefully fast) reload of the index.
  * Rexx.c: the command table no longer needs to be NULL terminated, but the
    binary search still took the no longer existent NULL termination into
    account and hence failed on the last command, namely WRITETO. Thanks to
    Christer Oldhoff for the hint.

2009-11-11 Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c, rexx/flushindexes.c, doc/YAM_english.guide: implemented the ARexx
    command FLUSHINDEXES to flush the index of all folders. This command does
    the same as selecting "Flush indexes" from the Folder menu. This fulfils
    feature request #2895896.
  * mui/MainFolderListtree.c: folders without valid indices were not displayed
    correctly in italic style.

2009-11-07 Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #2893236 in the TR_DownloadURL() function where we did
    send an incorrect HTTP/1.1 request without being able to deal with
    reponses using Transfer-Encoding. Now we will use HTTP/1.0 for the request
    instead to conform to the RFC. In addition, we incorrectly expected a
    Content-Length: header to be present at all times which according to the
    RFC may not always be the case. Thus, we are now simply receiving the
    answer until the connection is dropped.

2009-11-02 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: raised minimum required version of application.library for the
    new notification system to 53.7 due to recent SDK changes.

2009-10-30 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: modified the address line validation once more to perform the
    validation only if the mail was created by certain Microsuck products.

2009-10-29 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: enhanced the command placeholder expansion such that it
    is now able to add closing quotes at the correct place even if the place-
    holder is followed by some other characters. For example '%a.lha' will be
    expanded to '"foo bar.lha"' instead of '"foo bar".lha' if 'foo bar' is to
    be inserted.

2009-10-28 Thore Böckelmann <tboeckel@gmx.de>

  * Requesters.c: all requesters can now be aborted by sending a CTRL-C and YAM
    can be uniconified by sending a CTRL-F while a requester is active.
  * YAM_TR.c: if no password is given for a POP3 account YAM will make sure the
    application is visible before prompting for a password. Otherwise there is
    no way to uniconify YAM and enter the password.
  * misc: added a convenience macro to make sure that NULL strings can safely be
    printed out.

2009-10-27 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: when constructing a fully qualified mail address from given person
    data YAM now makes sure that at least either the real name or the address
    string exist. Before empty strings resulted in "half" addresses only like
    "@domain" instead of "name <user@domain>". Thanks to Christoph Poelzl for all
    his hints and testing.
  * YAM_MAf.c: fixed some NULL pointer accesses when one of the header lines was
    empty.
  * YAM_MAf.c: rewrote the address handling when parsing the header lines again
    from scratch. The new approach correctly handles multiple possibly broken
    recipient addresses which the old one didn't. I hate this broken Microsuck
    stuff :(

2009-10-26 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: YAM complained about an unknown file format when trying to import
    plain .mbox files which contained a mail without subject as the very first
    mail. Now at least 2 out of 3 known header lines (From, To, Subject) will
    suffice to make YAM recognize such a file as a valid .mbox file.

2009-10-26  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2009-10-25 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: Various minor changes on the italian translation.

2009-10-21 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: Added missing string (MSG_CO_TEXTCOLORS_READ), this should
    fix bugs #2874442 and #2874431
  * doc/Install-YAM: Added italian language as "Setting up" option, this need some
    more testing before 2.6 final release.
  * doc/YAM_english.guide: Add Samir Hawamdeh and Luca Longone as contributors for
    the italian translation :-)

2009-10-17 Thore Böckelmann <tboeckel@gmx.de>

  * doc/YAM_english.guide: rewrote the section about the single mail file names.
    This fixes bug #2869911.
  * Debug.c: the debug log now contains the build date instead of the
    (currently) empty build ID.
  * YAM_UT.c: added some debug output to the address generation function when
    replying to a mail to track down a bug with slightly broken addresses.
  * YAM_WR.c: added some debug output to the address generation function when
    replying to a mail to track down a bug with slightly broken addresses.
  * mui/WriteWindow.c: all filenames containing spaces which may be passed to
    external commands will now correctly be sourrounded with quotes.
  * YAM_CO.c: added ".lha" to the %a paramter of the default packer command
    string.
  * extrasrc/Get#?.c: removed the ENTER()/RETURN() macros from the list/node
    functions, because a @ctrace log become far too huge and unmaintainable
    with these.

2009-10-15 Thore Böckelmann <tboeckel@gmx.de>

  * mime/rfc2047.c, mime/rfc2231.c: in case a conversion fails the source and
    destination codeset name will now be printed out in the debug log as well.

2009-10-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: fixed a possible endless loop in the recently added workaround.

2009-10-13 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: added an experimental workaround for invalid addresses. Usually
    these addresses are created by Microsoft software and are in RFC2047 format.
    The bug appears if the decoded string contains a comma within the real name
    part and this real name is not surrounded by quotes. The workaround tries to
    add these missing quotes. Otherwise replying to such a mail will result in
    one additional recipient which just consists of a name but no address. The
    only "good" thing about this is that even ThunderBird does not handle such
    mail correctly and traps into the very same pit. Thanks to Christoph Poelzl
    for an example mail. I hope this workaround doesn't brake anything...

2009-10-12 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c, mui/InfoBar.c, mui/Splashwindow.c: some minor changes to make sure
    that gauges display the correct final values and calculate the percentage
    correctly.

2009-10-10 Samir Hawamdeh <s.hawamdeh@tin.it>

  * locale/italian.ct: Update italian catalog according to the latest changes
  * doc/Install-YAM: fixed some inconsistencies regarding italian strings

2009-10-08 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: slightly modified the transfer status display again to be more
    accurate for small mail sizes.
  * YAM_TR.c: fixed some inconsistencies regarding the mail transfer status
    display which could lead to incorrect final stats.

2009-10-06 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: added an origin indicator to the menu and toolbar
    notifications to be able to uniquely identify the triggering object for
    style changes.
  * mui/WriteWindow.c: fixed the broken notifications when the text editor
    signalled style and color changes.

2009-09-27 Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: now that also the AROS sdk on our build machines are updated we
    don't need the atexit() workaround for our AROS builds anymore.
  * extrasrc.h: an AROS system already seem to have GetHead&Co so we define
    that we don't need our substituion functions.
  * YAM_TR.c: after having updated the SDK of the nightly build machine the
    additional IApplication-> pointer is not required anymore because we
    build YAM with __USE_INLINE__ for OS4.

2009-09-24 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: due to the latest changes to the progress display an additional
    function was necessary to make sure that at the end of a transfer the final
    statistics are displayed and not something from the last graphical update.

2009-09-22 Thore Böckelmann <tboeckel@gmx.de>

  * rexx/listunfreeze.c: unfreezing the mail list now forces a refresh of the
    embedded read pane to make sure that the currently active mail is really
    displayed. This fixes bug #2862758.
  * YAM_TR.c: YAM will now show a busy pointer while scanning a file to be
    imported to let the user know something is happening.
  * YAM_TR.c: largely sped up every mail transfer (download, import, export) by
    updating the statistics at most 4 times per second. Thus you won't get a
    100% exact display but a *much* faster processing of single mails.
  * YAM_TR.c: readded an accidentally removed "IApplication->" interface call.
    Jens, please update the OS4 SDK on your build machine!!

2009-09-21 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: some of the latest changes to the filters where done a bit over-
    hasty and destroyed lists which were not meant to be destroyed. I really
    should drink more coffee :)
  * misc: fixed various list iterations which omitted the last (or even the
    only) element in the list. This fixes bug #2862754.
  * YAM.c: the current layout (column width of mail list, etc) is now saved to
    ENV: when YAM is shut down be able to restore the former layout upon the
    next start. However, to make the layout permanent you still have to snap-
    shot either the main window or the read window. Otherwise any layout changes
    will be lost after a reboot!

2009-09-20 Thore Böckelmann <tboeckel@gmx.de>

  * misc: introduced TimeHasElapsed() function to check whether a certain number
    of microseconds has passed and use this all over the place instead of imple-
    menting the same stuff over and over again.

2009-09-18 Thore Böckelmann <tboeckel@gmx.de>

  * misc: implemented the LISTFREEZE and LISTUNFREEZE ARexx commands to forbid
    and permit graphical changes to a specific list. Currently only the main
    mail list may be frozen. This fulfils feature request #2860253.
  * misc: replaced some variables being passed directly to BOOL parameter by
    proper boolean checks. This could make a difference since we are checking
    for TRUE and FALSE explictly.

2009-09-16 Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c, requestfile.c, doc/YAM_english.guide: implemented the REQUESTFILE
    function to open a file requester to let the user choose one or more files.
    This fulfils feature request #2858725.

2009-09-15 Thore Böckelmann <tboeckel@gmx.de>

  * all: introduced OS4's GetHead/Pred/Succ/Tail functions to navigate within
    a standard Exec list. This made it possible to replace all custom list
    iterations by a macro call using these functions. The big advantage of these
    functions is that they perform certain checks, like NULL pointers or empty
    lists.

2009-09-14 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: added some error checks for the write operations during a mail
    export to catch errors like "disk full". The export will be canceled then
    instead of constantly retrying until all mails have been finished.
  * rexx/mailexport.c, YAM_MA.c, doc/YAM_english.guide: added a QUIET option
    to the MAILEXPORT command. This fulfils feature request #2858240. Also
    adapted the english guide accordingly.

2009-09-13 Thore Böckelmann <tboeckel@gmx.de>

  * doc/YAM_english.guide: adapted the guide according to the latest changes.
  * rexx/mailstatus.c: slightly extended the capabilities to modify a mail's
    status. Now a mail can be set back to NEW state, just as it was received.
    This fulfils feature request #875164. Now the MAILSTATUS command accepts
    these letter to modify the status:
      N       set status to new/unread
      O or R  set status to old/read
      U       set status to old/unread
      H       set status to hold
      Q or W  set status to queued/waiting to be sent
  * rexx/mailimport.c, YAM_MA.c: added a QUIET option to the MAILIMPORT ARexx
    command. This makes it possible to import mails automatically without any
    progress window. This fulfils feature request #635953.

2009-09-08 Matthias Rustler <mrustler@gmx.de>

  * YAM.c: Re-introduced the AROS specific workaround for the problem
    with atexit() because the build-machine still has old libs/headers.

2009-08-30 Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: translated a not yet translated string.

2009-08-27 Thore Böckelmann <tboeckel@gmx.de>

  * DockyIcon.c: added the application description string again, but only if
    application.lib V53.3+ is available. All other version have problems with
    this tag.

2009-08-21 Thore Böckelmann <tboeckel@gmx.de>

  * DockyIcon.c: it seems application.library 52.1 has a severe bug and cannot
    handle unknown or future TagItems correctly. Unfortunately YAM didn't
    fully check for a successful registration and used a NULL MsgPort after-
    wards. Hence I removed the new description string again, as passing in this
    script causes the registration process to fail completely. This fixes bug
    #2841885.
  * DockyIcon.c: added some debug output when receiving a message from
    application.library.

2009-08-17 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: modified the layout of the notification group to match the
    previous layout even with the long new "AmigaOS4.1 notification system"
    string.
  * misc: renamed "Ringhio" to "AmigaOS4.1 notification system"
  * locale/YAM.cd, locale/german.ct: added a keyboard shortcut to the new
    Ringhio checkmark.

2009-08-16 Matthias Rustler <mrustler@gmx.de>

  * YAM.c: AROS hack for atexit() removed. This means that current YAM
    works only with a very recent version of AROS.
  * misc: include <proto/application.h> only on amigaos4.

2009-08-16 Thore Böckelmann <tboeckel@gmx.de>

  * DockyIcon.c: added a description string for Ringhio and made the application
    registration unique, similar to the uniqueness of the commodity part.
  * misc: implemented new mail notification by OS4.1's new system based Ringhio
    notification system. This option is only available on OS4.1 with at least
    application.library 53.2 (not yet released to the public).
  * locale/german.ct: fixed some translation inconsistencies.

2009-08-14 Thore Böckelmann <tboeckel@gmx.de>

  * Makefiles: added "-g" to the debug flags. It seems the OS3 GCC 2.95.3 cross
    compiler needs this to generate debug infos at all.

2009-08-11 Thore Böckelmann <tboeckel@gmx.de>

  * Debug.h: The memory debug version of FreePooled() used the pool address
    stead of the address of the memory block to be freed upon untracking the
    allocation and hence caused invalid "free of untracked memory area"
    messages.

2009-07-20  Matthias Rustler <mrustler@gmx.de>

  * Makefile: use correct linker libs for AROS. Librom.a is only a
    stripped down standard C library which is used for libraries etc.

2009-07-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c: added a SYS_EDITOR define which should contain the full path
    to the standard editor tool used on the platform YAM is compiled for.
    Currently this define defaults to SYS:Tools/NotePad for AmigaOS4, to
    SYS:Tools/Editor for AROS and to C:Ed for the other supported
    platforms. Please note that this define should NOT point to any
    third-party application for editing text files but to an editor
    that is shipped with the operating system per default.

2009-07-02  Matthias Rustler <mrustler@gmx.de>

  * YAM.c: added a fix for the problem that for some unknown reason the
    function installed by atexit() isn't called on AROS.
  * YAM_CO.c: use sys:Tools/Editor as default editor for AROS.

2009-06-30  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/vasprintf.c: added the VA_COPY definition for the AROS targets
    to equal to calling the va_copy() macros.

2008-06-29  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2009-06-24  Matthias Rustler <mrustler@gmx.de>

  * defines/muimaster.h: Removed AROS specific handling because that
    file is already AROS only.
  * src/Makefile: disabled -fomit-frame-pointer because this makes
    debugging difficult.

2009-06-24  Matthias Rustler <mrustler@gmx.de>

  * defines/muimaster.h: fixed the LVO's for AROS. Otherwise wrong functions
    from muimaster.library were called.

2009-06-24  Thore Böckelmann <tboeckel@gmx.de>

  * MailTextEdit.c: move the pen allocation from MUIM_Show to the MUIM_Setup
    method. First, this is where it belongs to from the logical point of view,
    and second, it works on AROS, whereas MUIM_Show causes several issues. The
    corresponding release of the pens has been moved to MUIM_Cleanup. Further
    the allocated color map is set in MUIM_Setup and cleared in MUIM_Cleanup
    instead of setting it only once in OM_NEW.

2009-06-23  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: fixed a memory leak which happend when YAM was started a second time.
    The folder list of the second instance was never freed again, because that
    depended on an opened main window.

2009-06-22  Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l, ParseEmail.l: added a warning in case YAM is compiled with
    flex versions < 2.5.35 as previous version are known to have stability or
    performance problems and should not be used for the final release builds.
  * Makefile: added "FORCE" option to the AmigaOS native execution of makedir.
    This should fix issues when trying to compile YAM natively on AmigaOS
    systems.

2009-06-21  Thore Böckelmann <tboeckel@gmx.de>

  * HTML2Mail.l, ParseEMail.l: lowered the minimum required flex version from
    2.5.35 to 2.5.27 to be able to build YAM natively, at least on OS4. This
    version is the last one which doesn't depend on any fork() implementation.

2009-06-19  Jens Langner <Jens.Langner@light-speed.de>

  * Rexx.c: reverted some of the recent changes to fix compiler warnings for
    the AROS target as these changes caused compiler warnings on the other
    non-AROS targets. Somehow we can't seem to fix all of them ;)

2009-06-19  Matthias Rustler <mrustler@gmx.de>

  * misc: allmost all remaining compiler warnings removed on AROS.
  * mics: 64-bit fixes (IPTR, STACKED, UL)

2009-06-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: implemented feature request #1468796. Specifying NOSPLASHWINDOW via
    either the tooltypes or on the command line will YAM start up and shut down
    silently. However, if you have multiple users configured the splash window
    will still appear for user selection.

2009-06-16  Jens Langner <Jens.Langner@light-speed.de>

  * misc: the last AROS change added some compiler warnings when compiling for all
    the other targets, especially when using format functions like snprintf().
    Now the proper type casts are added to avoid these compiler warning
    conflicts.

2009-06-16  Matthias Rustler <mrustler@gmx.de>

  * misc: lots of compiler warnings fixed.

2009-06-13  Thore Böckelmann <tboeckel@gmx.de>

  * rexx/mailinfo.c: no folder was determined in case a specific mail was to be
    examined instead of the active one. Hence examining the mail file failed and
    let the command itself fail.

2009-06-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: cleaned up the path cloning and splitted everything in two parts.
    The actual clone process is now based on what OS4 is doing. Thanks to Colin
    Wenzel for the tips!

2009-06-08  Jens Langner <Jens.Langner@light-speed.de>

  * misc: adapted the whole build system once more to finally link for
    AROS i386. Now YAM should at least compile and link for AROS/i386.
    Please note however that the build is completly untested yet and
    that there is a high possibility that it won't run at all. We still
    have to fix all remaining compiler warnings and get the build
    verified by some AROS people. But at least AROS people might now play
    around with the AROS nightly builds ;)

2009-06-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: the command search path is freed only if SystemTags() returns
    -1 (i.e. the supplied command was not found at all). This fixes bug
    #2802287.

2009-05-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM.h: removed the MA_AboutMUIFunc and changed the AboutMUI
    menu item notify connection to call MUIM_Application_AboutMUI directly.
  * tools/genclasses: updated the auto-generated sources to use the new
    static SDISPATCHER macro of SDI instead. This should generate static
    dispatcher functions instead of global ones and thus keep the
    symbols more where they belong to.
  * include: updated SDI headers to their very latest versions.

2009-05-25  Thore Böckelmann <tboeckel@gmx.de>

  * locale/YAM.cd, locale/german.ct: fixed slightly broken language.

2009-05-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_COg.c, misc: a new "OpenPGP:" header is now added to every
    new mail when the PGP ID is specified. This header field is added in
    accordance to its definition at http://josefsson.org/openpgp-header/
    In addition, a user can now specify an URL to a text version of his
    public PGP key. This URL will then also be added to the OpenPGP header
    and thus clients may allow to directly download this key via internal
    methods.

2009-05-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: a search was only aborted after the current folder has completely
    been searched. Now it is aborted as soon as the button was clicked. This
    fixes bug #2790981.

2009-05-12  Thore Böckelmann <tboeckel@gmx.de>

  * doc/YAM_english.guide: updated the manual according to the latest changes
    to the MAILINFO command.
  * rexx/mailinfo.c: merged MAILINFO and MAILFULLINFO into the old MAILINFO
    command and removed MAILFULLINFO again. Every variable without the "ALL"
    part will just contain the very first address/name information (i.e. FROM
    will contain the first From: entry only), as it was before with the MAILINFO
    command. The new "ALL" variables will contain all address/name informations.
  * YAM_MAf.c: fixed long standing memory leak.
  * Rexx.c,h, rexx/mailfullinfo.c: added new ARexx command MAILFULLINFO to
    obtain all informations about a mail. The MAILINFO command just queries
    single senders and receivers, while MAILFULLINFO queries even multiple
    senders and receivers as well as all CCs and BCCs. This fullfils feature
    request #577148.

2009-05-11  Jens Langner <Jens.Langner@light-speed.de>

  * .c,.h: replaced all tabs to spaces.

2009-05-10  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile, misc: adapted Makefile and whole build system to make it
    possible to compile YAM for AROS. Compilation now seems to work. However,
    the linker is still missing a few symbols before we can run our first
    tests of an AROS compiled YAM version. Stay tuned.. :)

2009-04-30  Thore Böckelmann <tboeckel@gmx.de>

  * updated the SDI headers to their latest fixed versions.

2009-04-24 Thore Böckelmann <tboeckel@gmx.de>

  * mui/WriteWindow.c: dropping a drawer on the write window will now open a
    file requester pointing to this drawer to let the user select the files to
    be attached. This fulfills feature request #2723539.
  * mui/WriteWindow.c: added missing ENTER() call. Also changed the AppMessage
    handling to accept dropped files only and to skip directories.
  * YAM_RE.c: extended some debug messages to output the files names which are
    affected.
  * mui/ReadWindowStatusBar.c: merged duplicate code into a common function.
  * mui/AttachmentImage.c: added missing ENTER() call.

2009-04-20  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2009-03-26  Jens Langner <Jens.Langner@light-speed.de>

  * include: updated SDI headers to their very latest versions.

2009-03-12 Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: before trying to read a folder's index file its size is checked
    now. Non-existent and zero sized files will cause an instant rescan of that
    folder, while files with a size less than sizeof(struct FIndex) will be
    treated as corrupted. This fixes bug #2684907.

2009-02-10  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: added -mstrict-align to the default compile options of the OS4 build
    as this option enforces a correct alignment.

2009-01-25  Jens Langner <Jens.Langner@light-speed.de>

  * ParseEmail.l: slightly modified the recent fix for bug #2533364 so that the
    tilde character is catched for a valid position in an URL only.

2009-01-25 Thore Böckelmann <tboeckel@gmx.de>

  * ParseEmail.l: the tilde character is now a valid character within an http://
    style URL. I hope this doesn't break anything. This finally fixes bug
    #2533364.

2009-01-24  Thore Böckelmann <tboeckel@gmx.de>

  * ReadMailGroup.c: added file: URL specifier to the list of URLs which are
    handled by openurl.library. This partly fixes bug #2533364.

2009-01-20  Thore Böckelmann <tboeckel@gmx.de>

  * MailList.c: added new function FindMailInList() to simply find a mail in a
    list of mails.
  * misc: use the new FindMailInList() function all over the place.
  * YAM_UT.c: in case a mail is deleted/moved from the incoming folder while the
    download is still in progress it will be removed from the list of downloaded
    mails, too. This must be done to prevent the following filter process
    handling then invalid mail pointers and causing crashes. This should fix bug
    #2514895.
  * misc: several minor cosmetic changes.

2009-01-19  Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/NewReadArgs.c: added missing puddle and threshold values for the
    AllocSysObject() call. Also simplified the code a bit and removed dead and
    unnecessary sections.

2009-01-11  Jens Langner <Jens.Langner@light-speed.de>

  * mui/QuickSearchBar.c: set the new MUIA_BetterString_SelectOnActive attribute
    on the search string object as a TAB cycle or mouse selection should
    always result in a selection of all text.
  * YAM.c, misc: bumped the minimum required BetterString.mcc version to 11.16
    as this update fixes some important bugs. Also bumped the suggested
    version for the 2.5+ releases to 11.16 so that an updatecheck will suggest
    that new version to every user.

2009-01-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_EA.c, locale/YAM.cd: the error message in case of a wrong formatted
    date of birth now includes the formatting being used as well as a short
    description of the placeholders.
  * YAM_AB.c: reworked the date scanning function to correctly distinguish
    between 2 digit and 4 digit year numbers. Too large numbers for the %y
    placeholder will now be rejected as invalid. Only %Y (upper case!!) is
    the correct placeholder for 4 digit year numbers. This fixes bug #2488443.

2009-01-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: moved the debug messages for a failed ADST notification to a better
    place to avoid false messages.
  * YAM_AB.c: changed the class of an debug output to match a similar one.

2009-01-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version of TextEditor.mcc to 15.28 because
    this new release fixes some important bugs.
  * misc: we welcome the new year by bumping all copyright notices to 2009.
  * YAM.c: bumped the required version of codesets.library to 6.8, because this
    version fixes a bug which caused serious memory trashing and which should
    also finally work on MorphOS.

2008-12-23  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: the current selection of mails in the main window will now be
    cleared before any new mails are selected when clicking on "Select matched"
    button in the search window. This fixes bug #2220386.
  * YAM.c: changed the required version of codesets.library back to 6.6, because
    the MOS build of this library is completely broken by the latest changes and
    a fixed version will not be released before 2009.

2008-12-21  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: bumped the required version of codesets.library to 6.7, because this
    version fixes a bug which caused serious memory trashing.

2008-12-18  Thore Böckelmann <tboeckel@gmx.de>

  * MUIObjects.c: added missing ENTER() call.

2008-12-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_FI.c: if the configuration window could be created but the
    configuration itself could not be duplicated (i.e. low memory) the window
    will now be disposed again immediately. The deep copy of the configuration
    structure is therefore checked for failure at any point.

2008-12-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: the date scanning function now also accepts %y as 4 digit year
    placeholder, although %Y is the correct one. But MorphOS doesn't seem to
    know this fact... This fixes bug #2431196.
  * BayesFilter.c: removed some double ToLowerCase() calls.
  * BayesFilter.c: a constant string could be modified while examining a mail
    for spam content. On OS4 this will lead to instant crashes, because constant
    strings are read-only here.

2008-12-15  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: added some debug output to the date formatting code to track down
    a possible bug in the MOS build.

2008-12-08  Thore Böckelmann <tboeckel@gmx.de>

  * mime/qprintable.c: added a warning message for the debug build in case non-
    allowed characters are found.

2008-12-01  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2008-11-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug #2363789 where the implementation of fwrite() in newlib
    and clib2 slightly differed and thus caused me to overlook the case where
    size could be equal zero. This caused the OS3 builds to fail.

2008-11-29  Jens Langner <Jens.Langner@light-speed.de>

  * WriteWindow.c: implemented change request #2358975 by moving the content-type
    comparison to the top of WhichEncodingForFile(). This should speed up the
    encoding type scanning for image and video files mainly.
  * YAM_WR.c: improved compatibility to RFC 2183 by setting the content
    disposition to "inline" for printable mime parts.
  * YAM_RE.c: fixed bug #2349683 where an additional LF was always inserted when
    saving text-based attachments. This was caused by a wrong boundary check
    mechanism.
  * WriteWindow.c: fixed slight problem in WhichEncodingForFile() which caused
    files with a CRLF to be plainly attached rather than encoded via B64 or QP.
    This caused the attached file to be incorrect when saving it.

2008-11-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: updates to the TCP/IP config page no longer trigger notifications
    when setting the security mode (TLSv1, SSLv3). This effectively makes it
    possible to use custom port numbers for the SMTP server instead of the
    built-in default numbers (25 for TLSv1 and 465 for SSLv3). However, changing
    the security settings will still set the default numbers. This fixes bug
    #2340660.

2008-11-22  Thore Böckelmann <tboeckel@gmx.de>

  * mui/PassphraseRequestWindow.c: the wrong method names were used and hence
    caused the window to react on no input at all. Using the correct names
    should fix bug #2324425.
  * YAM_TR.c: fixed a NULL pointer access. This fixes bug #2311142.

2008-11-11  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2008-11-11  Thore Böckelmann <tboeckel@gmx.de>

  * InfoBar.c: moved some static char arrays into the instance data to avoid the
    quite ugly local static variables.
  * YAM.c: fixed a memory trashing bug which was introduced during the latest
    changes to the AutoDST check and caused tons of hits on OS3 and MOS. Thanks
    to Christoph Poelzl for the hint!

2008-11-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_TR.c: splitted the ApplyFiltersHook() function into two
    separate functions. One does the actual filtering based on a list of mails,
    the other one performs the usual preparation to do the filtering when the
    user presses the toolbar button, for example. The new function is used
    directly to filter only those mails which just have been downloaded, regard-
    less of the NEW state of previously downloaded mails. This fixes bug
    #2229477.

2008-11-05  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2008-11-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: reworked the AutoDST check and notification framework to work a bit
    more reliable. Now AllocDosObject() is used on OS4 and also a slight delay
    has been put before requerying timezone.library for the current DST
    setting. This should make the whole AutoDST stuff more reliable and
    working as expected. In addition, no requester will now be raised in case
    of the automatic DST notification.
  * Debug.h, extrasrc.c: added AllocSignal/FreeSignal and StartNotify/EndNotify
    to our resource tracking framework.

2008-10-28  Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed a duplicate shortcut. This fixes bug #2201768.

2008-10-20  Thore Böckelmann <tboeckel@gmx.de>

  * BayesFilter.c, YAM_COg.c, YAM_COs.c, locale/YAM.cd, locale/german.ct: added
    a button to strip rarely occuring words from the spam training data. This
    will remove all words which occured only once so far and hence have very
    little influence on the spam recognition process. As a nice side effect the
    training data will be loaded much faster and spam recognition will become
    faster, too, because less words have to be taken into account.
  * Timer.c: use the new ASOIOR_Duplicate tag to create the duplicated timer
    requests.
  * extrasrc/AllocSysObject.c: implemented the ASOIOR_Duplicate tag item to
    create a clone of a given IO request.

2008-10-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: fixed a possible memory leak in case certain header lines
    appeared more than just once in a mail. Most probably this happens for spam
    only, but even then there should be no leak :)

2008-10-16  Thore Böckelmann <tboeckel@gmx.de>

  * locale/italian.ct: fixed a definitely wrong translation. ENV:Signature is a
    fixed file name which *MUST* *NOT* be modified, otherwise the users will be
    confused about the correct name. Also removed the old translation. If a
    translator needs an old version of the translation (s)he must keep it local
    on his/her machine or use SVN's excellent possibility to restore old
    revisions.

2008-10-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: slightly improved the speed of the AppendToBuffer() function. The
    index is no longer constantly updated while performing a hand crafted clone
    of strcpy().
  * extrasrc.h: fixed bad #define's which broke the MOS build.
  * YAM_AB.c, mui/AddrBookToolbar.c: reworked the address book window to be
    opened with no active entry. This partly fulfills feature request #2165214,
    as clicking on CC or BCC by accident will add the active entry to the
    normally invisible CC/BCC fields of the write window and hence may cause
    unwanted things to happen. Additionally the toolbars "Modify" and "Delete"
    button will now be disabled aswell, if no entry is selected.

2008-10-13  Thore Böckelmann <tboeckel@gmx.de>

  * rexx/addredit.c, rexx/addrresolve.c: removed some superflous preallocs and
    cleaned up the code a bit.
  * YAM_WR.c: fixed a possible NULL pointer access in case AllocStrBuf() failed
    for any reason.
  * YAM_WR.c: fixed a memory leak when composing a PGP signed/encrypted mail
    failed for any reason.

2008-10-10  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2008-10-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: replaced the deprecated Seek() call by the new 64bit aware
    ChangeFilePosition() call in the OS4 build. All other builds will still use
    the old Seek() function.

2008-10-08  Thore Böckelmann <tboeckel@gmx.de>

  * FileInfo.c: fixed wrong duplication of date stamp in the OS3 and MOS builds.

2008-10-06  Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: adapted catalog translation to latest changes and
    fixed some inconsistencies.
  * YAM_RE.c, YAM_MAf.c: fixed another memory leak which occured when a mail
    header could not be parsed successfully.

2008-10-04  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.h: added asprintf() to the functions monitored by our new memory
    tracking framework.
  * Debug.h, extrasrc.c: fixed memory tracking for OS3 and MOS build.
  * WriteWindow.c, Themes.c: fixed two situations where file handles
    having been closed correctly and so might have ended up in locked files.
    The new memory tracking framing is really a huge improvement in terms of
    such situations.
  * YAM_utilities.h, WriteWindow.c, ReadWindow.c, YAM_CO.c, YAM_UT.c,
    YAM_COs.c: implemented the still missing functionality to finally fix
    bug #2056658. Now it is possible to set the Textstyle and Textcolor
    setting for the write window and read window separately as well as
    switching between the individual settings in each write window. However,
    the only thing missing seems to be the possibility to switch the font
    settings on demand, but this requires changes to TE.mcc.
  * Debug.h: added the fopen/fclose functions to our memory tracking
    framework. Now the fopen and fclose calls are also tracked to find
    potential unclosed file handles.

2008-10-04  Thore Böckelmann <tboeckel@gmx.de>

  * Debug.h: fixed slightly wrong memory tracking for ExamineObject(),
    ObtainDirContext() and ObtainDirContextTags().

2008-10-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, misc: fixed a bug in the use of CodesetsConvertStr() where we
    didn't query for the length of the destination string and might have ended
    up with an incorrect len argument to the followed fwrite() call.
  * Debug.c: minor cosmetic change where we output a header in front of the
    final memory tracking cleanup process.
  * UpdateCheck.c: fixed a minor bug where the wrong buffer has been check
    and therefore the changelog display in the update check always showed
    the internal tags.

2008-10-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: applied minor optimisation to the new GetLine() function. Now
    we search for the CRLF pair ourself instead of using the slower strpbrk()
    function.
  * YAM_MA.c, YAM_WR.c, YAM_DI.c, YAM_FO.c, YAM_COg.c, YAM_COs.c, Themes.c,
    YAM_TR.c: replaced all our fgets() uses by using the new overflow safe
    getline() variant we have now. In cases where no \r,\n stripping was
    required (mostly just needed for the TCP/IP stuff) the getline() was
    planely used instead, otherwise the stripping will be performed
    afterwards.
  * YAM_config.h, YAM_read.h, WriteWindow.c, ReadWindow.c, ReadMailGroup.c,
    YAM_CO.c, ParseEmail.l, YAM_UT.c, YAM_RE.c, YAM_COg.c, YAM_COs.c, YAM.cd:
    To fix bug #2056658, a way of configuring to enable/disable text soft
    styles and colors for the read and write window display have been
    implemented now. Please note that it is still not finished and needs
    some adaptions to get finally working for the write window as well. In
    addition, it seems TextEditor.mcc needs some tuning to enable/disable
    fixed font settings on the fly before all this really starts working as
    expected.
  * Debug.c, Debug.h: minor optimisations to our memory tracking framework,
    especially to the way things are output.

2008-10-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: non-existant POP3 accounts will be skipped when doing a deep copy
    of a configuration to avoid unnecessary "invalid memdup()" warnings in the
    memory tracking.
  * misc: modified the GetLine() once more to return the number of read bytes
    instead of the buffer. Thus GetLine() is 99% the same as getline(), except
    that 0 bytes indicates an empty line, because of the stripped CR and LF
    characters.
  * misc: added a size parameter to the GetLine() function to be able to reuse
    an already allocated buffer from a previous call. Also changed the order of
    the parameters to match the order of getline().
  * misc: reworked the GetLine() function to use getline() and reworked all
    functions using GetLine() to use dynamically allocated buffers instead of
    stack based ones.
  * YAM_UT.c: removed the now obsolete NGetLine function.
  * Threads.h: added some missing prototypes.

2008-10-01  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: in case an MDN request is accepted the outgoing folder will now be
    updated to reflect the newly generated return mail in that folder.
  * YAM_TR.c: in case a mail transfer failed (i.e. because of a bad password)
    the error message from the server will now be freed correctly. This finally
    fixes bug #2123715.
  * YAM.c, YAM_ER.c: pending error messages will now be freed upon program
    termination to avoid memory leaks. Furthermore the message pointers will
    now be correctly reset to NULL when the error window is closed.
  * locale/YAM.cd, locale/german.ct: added shortcuts to the MDN confirmation
    requester. This fixes bug #2140680.
  * mui/ThemeListGroup.c: the theme entry in a list will now be freed, too. This
    fixes bug #2140826.
  * locale/german.ct: fixed a "too direct" translation to somewhat more
    "understandable".
  * YAM_COg.c: replaced the old fgets() style file reading by the new NGetLine()
    function to get rid of stack based buffers.
  * YAM_COs.c, YAM_FO.c: replaced the old fgets() style file reading by the new
    NGetLine() function to get rid of stack based buffers.
  * YAM_UT.c: added new NGetLine() function which is based on the recently added
    getline() function.
  * YAM_FI.c: added a missing DeleteMailList() call to fix prevent a memory
    leak. The new memory tracking framework really pays off by now.

2008-09-30  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c, Debug.h: enabled the memory tracking of the system functions also
    for the OS3 and MorphOS debug builds. This unfortunately requires to
    the inline macros for the function jumps ourself, but well, this is just
    for debugging purposes anyway.
  * Debug.c, Debug.h: added the AllocVec#?() type of functions to the memory
    tracking framework. However, please note that the tracking of these
    functions does only work on the OS4 debug build for now.
  * Debug.c, Debug.h: slightly rewrote the new memory tracking debug framework
    to have a MEMTRACK() and UNMEMTRACK() macro similar to our D()-type of
    debugging macros. In addition, the preprocessor replacements for malloc()
    and friends are now performed via GCC enhanced preprocessor macros which
    call the original function directly. Furthermore, the memory tracking is
    now an own debug class rather than a flag and also enabled per default.
    That means if you want to get rid of the memory tracking you have to
    disable the memory tracking with "setenv yamdebug !@mtrack".

2008-09-30  Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/FreeVecPooled.c: fixed wrong UNMEMTRACK() call.
  * extrasrc/AllocSysObject.c: refined the memory tracking to track each single
    type instead of just AllocSysObject() globally.
  * Debug.c: removed the conditional free() in _UNMEMTRACK() again as it was
    quite senseless. Pending allocations from malloc() will be freed auto-
    matically by the c-library's startup code and other allocations cannot be
    handled correctly here.
  * Debug.c: reworked the _UNMEMTRACK() function to only free those allocations,
    which have been done by standard functions like malloc(). Before even
    allocations from AllocSysObject() or similar have been freed by free() which
    must have caused all kinds of obscure and funny things. Further more the
    function and type informations are no longer copied, because the strings are
    constants and cannot simply vanish while the program is running.
  * Debug.c: calling free(NULL) will no longer cause a warning.
  * HTML2Mail.l, ParseEmail.l: fixed two memory leaks caused by the flex
    generated code by manually calling the final cleanup function.
  * Debug.c: massively improved the speed of the memory tracking free() function
    by using 256 separate lists instead of just one large list. The address of
    the allocated pointer will be used as a kind of hash value to get a more or
    less equal spread over all these lists.

2008-09-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: fixed a memory when a .fimage file was used for a custom folder
    icon. This image was never properly destructed.
  * YAM_RE.c: fixed possible memory leak which was caused by overwriting simply
    previous strdup()'d strings without free()ing the former copies.
  * misc: reworked the memory tracking framework to get rid of the special
    function names. Now we are back to standard names like malloc().
  * misc: added a general memory tracking framework. This made it necessary to
    change the name allocation calls (malloc, calloc, free, etc) to make this
    optional and for the debug build only, as tracking all allocations has a
    major impact, especially on the spam filter. Tracking is enabled by adding
    "memory" to the YAMDEBUG ENV-variable. Upon termination YAM will log all
    pending allocations along with their source code file and line. All in all
    this should make it possible to track down memory leaks very easily.
  * Themes.c: a theme's URL string wasn't free()'d.
  * extrasrc/NewReadArgs.c: fixed a possible free(NULL) call.

2008-09-25  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentImage.c: combined to consecutive set()'s into one single xset().
  * InfoWindow.c: private tags will now be changed to TAG_IGNORE before the tag
    list is passed to the parent class.
  * YAM_MA.c: while deleting mails the main window's Delete button and menu item
    will now be disabled to prevent invoking the delete action more than once
    and even worse causing YAM to crash. This should fix bug #2120523.

2008-09-24  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2008-09-22  Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: updated the installer script a bit to correctly support
    an installation in french language. The script now accepts both english
    and localized language names.

2008-09-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, Requesters.c: moved the definition of the "signals" variable (and
    setting it to zero out of the event handling loop. Before possible signals
    from the previous loop's Wait() call would have effectively been zeroed
    because of this, which might have had unpredictable results.

2008-09-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_read.h: replaces all fgets() and GetLine() usages with calls to
    getline(). This should increase the flexibility and reduce stack stack usage
    a bit.
  * YAM_RE.c: reworked RE_ConsumeRestOfPart() function to use the new getline()
    function instead of retrieving each line via fgets(). This also removes the
    hardcoded line limit and allows to parse messages with lines longer than
    1000 chars.

2008-09-03  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/getdelim.c: fixed realloc mechanism of getdelim() function. A
    must_realloc check is not required really, especially not at the situation
    it was placed ;)

2008-09-02  Thore Böckelmann <tboeckel@gmx.de>

  * misc: replaced some constant buffer sizes by sizeof() usages.
  * extrasrc/getdelim.c: optimized the getdelim() function a bit to avoid un-
    necessary pointer arithmetic and get rid of some goto instructions.

2008-09-02  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/getdelim.c: added getline()/getdelim() function to our extrasrc
    pool of functions. In future we can use this functions as a replacement
    for fgets() which is known to be slightly flawed in some aspects. The
    implementation of these functions are based on the getline()/getdelim()
    functionality of the glibc library.
  * extrasrc: updated all sources to contain their proper copyright headers

2008-09-01  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: fixed a wrong debug output while scanning the headers which caused
    the length of a value to be -1 always.

2008-09-01  Jens Langner <Jens.Langner@light-speed.de>

  * mui/WriteWindow.c: fixed bug #2079685 by modifying the routines which
    decide on the type of encoding. Previously it could happen that an
    attachment with long lines (>998) had still been encoded binary only and
    thus ended up violating the RFC 2822 max. line length.
  * locale/italian.ct: updated italian catalog translation provided by
    S.Hawamdeh

2008-08-26  Alexandre Balaban <abalaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2008-08-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: modified the preselection logic a bit again to track down bugs
    #2031100 and #2050291. Before generating the TR_#? flags from various
    conditions could have resulted in a TRF_NONE flag for big mails which in
    turn would always have been ignored and not been downloaded.

2008-08-18  Thore Böckelmann <tboeckel@gmx.de>

  * Recipientstring.c: resolving the entered addresses will no longer match the
    return address of a distribution list, but only its name or description.
    This prevents flooding the To field when writing a new mail and one of the
    recipients' address matches the return address of the list. Effectively this
    fixes bug #2043554.

2008-08-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: extended the debugging stuff a bit to track down bugs #2031100 and
    #2050291.

2008-08-13  Thore Böckelmann <tboeckel@gmx.de>

  * Locale_c.sd, german.ct: fixed some strange spellings.
  * SearchControlGroup.c: a filter rule was not declared as modified if just the
    search field (To, From, etc) was modified, but not the string to be searched
    or anything else hence resulting in an unchanged filter.

2008-08-13  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2008-08-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COg.c, YAM_COs.c: the POP3 account group was disabled and
    enabled again immediately to work around a possible MUI3.8 bug, which in
    fact did not exist. Removing this false workaround also fixes bug #2045338.
  * YAM_US.c, locale/YAM.cd, locale/german.ct: in case a user's home directory
    does not exist the user will no longer be deleted, but just an error message
    will be generated now. This fixes bug #2043562.

2008-08-01  Jens Langner <Jens.Langner@light-speed.de>

  * mui/MainMailListGroup, mui/QuickSearchBar: when switching between the
    quicksearchbar result listview and the main mail listview the last
    active mail will now be kept active. This should make a quicksearch
    operation a bit more intuitive as it will be kept active across the
    different result listview. In addition, the activeobject status of
    the mail list will now be reserved when switching between the two
    alternative listviews.

2008-07-29  Jens Langner <Jens.Langner@light-speed.de>

  * mui/WriteWindow.c, YAM_AB.c, YAM_CO.c, YAM_RE.c: fixed bug #2030320 where
    upon certain "Save as..." usages YAM did not ask if the selected file
    should be overwritten in case it already exists.
  * locale/italian.ct: updated italian catalog translation kindly provided by
    Samir Hawamdeh.

2008-07-27  Jens Langner <Jens.Langner@light-speed.de>

  * mui/GenericRequestWindow.c: slightly changed the requester layout of
    the generic requester so that the requester text/group is always properly
    centered.
  * Requesters.c: in case no title is specified for a YAMMUIRequest() call
    a generic title is used so that no requester without any actual title is
    generated at all.

2008-07-15  Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed an inconsistent translation.
  * YAM.c: completely removed the Genesis specific auto-login feature, as this
    was causing more confusion than real benefit. The TCP/IP stack's user(s)
    should  not be mixed up with YAM's users, since there is no correlation
    between these two types of users. This fixes bug #1991643.

2008-07-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: changed the list of downloadable mails to show really new (= not
    yet downloaded) mails only. The old behaviour was quite unintuitive, because
    one got the impression that a previously downloaded large mail was to be be
    downloaded again.
  * YAM_MA.c: fixed the "undefined variable 'obj'" typo.

2008-07-14  Jens Langner <Jens.Langner@light-speed.de>

  * include/SDI_hook.h: updated to 1.17 version which contains a minor fix
    for the UNUSED variable specs in the hook macros.
  * locale/german.ct: adapted catalog translation to latest changes and
    fixed some minor spelling bugs.
  * mui/WriteWindow.c: fixed bug #2017051 where a copy/paste operation was
    not possible on the attachment description, mime-type and the listview
    like it was in previous versions of YAM.

2008-07-13  Jens Langner <Jens.Langner@light-speed.de>

  * italian.ct: updated italian catalog translation kindly provided by
    Samir Hawamdeh.
  * YAM_MA.c, ReadWindow.c, misc: changed the shortcut for the "next thread"
    and "previous thread" functionality of the read window to use "alt right"
    and "alt left" shortcuts. In addition, a new "Navigation" menu object was
    added to the main window's menu with also the previous and next thread
    functionality. Now it is possible to switch to the next/previous message
    of a thread in the main window as well. Moreover, an option was added to
    the configuration so that the search for mails of the same thread can be
    explicitly enabled/disabled to search through all folders. Per default,
    a mail thread search will now only be executed in the same folder because
    normally mails of the same thread should resists in the very same folder.
  * YAM_MA.c: fixed bug #2017045 where the menutitem for changing the subject
    was disabled in certain folders including the outgoing folder.

2008-07-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: Reimplemented the NOAUTOLOGIN feature which somehow had gone lost.
    This fixes bug #1991643.

2008-07-09  Thore Böckelmann <tboeckel@gmx.de>

  * MainFolderListtree.c: added the same "leaf search" when inserting a folder
    as when moving a folder.
  * HashTable.c, misc: since all instances use string hash tables only there
    is a new function providing the default string hashtable operators instead
    of having to define the same table over and over again.
  * HashTable.c, misc: introduced new callback function destroyEntry() which
    will be called upon HashTableCleanup() for every destroyed entry. By
    default this function is NULL and hence will not be called which vastly
    speeds up the cleanup process for large spam databases.
  * MainFolderListtree.c: if a folder is moved right behind a folder in a
    folder group, but at the parent level, it will now be inserted at the
    right position. Although the graphical representation was correct before,
    the internal list was screwed up.

2008-07-08  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentRequestWindow.c, FolderRequestWindow.c: the attachment request
    window's list is now the default object instead of the Ok button. This
    fixes bug #2009701. Also changed the folder request window's list to be
    "just" the default object instead of the active object.

2008-07-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped the minimum requirement of codesets.library to 6.6.
  * misc: implemented the new CSA_MapForeignChars functionality of codesets
    library. By providing the possibility to convert foreign characters which
    cannot be directly converted to the local charset into looklike ASCII
    character strings, a more intuitive mapping of chars should be achieved.

2008-06-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c, MainFolderListtree.c: a newly created folder will now be moved to
    the correct position within the global folder list, too.

2008-06-26  Thore Böckelmann <tboeckel@gmx.de>

  * FolderList.c, MainFolderListtree.c: whenever a folder was moved within the
    hierachical listtree it wasn't move in our folder list, because we no longer
    derive the order of the folders from the graphical representation, but vice
    versa. Now the folder list will be updated after every drag'n'drop action.

2008-06-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: when composing a new mail the path will now also be stripped from
    all attachment files.
  * AttachmentObject.c: when saving a single attachment a possible path part
    will now be stripped from the file name before this name is used further on.
    Before it could happen that a full path was passed to an ASL requester and
    the file either ended up in a place the user never has chosen or an error
    occured if the full path did not exist. Thanks to Christoph Poelzl for this
    hint.
  * YAM.c, YAM_UT.c, YAM_RE.c, rexx/info.c: YAM will now lock the public screen
    on which the splash window has been opened right before closing it and
    unlock it again as soon as the main window has been opened. This avoids the
    screen closing and reopening if YAM is running on its own screen instead of
    the Workbench.

2008-06-25  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2008-06-24  Thore Böckelmann <tboeckel@gmx.de>

  * include/mui/NBalance_mcc.h: added missing include file for the new
    balancing object class.

2008-06-24  Jens Langner <Jens.Langner@light-speed.de>

  * misc: replaced all our "BalanceObject" uses by uses of "NBalanceObject".
    This should introduce the more intuitive NBalance.mcc class to YAM.
    Also added the new class usage to our startup check and update check
    routines. In addition, the minimum requirements for all mcc classes are
    now set to the very latest versions available.

2008-06-23  Thore Böckelmann <tboeckel@gmx.de>

  * rexx/writefrom.c, rexx/writereplyto.c: a simply address string instead of
    an NULL terminated array was passed to the write window, resulting in empty
    addresses. Now the correct arrays are passed. This fixes bug #1999111.

2008-06-17  Alexandre Balaban <balaban@free.fr>

  * locale/french.ct: updated french translation according to latest changes.

2008-06-12  Thore Böckelmann <tboeckel@gmx.de>

  * italian.ct: updated italian translation provided by Samir Hawamdeh.

2008-06-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_WR.c, YAM.cd, german.ct, misc: renamed all "Crop" references
    to be called "Delete" because that describes the action of deleting an
    attachment from a mail a bit better. Also adapted the catalog accordingly
    and updated it according to the latest changes in our sources.

2008-06-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_WR.c, Attachment#?.c, YAM.cd: reworked the crop functionality
    to be able to crop arbitrary and even single attachments instead of all
    attachments of a mail. The cropped attachments will remain in the mail as
    attachments, but their content is changed to the former header lines only,
    including the filename.

2008-06-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: added a safety check when updating the AppIcon stats.
  * YAM_FO.c: the given folder is now checked to be no group folder, because
    these have no message list which could be locked.
  * AttachmentObject.c: an attachment part will now only be exported if the
    decoding succeeded.

2008-06-06  Thore Böckelmann <tboeckel@gmx.de>

  * english-british.ct: updated british translation.
  * Makefile: commented out all translations which haven't been updated
    recently. These translations really need a big update to make them
    up-to-date again, so there is no point in putting them into the nightly
    archives.
  * german.ct, italian.ct: minor updates.
  * italian.ct: updated italian translation provided by Samir Hawamdeh.

2008-06-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO#?.c: implemented feature request #597669. This makes it possible
    to disable opening the folder settings upon double clicking a folder item.
    The folder settings are modified quite seldom, while (accidental) double
    clicks on a folder happen quite easily, which made it very annoying if the
    setting window pops up, but one just wanted to open/close a folder group.
  * italian.ct: fixed italian translation to be compilable by FlexCat again.
    To all translators: PLEASE use FlexCat yourself to make sure your
    translation is valid and at least can be compiled by FlexCat without
    errors. Warning can be accepted, but not error. Otherwise it won't be
    included in the nightly builds!!!

2008-06-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: when replying to a mail that is located in a Sent-type folder
    the To: address of the write window will be set to the actual recipient
    of the original mail rather than setting it to the sender. This was
    changed because normally a Sent mail should only contain mail from the
    very user using YAM and as such pressing "Reply" in a Sent mail folder
    should trigger a reply of an own mail but with the recipient set to
    the actual recipient of the original mail.

2008-06-04  Thore Böckelmann <tboeckel@gmx.de>

  * german.ct: fixed some typos.
  * AttachmentGroup.c: saving the selected items will now delegate the dirty
    work (saving the attachment) to the attachment object instead of doing
    that itself. This automatically lets the object update its description
    after being decoded. Also readded a small border around all items.

2008-06-03  Jens Langner <Jens.Langner@light-speed.de>

  * AttachmentObject.c: changed the context menu layout once again to also
    show the menu items which operate on all attachments. This is possible
    because an attachment object normally knows to which group it belongs and
    as such can send method calls to the respective object. This should be
    far more intuitive instead of just showing the menu items which operate
    on a single attachment object.

2008-06-03  Thore Böckelmann <tboeckel@gmx.de>

  * Attachment#?.c: moved all actions which can be performed on a single item
    over to the AttachmentObject class. This is much more intuitive and doesn't
    require that constant get()ing of internal data. Each item has its own
    context menu and the group's context menu just consists of the menu items
    for actions to be performed on all attachments.
  * AttachmentObject.c: increased the buffer size for the description text a bit
    to be able to handle long file names and further text.
  * AttachmentGroup.c: readded the accidentally removed spacing between the
    individual attachment objects.

2008-06-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM.h, misc: reverted some of the latest changes regarding the
    weight factor export/import usage to provide a possibility to save the height
    of the attachment group. Somehow this does not work correctly at the moment
    until we rework the LoadLayout/SaveLayout functionality.
  * AttachmentGroup.c, AttachmentObject.c, AttachmentImage.c: the mouse selection
    of the attachment parts was broken as multiselection was always active
    regardless of the status of the SHIFT qualifier key.
  * AttachmentGroup.c, AttachmentObject.c, ReadMailGroup.c, ReadWindow.c,
    MainWindow.c, YAM.h, YAM_UT.h, YAM_RE.c: changed look&feel of latest changes
    on our AttachmentGroup to match the look&feel of the previous implementation.
    In addition, an added BalanceObject between the text editor and the attachment
    group allows to manually change the height of the scrollgroup object now. This
    should allow for a more appropriate adaption of the height of the attachment
    group object after it was added.

2008-06-02  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentGroup.c: make sure that the first object on a line is really put
    there, no matter whether it will be fully visible or not. There must be at
    least one object per line, otherwise we have an endless loop, because it
    would not fit in the next line either.
  * AttachmentGroup.c, AttachmentObject.c, ReadMailGroup.c: the attachment group
    is now displayed as a scrollable virtual group. This become very handy if
    there are more attachments than can be displayed in one line or if the icon
    texts are too long. This fulfills feature request #1876957.

2008-06-01  Thore Böckelmann <tboeckel@gmx.de>

  * FileInfo.c, YAM_MAf.c, WriteWindow.c: when obtaining the file's date stamp
    a valid pointer must be supplied now instead of allocating a separate buffer
    for the information.
  * AppIcon.c: added missing comment for code folding.
  * YAM.c: removed the no longer needed Name field from the StartupSemaphore
    structure.

2008-05-31  Thore Böckelmann <tboeckel@gmx.de>

  * WriteWindow.c: modified the file notification to only obey changes to the
    file's contents, because a notification will be sent for *every* change
    made, i.e. changing the file's comment will also trigger a notification.
    This is archived by watching changes to the file's date stamp.

2008-05-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, WriteWindow.c: minor cosmetic code changes to better accomodate
    the latest changes and to use the generic "isFlagSet()" macro for dealing
    with the signal processing in our main event loop.

2008-05-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: modified StrBufCpy() and StrBufCat() once more to obey a possible
    NULL source string when actually copying the string to the new buffer.
  * YAM_UT.c: modified the StrBufCpy() and StrBufCat() functions to fail
    gracefully and to output an error message if the supplied source string is
    NULL.
  * YAM_WR.c: StrBufCat() was called with a NULL source pointer which caused
    crashes on OS4, because newlib.library's strlen() function is not NULL
    pointer safe. Added a check for this. This should fix bug #1978261.
  * YAM.c: the configuration was constantly checked to be valid due to a
    missing comparison if no ADST utility was running.
  * WriteWindow.c: moved the AddTail() to the global list call behind the
    notification initialization to avoid possible race conditions.
  * #?RequestWindow.c: changed the classes to let the super class ignore all
    custom attributes upon OM_NEW.
  * WriteWindow.c: fixed the WriteWindow's broken file notification mechanism.
    A global message port will be used for all windows.
  * FolderRequestWindow.c: fixed the doubleclick notification setup. This fixes
    bug #1978384.

2008-05-29  Jens Langner <Jens.Langner@light-speed.de>

  * italian.ct: updated italian translation provided by Samir Hawamdeh.

2008-05-29  Thore Böckelmann <tboeckel@gmx.de>

  * italian.ct: fixed typo in italian translation.

2008-05-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.cd, german.ct, YAM_TR.c: added the account name to all error messages
    during a POP3 mail transfer to make it easier to spot the faulty account
    in case a user has more than one account at the same provider. This fixes
    bug #1931612.
  * WriteWindow.c: added missing MUIA_Window_AppWindow tag to allow dragging
    icons from Workbench to the attachment list.

2008-05-27  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentImage.c: added a warning and a beep in case WorkbenchControl()
    fails to deliver a list of all opened windows, which is the case for i.e.
    DOpus Magellan.
  * AttachmentGroup.c: dropping an alternative HTML part of a mail onto a
    Workbench window will now try YAM's internal filename as output filename
    in case all other possible filenames are empty strings.
  * misc: splitted all requesters into separate classes and a function to open
    a requester. By doing this we can get rid of the ugly pair of
    COLLECT_RETURNIDS and REISSUE_RETURNIDS macro calls, which may cause crashes
    because of double node removals.

2008-05-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_UT.c: fixed the broken MorphOS build as the
    ObtainDirContext() function is a macro call there and gcc 2.95.x does not
    allow to have preprocessor directives within macros.

2008-05-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_COg.c, misc: moved the charset configuration to the read
    configuration pane and changed all internals to accept a different default
    charset for the write window/operations instead. This should deal with
    bug #1881825 and help users wanting to have more control over the default
    charsets used for reading/writing an e-mail. Let's see how this goes,
    thought.

2008-05-26  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: dos.library 52.12 from the July update doesn't use the supplied
    match string correctly and simply returns all directory entries instead of
    just the matching ones. This bug has been fixed since dos.library 52.17.
    As a temporaty workaround until the next OS4 update we simply supply a
    suitable match hook to do the dirty work. This should fix bug #1971328.

2008-05-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, WriteWindow.c: reimplemented the bounce mail functionality
    by adding the necessary GUI code to the 'WriteWindow' class and
    reactiving its functionality in YAM_WR.c. Now bouncing a mail should
    work as expected again.
  * classes, misc: renamed the "classes" subdirectory to "mui" to make it
    more clear that this subdirectory contains stuff related to the
    graphical user interface.
  * YAM_WR.c: changed the autosavefilename composing function to always
    generate ".autosaveXX.txt" files with two digits.
  * YAM_WR.c, misc: changed the CreateWriteWindow() function to accept an
    additional paramater with the "mode" the write is being initialized for.
    In addition, changed the "enum NewMode" to be called "enum NewMailMode"
    and used respectively.

2008-05-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: changed the pattern for the autosave files to accept numbers only
    instead of any kind of character behind '.autosave'.

2008-05-24  Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: swapped the timer start and the enqueue operation of the request
    to ensure that the node is in the list before the timer expires for *very*
    short delays.

2008-05-24  Jens Langner <Jens.Langner@light-speed.de>

  * MimeTypes.c: added a missing include statement which ended up in a
    compiler warning. BTW: This is the 4000th (!) commit since YAM is open
    sources :). So please cheer with us on this important milestone and
    thanks to all involved parties who keep YAM floating.
  * Mime.c, mime, misc: splitted the Mime.c file into smaller modules and
    put them into the "mime" subdirectory. Now, e.g., the base64 routines
    are in a separate file instead of having all those mime encoding/decoding
    routines in one file. In addition, renamed the old Mime.c to MimeTypes.c
    as only the mime types managing routines are left here.

2008-05-23  Jens Langner <Jens.Langner@light-speed.de>

  * tools/genclasses, misc: added a parameter type check to the GenClasses
    tool so that it checks for used BOOL parameters in the DECLARE()
    statements of our classes. BOOL parameters are known to cause trouble
    and therefore should be replaced by ULONG parameters instead.
  * YAM.c, YAM_WR.c, YAM_write.h, WriteWindow.c: reworked the .autosaveXX.txt
    file handling and implemented it for the new WriteWindow implementation.
    Now the autosave functionality should work again.
  * Aboutwindow.c: updated current author list for 2.6 version.

2008-05-22  Jens Langner <Jens.Langner@light-speed.de>

  * doc/Install-YAM, locale/italian.ct: updated italian translation provided
    by Samir Hawamdeh.
  * WriteWindow.c: fixed bug where upon closing a write window no check
    for an eventually existing data loss was performed and the user was never
    warned of the data loss.
  * YAM_WR.c, rexx/*.c: forgot to reset the ActiveRexxWMData pointer as soon
    as a writeMailData object was cleaned up and it was the currently active
    rexx related window. In addition, the arexx commands will now cleanup
    and dispose a previously existing write window in quiet mode so that
    no memory/window leak may happen due to the constantly hided status
    of subsequent write windows using in arexx. That means, in practice,
    there can only be one currently active write windwo in quiet mode for
    arexx usage. I hope this is will be no serve limitation, thought.
  * YAM_MA.c, YAM_WR.c, misc: moved the NewXXXMailWindow() functions and all
    related local functions from YAM_MA to YAM_WR as they are better suited
    there.
  * WriteWindow.c, YAM_WR.c, YAM_MA.c, YAM_write.h: reimplanted the quietMode
    functionality used for the Arexx command handling of write windows. Now
    the Arexx commands dealing with the write windows should work as expected
    again and keep things "quiet" in case background processing is selected.

2008-05-21  Thore Böckelmann <tboeckel@gmx.de>

  * rexx/*.c: added missing includes for the OS3 build.
  * FolderList.c, MailList.c: reworked the deadlock detection when locking a
    list to lock the list a second time, even if that has been done before.
  * YAM_WR.c: added missing includes for the OS3 build.

2008-05-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, WriteWindow.c, misc: largely rewrote the write window implementation
    to fully use the MUI classes system in the "classes" directory. Also changed
    the write window implementation to use a global exec list to manage the
    write windows rather than using a fixed amount (3) of global write window
    structures. This change therefore allows to open a theoretically unlimited
    amount of write windows now. In addition, due to the port of the write
    window code to the internal classes system the whole write window
    functionality should be way more flexible now for future adaptions. As this
    whole thing implies a rather large code change, please bear in mind that
    some functionality may be broken and needs to be fixed in some way. In
    addition, some minor things are still missing and need to be adapted.
    Therefore "#warning 'TODO'" statements were added to the code where
    some things still need to be moved to the new write window implementation
    and which are currently disabled. This includes:

      - YAM_MA.c: the bounce mail functionality which requires a new
        "BounceWindow" class and/or adaptions to the current WriteWindow class
        to open a bounce window (old WR_NewBounce) instead.
      - YAM.c: the check for eventually existing .autosaveX.txt files have
        to be adapted to search for such files and open a new write window
        regardless of the X number.
      - Arexx: the 'quietMode' functionality of the WriteWindow class still
        needs some adaptions so that the window can really be opened in
        quietMode (hided) and that the write Arexx commands still work as
        expected.

    So please keep the above write window rewrite in mind when running this
    version because some things might still not work as expected or even
    crash YAM.

2008-05-19  Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c, rexx/*.c: reworked the ARexx handling once more. The commands don't
    use one single memory buffer for arguments and results anymore, but separate
    buffers instead. This makes variable parsing and handling much easier and
    safer.

2008-05-16  Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM, locale/italian.ct: updated italian translation provided
    by Samir Hawamdeh.
  * Aboutwindow.c: added Luca Longone and Samir Hawamdeh to the list of
    translation contributors.

2008-05-15  Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocSysObject.c: fixed a warning.
  * smakefile: one more fix to be able to build YAM with SAS/C.

2008-05-15  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc.h, lib/mos: again reworked the URL_Open() stub handling by
    adding stub libraries to 'lib/mos' rather than defining our own inline
    stubs in extrasrc.h. This should be the way we are dealing with such
    missing vararg stubs.
  * extrasrc.h, misc: added the missing URL_Open() inline stub so that the
    MorphOS compile proceeds again. Also fixed some minor compiler warnings.

2008-05-14  Thore Böckelmann <tboeckel@gmx.de>

  * smakefile: updated SAS/C smakefile according to latest changes. Compiling
    with SAS/C really becomes annoying, because of the tons of warnings.
  * YAM_UT.c: replaced the tag call of URL_Open() by a varargs call.
  * MUIObjects.c, Requesters.c: separated lots of functions into distinct
    modules. All requester functions are now located in Requesters.c and all
    simplified MUI object creation functions are located in MUIObjects.c. This
    should help to shrink that monster YAM_UT.c.

2008-05-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: slightly modified the birthday check function, as it wasn't
    recursive at all.
  * misc: moved all AppIcon and Docky icon related stuff to separate modules.

2008-05-12  Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: the argument array was initialized with shifted indices.

2008-05-11  Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c: reworked the STEM variable handling to use a standard Exec MinList
    instead of a handcrafted list. Also cleaned up the code a bit.
  * YAM_UT.c: the AppIcon now uses the same image logic as the folder icons do.
    That means that the "new" image will be used, whenever there is either new
    or unread mail, "old" otherwise. Before the "new" image was used for really
    true new mails. But since YAM removes the "new" state from a mail after
    getting new mails this is much more intuitive, since the mail is "almost
    new" and still unread.

2008-05-10  Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c: one of the latest changes made YAM set ARexx variables even if there
    was no result to be set. This caused OS4 to crash badly, while it went
    unnoticed on OS3.

2008-05-09  Thore Böckelmann <tboeckel@gmx.de>

  * Rexx.c, rexx/*.c: reworked the source layout again. Now the parameter
    structures are strictly local and the required index for a possible result
    of an indiviual command is returned upon memory allocation. Also removed
    the possibility to disable certain commands, as this wasn't used at all.
  * rexx/help.c: fixed a slightly wrong output.

2008-05-08  Thore Böckelmann <tboeckel@gmx.de>

  * rexx/*.c: added the missing proto/exec.h include for OS4.
  * misc: split the complete YAM_rexx_rxif.c file into separate files which
    are now located in the subdirectory "rexx". YAM_rexx.c has been renamed
    to Rexx.c.
  * YAM_rexx.c: the HELP command was broken due to the latest changes.

2008-05-07  Thore Böckelmann <tboeckel@gmx.de>

  * misc: added a character set popup list to the write window's option page.
    This allows to specify a different charset than the global charset for this
    single mail. The selected charset is applied to the letter part of the mail
    only. All other parts will still be encoded using to the global charset.
    What is now missing is a suitable ARexx command to set this charset
    remotely. This should fulfill feature request #1959238.
  * YAM_COg.c: the current charset wasn't highlighted in the popup list, because
    the wrong attribute was queried.
  * YAM_rexx.c, YAM_rexx_rxcl.c, YAM_rexx_rxif.c: replace the outdated custom
    search method for ARexx command by a simple binary search. The old method
    stems from an old tool to generate linked lists. Unfortunately the generated
    code is not extendable without that tool and with the binary search the
    parsing code becomes much easier to understand. All in all this change
    makes the YAM_rexx_rxcl.c module completely unnecessary.

2008-05-06  Thore Böckelmann <tboeckel@gmx.de>

  * locale/italian.ct: updated italian translation provided by Samir Hawamdeh.
  * YAM_MA.c: added missing check for DELF_UPDATE_APPICON.
  * ReadMailGroup.c, ReadWindow.c: added the missing DELF_UPDATE_APPICON flag
    to the MA_DeleteSingle() calls. Otherwise the AppIcon won't be updated.

2008-05-06  Jens Langner <Jens.Langner@light-speed.de>

  * ReadMailGroup.c, ReadWindow.c: fixed some unconverted MA_DeleteSingle()
    usages which where forgotten to be switched to the new flags based
    API and prevented YAM from building correctly.

2008-05-05  Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: updated italian translation provided by Samir Hawamdeh.
  * locale/italian.ct: updated italian translation provided by Samir Hawamdeh.
  * YAM_MA.c, YAM_TR.c, YAM_FI.c: replace the single boolean parameters of
    MA_DeleteSingle() by flags, because an additional information was needed
    to prevent an update of the AppIcon, which could cause nested locks of
    the folder list.

2008-04-27  Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install-YAM: updated italian translation provided by Samir Hawamdeh.
  * locale/italian.ct: updated italian translation provided by Samir Hawamdeh.

2008-04-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: in case of an error during a transfer an additional linefeed will
    be added to the debug output. This fixes bug #1948233.

2008-04-20  Thore Böckelmann <tboeckel@gmx.de>

  * locale/italian.ct: updated italian translation provided by Samir Hawamdeh.

2008-04-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_FO.c: fixed a small bug while calculating the amount of mails
    within the folder listtree.
  * YAM.c, YAM_FO.c, YAM_UT.c, MainFolderListtree.c: modified all folder
    listtree related stuff to use FolderNodes in the tree instead of simple
    Folder pointers.
  * YAM_FO.c: when creating a new folder there was a slight chance that the
    configuration of a previously edited folder was modified.

2008-04-15  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c, ReadWindow.c: moved the RE_GetThread() function over to
    ReadWindow.c and split it into two functions as it contained the same code
    twice. Before the thread functionallity didn't work because a variable in
    the loop shadowed the result variable and hence the function always returned
    failure, even if the mail belonged to a thread of mails. This fixes bug
    #1925722.

2008-04-14  Thore Böckelmann <tboeckel@gmx.de>

  * FolderList.c, MailList.c: added the usual ENTER()/LEAVE() macro calls.
  * YAM_MA.c: fixed another double folder list lock.
  * locale/italian.ct: fixed some bugs in the italian translation to make it
    compilable by FlexCat.

2008-04-13  Thore Böckelmann <tboeckel@gmx.de>

  * MailList.c, FolderList.c: slightly extended the unlock mechanism in case of
    too many unlocks and nested locks.
  * MailList.c, FolderList.c: the debug build will now use functions instead of
    macros for locking and unlocking of mail and folder lists. These functions
    will output an error in case to nested locks or too many unlocks. This
    should help avoiding and finding double locks like in bug #1883818.
  * YAM_UT.c: slightly modified the debug output while updating the AppIcon.
  * YAM_FO.c, YAM_rexx_rxif.c: removed the folder list locking within
    FO_GetFolderPosition() to be able to update the folder statistics while the
    folder list is already locked. This most probably also fixes bug #1883818.

2008-04-12  Thore Böckelmann <tboeckel@gmx.de>

  * locale/italian.ct: updated italian translation kindly provided by Samir
    Hawamdeh. Not yet finished, but work in progress.

2008-04-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COs.c: the disable mechanism for the SSL/TLS radio buttons was
    a bit too harsh and disabled the buttons even if AmiSSL was available. But
    as soon as SSL/TLS was switched off once and the user returned to the config
    the buttons were always ghosted and didn't allow to reactivate SSL/TLS.

2008-04-09  Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: fixed a typo.
  * YAM_COg.c: removed two senseless notifications which might be guilty for
    disabling the SSL/TLS radio buttons even if AmiSSL is available.
  * YAM_FO.c: when modifying the settings of an already existing folder the
    folder tree will no longer be saved to make sure that any temporarily
    opened/closed folder groups will have the wrong state saved. For new folders
    the tree will be saved nevertheless. This fixes bug #1876967.

2008-04-08  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_ER.c: the error window's slider label wasn't set correctly upon opening
    the error window manually.

2008-04-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: when getting an email adress from a mail message resisting
    in a mailing list folder, the ReplyTo address was stored in the addressbook
    rather than the From address.
  * Recipientstring.c, Addrmatchlist.c: fixed a problem where in case a
    realname was quoted within an addressbook entry, the recipient string
    didn't correctly find/replace the entry.

2008-04-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_ER.c: the error display wasn't updated if the number of errors reached
    the maximum number, because the slider object doesn't trigger its change
    hook when there is no real change. Now the update is performed manuall.
    This fixes bug #1931532.

2008-04-02  Alexandre Balaban <balaban@free.fr>

  * locale/french.ct: french translation update according to latest changes.

2008-04-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_MAf.c, YAM_mainFolder.h, YAM_TR.c: reworked the bounce message
    operation to more comply to the RFC2822 section 3.6.6 (Resent fields)
    standard. Previously, a bounce operation touched the original message and
    altered the "To:" header field. However, as we are reinserting a bounced
    message into the transport stream we have to use the "Resent-#?" headers
    as defined in the RFC2822 standard which makes it possible to identify that
    the message in question is a resent message.

2008-04-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: the New/Delete button below the POP3 account list will now be
    disabled if either limit is reached. This fixes bug #1931594.

2008-03-31  Thore Böckelmann <tboeckel@gmx.de>

  * Threads.c: replaced all #?IORequest() and #?MsgPort() calls by appropriate
    calls to #?FreeSysObject(). Also replaced all AllocVec()/FreeVec() calls by
    AllocVecPooled()/FreeVecPooled() calls. Thus all deprecated function calls
    should be eliminated.
  * NewReadArgs.c: use AllocSysObjectTags() instead of AllocSysObject().
  * NewReadArgs.c: modified to no longer use deprecated functions on OS4 but
    resource tracking enabled functions instead. For all other builds finally
    the intended pools are used instead of the ancient AllocRemember() calls.

2008-03-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_WR.c, YAM_MAf.c, misc: when replying to a message, YAM was
    not respecting the required "References:" header field (according to
    RFC2822) to allow mail clients to keep track of the mail threading. Now
    YAM will insert a References: header field together with the required
    In-Reply-To and Message-ID header field. This should make YAM more
    compliant to the RFC as previously it wasn't taking note of the
    References headers at all. In addition, the HeaderFputs() function will
    now try to line wrap header field which are about to be larger than 78
    characters.
  * YAM_WR.c: the data of a write window was not properly cleaned up if it
    was just canceled. This was a potential source for a memory leak.

2008-03-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: when changing a folder's path the requester will now use the
    user's mail directory as default directory instead of YAM's directory.

2008-03-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: fixed a copy'n'paste bug which cleared the To: field when editing
    a not yet sent mail. This fixes bug #1925711.

2008-03-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_UT.c, misc: moved CompressMsgID() function to YAM_RE.c and
    reworked it to only take the first found msgid found in the supplied msgid
    character string. This should prevent that we are compressing the whole
    content of the In-Reply-To header field which might contain more than just
    one msgid according to RFC2822 section 3.6.4.

2008-03-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed a bug where the MIME conformance flag was not propagated
    to the sub message parts and therefore ended up in not correctly parsing
    some MIME messages.

2008-03-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, misc: modified the RE_ScanHeader() routines to test for the
    existance of a "MIME-Version:" header field for a main header scan.
    This should improve the RFC2049 MIME conformance such that YAM
    does not assume all mails to be MIME-aware mails anymore. If now the
    'MIME-Version:' header field is missing, YAM will skip all MIME
    routines such as multpart management and the management of different
    encoding schemes (base64,uucode, etc).
  * genclasses: fixed a bug in the list_findname() function where
    after the last fix the function didn't correctly find a named
    node. In addition, a new "-q" option now prevents all standard
    output as only fprintf(stderr,...) will be shown upon execution.

2008-03-21  Thore Böckelmann <tboeckel@gmx.de>

  * genclasses: fixed a memory leak due to a wrong linked list implementation.
    There was always one node left in a list upon calling list_remhead() until
    it returned NULL. Also added a sort functions for linked lists.

2008-03-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed a minor bug in the ExtractAddress() function where a double
    quoted string ""Realname"" was not properly unqoted at the borders only.
  * YAM_UT.c, YAM_AB.c: reworked the BuildAddress#? functions to better comply
    to the rules defined in RFC2822. This includes a proper quotation according
    to the 'specials' char list, excluding the '.' character. In addition,
    " and \ will be properly escaped if it exists in a realname string right
    before creating the address string. Last, but not least, the BuildAddress()
    function was put into YAM_UT right beside the ExtractAddress() function
    which in fact is the reverse function of it. All in all this should fix
    certain issues which was caused by not properly quoting/escaping certain
    chars in a realname.

2008-03-20  Thore Böckelmann <tboeckel@gmx.de>

  * Recipientstring.c: after resolving the addresses upon pressing Enter or
    Return a separator will be added, if the matchlist was visible. This makes
    it lot easier to enter several address right after each other. All in all
    this fullfils change request #1918343.
  * Recipientstring.c: if Enter/Return is pressed while the matchlist was
    visible the advance to the next object in the window will be skipped,
    because pressing Enter/Return usually was meant to add the selected
    recipient in this situation.

2008-03-19  Thore Böckelmann <tboeckel@gmx.de>

  * misc headers: cleaned up some indentations.
  * YAM_MA.c: some minor code cleanups.

2008-03-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: added some more paranoia checks when cleaning up the read mail
    stuff.

2008-03-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: YAM was always applying the RFC2047 header encoding routines
    in case a header field contained quotation '"' characters. Since we
    have new encoding routines this is not required anymore and therefore
    better conforms to the respective RFC.

2008-03-14  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile, Makefile.dep: reworked the Makefile to not require the 'sed'
    tool anymore to regenerate the dependency file. Also simplified other
    sections of the Makefile by introducing the use of the $(VPATH) search
    variable which allows to just list the object files without having
    to explicitly put OBJDIR in front of it. All in all, the makefile
    should now be much more cleaner and more slim.

2008-03-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: the "checked" counter was bumped at the wrong place causing
    all non-spam mails to be counted twice. This fixes bug #1909386.

2008-03-06  Pär Boberg <pbobbenb@spray.se>

  * locale/swedish.ct: updated according to changes.

2008-03-05  Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/vastubs.c: added a stub for CreateNewProcTags() to be able to
    do the OS3 build with clib2's libamiga.a.

2008-03-02  Jens Langner <Jens.Langner@light-speed.de>

  * Mime.c, Mime.h, YAM_WR.c: completely reworked the RFC2047 header encoding
    routines from scratch. The old routines were largely broken by design like
    e.g. bug report #1897222 pointed out. The new routines should be more
    robust now as they are largely adopted from the sources of the rfc2047
    routines taken and adapted from the Courier IMAP server project
    (http://www.sf.net/projects/courier). In addition, the new routines do
    support base64 based rfc2047 encoding now, which the old functions didn't
    implement at all. All in all, the new routines should be also a bit more
    flexible to future adaptions - lets see how they perform ;)

2008-02-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the incoming folder's treenode is now redrawn after each received
    mail. First of all this is consistent to sending mails and redrawing the
    outgoing folder's treenode, and it gives instant feedback even without a
    transfer window. Scrolling in folder treeview while a transfer was in
    progress did this redraw already as well as making the folder treeview
    inactive and active again.

2008-02-27  Jens Langner <Jens.Langner@light-speed.de>

  * ParseEmail.l, HTML2Mail.l: added a minimum flex version requirement check
    to the lexer files. This is requires so that on one hand we have a unified
    build environment throughout our developers and because the latest official
    flex version (2.5.35) fixes some important issues. This should prevent
    building YAM with ancient flex versions known to be buggy.

2008-02-26  Thore Böckelmann <tboeckel@gmx.de>

  * misc classes: added the same "event handler added" check to all other
    classes which could possibly walk into the same trap as AttachmentImage.
  * AttachmentImage.c: fixed a potential crash in case a mail had a yet
    undecoded attachment and YAM was iconified and uniconfied while this mail
    was currently being displayed. In this case the event handler was not added
    during MUIM_Setup, but removed in MUIM_Cleanup, which can cause any kind of
    funny things to happen. Most probably this fixes bug #1899484.
  * misc: various little code cleanups, no functional changes.

2008-02-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: the last fix didn't work exactly as intended.
  * YAM_FO.c: searching for a folder no longer relys on the graphical represen-
    tation by the folder listtree, but uses the list of folders directly.

2008-02-23  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: reworked the compilation output to not use any ANSI color output
    as that messes with some terminals not properly supporting ANSI. In
    addition we use "make -C" from now on to walk into subdirectory
    compilation. Furthermore, the Arexx date calculation routines are now
    used for native OS4 hosted compiles as the gdate based calculation didn't
    work out as it seems.

2008-02-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: make sure the first entry of the MIME list is really visible and
    not just active.
  * Threads.c: in case YAM was aborted early (i.e. a missing .mcc) the thread
    subsystem was cleaned up nevertheless and caused crashes, because
    uninitialized lists were accessed. Now a proper check is done before then
    cleanup. This fixes bug #1899531.

2008-02-21  Thore Böckelmann <tboeckel@gmx.de>

  * MailList.c, YAM_UT.c: moved the locking of the mail list in some functions
    more to the front to avoid accessing a non-locked list. Also moved the list
    locking into MailListToMailArray().
  * YAM_MA.c: added a warning/error message when no active/selected or new mail
    could be found upon creating such a list of mails.
  * YAM_MA.c: slightly changed how the number of actually deleted mails is
    counted to be more obvious.
  * YAM_MA.c: added some more debug code when deleting mails.
  * YAM_MAf.c: changed two debugging macros to the correct class.

2008-02-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: changing the active mail, which requires the active folder to be set,
    doesn't make any sense before the folder list is loaded at all. This caused
    the "Spam" button to be shown in disabled state right after starting YAM,
    because there was no active mail nor an active folder.

2008-02-20  Jens Langner <Jens.Langner@light-speed.de>

  * Mime.c: fixed bug #1897222 where under certain circumstances the RFC2047
    header encoding routines failed when line wrapping occurred due to the
    encoding word limits.

2008-02-18  Thore Böckelmann <tboeckel@gmx.de>

  * BayesFilter.c: having rethought the stuff, the address book is not longer
    searched for the real name of a mail's sender as this is too easy to forge.

2008-02-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: old mails are no longer deleted immediately but copied over to a
    temporary "to be deleted" list first. This avoids locking a folder's mail
    list twice (or even more often), which seems to produce deadlocks for some
    users. Also added some more debugging informations about mails to be
    deleted.
  * YAM_UT.c: some minor optimizations.
  * BayesFilter.c: in case the address book is considered as white list the
    sender's real name and address are now searched in the address book. This
    should improve the white listing a bit.

2008-02-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: added some debug output when searching for a pattern in the
    address book.

2008-02-13  Jens Langner <Jens.Langner@light-speed.de>

  * www: added new 'www' top-level directory to our repository and added all
    the update mechanism php and data files so that every developer can go
    and improve our update mechanism. In future all our website stuff should
    be put here to make sure that every developer can modify and improve
    things immediately.

2008-02-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_MAf: the bubble help of the folder listtree is now also
    disabled while rescanning a folder. However, it is reactivated as soon as
    the scanning is finished or if the current folder is changed. This and the
    previous change fix bug #1892192.
  * YAM_MAf: the bubble help of the mail list is now disabled while rescanning
    a folder.
  * Threads.c: some code clean up.

2008-02-08  Jens Langner <Jens.Langner@light-speed.de>

  * Threads.c, misc: added a first preliminary port of the multithreading
    implementation of SimpleMail. Please note, that this is a first very basic
    and untested port of the multitasking/multithreading framework. Apart from
    the initialization routines it is currently not used at all in YAM. Further
    work is definitely required and I would suggest to first try to get that
    stuff running for one of our regular timer jobs (e.g. automatic index
    saving) to verify that this stuff actually works as expected. Afterwards
    we might try to use it for larger jobs like managing asynchronous TCP/IP
    connections.

2008-02-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: a newly created folder was never added to the new global list and
    even worse the folder pointer in the tree view still pointed to a no longer
    existing structure on the stack. This fixes bug #1887196.
  * YAM_UT.c: added some assertions to track down a possible bug in the folder
    maillist management.

2008-02-04  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the UIDL hash table will now only be saved if it was modified
    during the mail transfer. This fixes bug #1885491.

2008-02-03  Thore Böckelmann <tboeckel@gmx.de>

  * ReadWindow.c: fixed the broken search for unread mails.

2008-01-31  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: simplified the copying/moving of a mail a bit so that YAM doesn't
    have to handle yet another copy on the stack.
  * YAM_UT.c: made the debug log a bit more verbose upon copying/moving a file
    from one folder to an other one.
  * YAM_FO.c: fixed an "access after free()" bug.
  * ReadWindow.c, ReadMailGroup.c, YAM_RE.c: reverted the recent changes to the
    enabled state of the "Check PGP signature" menus. Only the signature of new
    mails will now be checked automatically. After that the user must invoke
    that action manually.
  * YAM_MA.c: optimized the creation of complete mail lists by using
    CloneMailList() instead of doing the dirty work ourself.
  * Debug.c: fixed a possible buffer overrun when starting time measurement
    clocks.
  * YAM_addressbookEntry.h: minor cosmetic changes.
  * misc: reconstructed the folder lists analog to the mail lists. All in all
    the folders are no longer managed by an NListtree object anymore but are
    kept in a real global list while the tree items just reference the single
    folders. Analog to mail list the global folder list can be locked either
    exclusively or shared, depending on whether the list is going to be modified
    or not. Creating clone copies therefore is no longer necessary.
  * misc: the mail lists can now be locked exclusively or shared, depending on
    whether the list is going to be modified or not.

2008-01-30  Thore Böckelmann <tboeckel@gmx.de>

  * ReadWindow.c, ReadMailGroup.c: the "Check signature" menu item will now be
    disabled if the signature of a mail has been checked already, as YAM did
    prevent a double check anyway already.
  * YAM_UT.c: added the return code of PGP commands to the debug log.
  * AttachmentGroup.c: in case an attachment had no name but a description only
    the name of attachment image could be drawn over futher images to the right,
    because the width was calculated using the empty name instead of the
    description.

2008-01-28  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2008-01-28  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: getting the BitMapHeader after the remapping process seems to
    to obtain wrong depth information (a depth compatible to the screen being
    remapped to instead of the true depth of the image) on OS4. Hence we obtain
    the BitMapHeader right after loading the image via datatypes.library now.
    This fixes bug #1876914.
  * YAM_MA.c: fixed a double lock of a mail list.

2008-01-27  Alexandre Balaban <balaban@free.fr>

  * locale/french.ct: french translation update according to latest changes.

2008-01-26  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: a user folder was not deleted completely if there was a .signature
    file existing.
  * YAM.c: fixed the initial wrong folder icon display. The "new" icon was
    always shown if there were mails in the folder at all, instead of only if
    unread mails existed.

2008-01-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_md5.c, Mime.c: moved all md5 message digest function to the generalized
    Mime.c source file where all our message encoding/decoding and mime functions
    are stored.

2008-01-24  Jens Langner <Jens.Langner@light-speed.de>

  * ParseEmail.l,h: renamed the YAM_mail_lex.? stuff to ParseEmail.? as that
    stuff is also one of the reworked sources.
  * Locale_c,h.sd: renamed the C_c.sd and C_h.sd files to be called "Locale"
    which in fact should be more precise. In addition a "Locale.c" and
    "Locale.h" file will now be generated.
  * Mime.c, Mime.h: renamed the YAM_MI.c,h to Mime.c,h which really should
    have happened earlier as all functions in that file were anyway rewritten
    from scratch and we want to get rid of the YAM_ prefix sooner or later.
  * misc, STYLEGUIDE: cleaned up all our header files by using forward
    declarations for variables which are defined as pointers only. Please note
    that forward declarations can become very handy and usefull. It really
    decreases the amount of cross dependencies between files and speeds up
    compilation.

2008-01-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: fixed the wrong folder icon display. The "new" icon was always
    shown if there were mails in the folder at all, instead of only if unread
    mails existed.
  * YAM.c, YAM_COs.c: replaced the old hand crafted 1.x style folder conversion
    to use our recently introduced folder list functions.
  * YAM_FI.c: replaced a hand crafted folder list allocation by our recently
    introduced folder list functions.
  * Recipientstring.c: minor cosmetic fixes.
  * Addrmatchlist.c: distribution lists were treated like plain users and hence
    were not resolved correctly. Now the list name will be used instead of the
    non existing address. This fixes bug #1877027.
  * YAM_COg.c, YAM.cd, german.ct: in case a sound file could not be played the
    error requester now contains the file name as well. Also fixed the broken
    german translation. This fixes bug #1878395.
  * YAM_EA.c: pasting to the address field below the member list was impossible
    because internal handling of shortcuts was forbidden. This caused bug
    #1877025.
  * misc: converted all array based folder lists into true Exec style MinLists.

2008-01-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c: fixed a crash issue where creating a new folder just generated
    an empty struct Folder without any mail list. It seems the whole folder
    management needs some large rework as it seems to be quite a mess...

2008-01-23  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: upon deleting a folder (i.e. at program shutdown) the mails
    themself were not deallocated.
  * YAM_EA.c: cleaned up according to the STYLEGUIDE.
  * ImageArea.c: fixed the width/height calculation for scaled images. Very
    small dimensions could result in a zero width or height which made
    picture.datatype go mad. Also made sure that the resulting image dimensions
    don't exceed the wanted maximum dimensions by not rounding up the scaled
    dimensions.
  * YAM_UT.c: added a type cast to please GCC.

2008-01-22  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.
  * doc/Install-YAM: added Czech translation.

2008-01-22  Thore Böckelmann <tboeckel@gmx.de>

  * misc: replaced the list of mail within a folder structure by the new mail
    list. This makes mail list handling much more consistent.
  * YAM_MA.c, MailList.c: moved the list empty check to the end of the function
    and renamed the ContainsMailNodes() macro to IsMailListEmpty().
  * YAM_AB.c: removed some TABs.
  * YAM_MA.c: removed a superflous ContainsMailNodes() check.
  * AllocSysObject.c: user specified memory flags are now respected and the size
    of an object now cannot be smaller than the default size.
  * YAM_MA.c: MA_Create#?List() will now fail if no mails could be added to the
    list.
  * MailList.c: added some more comments about when to lock a list of mails and
    added a new macro to check for empty lists.


2008-01-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed another recenntly introduced bug where a RemoveMailNode
    was not necessary and caused an illegal memory access when deleting old
    mails during shutdown of YAM.
  * YAM_UT.c, YAM_utilities.h, YAM_COg.c: reworked the PlaySound function to
    not try to stop any still open datatype object via STM_STOP as this may
    cause runtime trouble. Just disposing the object and recreating/playing
    it should be enough and exactly what others or doing. In addition, we
    are now warning the user in case the STM_PLAY trigger method didn't work
    on a sound file, when testing the sound in the configuration.
  * MailList.c: fixed a nasty bug in the new mail list implementation which
    caused heaps of memguard hits when deleting a mail node. We got it,
    Thore! :)
  * MailList.c,MailList.h: converted the Lock/UnlockMailList() functions to
    preprocessor macros which should be more convienent. :)
  * ReadWindow.c: minor optimization to not allocate a mail list for all
    operations (new,reply, etc.)
  * YAM_MA.c: the number of moved and copied mails were calculated incorrect
    in case an action was aborted.
  * YAM_MA.c: changed the MA_CompareByDate() function to only accept pointers
    of struct Mail rather than a generic void pointer.
  * YAM_MA.c: fix a possible bug in the updated MA_CreateMarkedList() function
    where the function itself did not return a NULL in case no mails were
    selected and/or active.

2008-01-21  Thore Böckelmann <tboeckel@gmx.de>

  * misc: replaced all array based lists of mail by true Exec lists. This
    fullfils task #134391.

2008-01-21  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c: removed some unnecessary checks for CyberGfxBase on OS4/MOS.
    These checks also prevented the OS4 from building correctly.
  * YAM.c: fixed bug #1876343 where the cybergraphics library was being opened
    two times as well as being flagged necessary. This prevented YAM from
    on systems without any graphics card.

2008-01-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_global.c, include: added all necessary includes of xadmaster
    library and added the openlib/closlib stuff to YAM.c. This should be the
    first preparations for a possible integration of xadmaster functionality
    directly in YAM (direct extracting of archived attachments).

2008-01-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, Timer.c, misc: moved all our Timer management functionality in a
    separate source file. This should make things more modular and also perhaps
    more clear for a future multithreading implementation.
  * YAM_MI.c: fixed bug #1874388 where the RFC2047 header encoding routines did
    not correctly perform a line break under certain situations. This had the
    effect that in those cases the encoding routines doubled the subject
    line.

2008-01-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: added some debug output to the header emit functions to track down
    that japanese UTF8 encoding bug.
  * YAM.c, YAM_WR.c: some more minor changes according to the STYLEGUIDE.
  * YAM_WR.c, YAM_CO.c: some minor changes according to the STYLEGUIDE.
  * YAM.c: renamed the SKIPGENESISUSER option to NOAUTOUSER which is available
    in all builds.
  * YAM.c: added SKIPGENESISUSER option to skip automatic login of Genesis'
    global user. This will enable Genesis users to get the normal login prompt.
    Also changed all usages of /S options to true boolean values instead of
    negated integers.
  * YAM_AB.c: added missing RETURN() macro call and some debug output about the
    string to be parsed.

2008-01-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c, YAM_EA.c, locale/YAM.cd, locale/german.ct: birthday dates are now
    displayed in locale format and no longer in AmigaDOS format. This way the
    birthday dates are now in the same format as all other dates within YAM.
    This fullfils change request #1846656.
  * YAM_CO.c, YAM_COs.c: the TLS/SSL radio buttons where not correctly disabled
    if AmiSSLv3 was not available.

2008-01-16  Vit Sindlar <sindlarv at centrum dot cz>

  * locale/czech.ct: updated Czech translation.

2008-01-15  Thore Böckelmann <tboeckel@gmx.de>

  * Themes.c: added "IgnoreMissingImages" as boolean config option in .theme
    files to automatically ignore missing image files. This is quite handy if
    you use the empty theme as you don't have to set the NOIMGWARNING ToolType.

2008-01-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: again Outlook seems to violate known RFCs by inserting
    only properitary headers for requesting a return receipt. YAM therefore
    didn't react on any "Return-Receipt-To" header for requesting a receipt
    and instead only recognized a "Disposition-Notification-To" header.
    Now YAM should also react on the "Return-Receipt-To" headers and ask
    the user what to do. We however won't insert that properitary header
    field for any return receipt request.

2008-01-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: fixed a signedness warning.
  * YAM_TR.c, YAM_FI.c: the assumption about the number of checked mails
    compared to the number of spam classified mails was wrong if there are
    no user defined filters and caused the actions new mail to be never
    executed (i.e. play a sample).
  * YAM_TR.c: added some more debug output to track down a MOS problem.

2008-01-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c, locale/YAM.cd, locale/german.ct: if sending messages fails the log
    file will now no longer have a successful entry. This fixes bug #1869847.
  * YAM_UT.c: added some debug output to the PlaySound() function.

2008-01-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: fixed a bug in the WR_ChangeSignatureHook which shows up if the
    the file change notification does not work or is not active. Now the
    signature should be changed regardless of any file notification and
    therefore update in any case. In addition, the signature change will now
    respect the HasChanged attribute of the texteditor and doesn't touch
    it.

2008-01-10  Alexandre Balaban <balaban@free.fr>

  * locale/french.ct: french translation update according to latest changes.

2008-01-10  Thore Böckelmann <tboeckel@gmx.de>

  * ImageArea.c: added some more debug output about blitting the image on the
    screen and fixed a broken D() call. Additionally the scaled image will now
    be centered within its domain, too.

2008-01-10  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c: reverted some of the optimizations when querying the
    PDTA_AlphaChannel attribute. This might have caused some issues as the
    picture.datatype of MOS doesn't seem to purely set the attribute to
    a BOOL?!?

2008-01-09  Jens Langner <Jens.Langner@light-speed.de>

  * ImageArea.c: the image scaling mechanism which in fact also uses
    PDTM_READPIXELARRAY will now also ignore the return value for MorphOS
    builds as a workaround of the problem that the picture.datatype of
    MorphOS <2.0 doesn't return a correct value.

2008-01-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: reading the contents of an editor object from a file now
    optionally flags the editor as changed instead of always. This makes
    it possible again to recognize a modified signature in the config
    window.
  * locale/german.ct: fixed a typo.
  * ImageArea.c: fixed the wrong pixel format detection for MorphOS and OS3.
    32bit image data was blittet as 24bit data, which resulted in stretched
    and striped images.

2008-01-08  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c: we only issue the PDTM_READPIXELARRAY method in case the
    bitmap isn't masked as having a transparent color (mskHasTransparentColor).
    This should prevent the use of a pixel array on 24bit images which are
    having a transparent color instead of an alpha channel.

2008-01-08  Thore Böckelmann <tboeckel@gmx.de>

  * locale/german.ct: german translation updateed according to latest changes.
  * YAM_UT.c: added an error debug message in case exection of an external
    command failed.
  * misc: removed several hard TABs from the source.
  * ImageCache.c: added some more debug output concering alpha channel
    detection.
  * ImageCache.c, ImageArea.c: the pixel array size calculation no longer relies
    on the image depth but only on whether an alpha channel is available or not.

2008-01-07  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: changed the alpha channel detection once more, because
    24bit images were displayed wrong.
  * YAM_COg.c: the POP3 account list now has a proper display hook. The old
    solution only worked by pure luck, because the first element of struct POP3
    was the string actually to be displayed. Additionally inactive accounts
    will be shown in italics now.
  * ImageCache.c: improved the alpha channel detection for MOS even more by
    asking the object directly about the presence of an alpha channel.
  * ImageCache.c: the result of the PDTM_READPIXEL method call is now ignored
    for MorphOS as this function seems to signal failure even if the operation
    succeeded. TheBar.mcc ignores this value, too.

2008-01-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM.c, YAM_MA.c, YAM.cd: changed the write window file
    notification routines to only start a file notification in case an
    external editor is used instead of always being notified in case the
    temporary file has been modified. In addition, a warning requester will
    now be issued in case the internal editor was also used while the external
    editor is used. This should prevent a loss of either of the modified texts
    by accident.
  * YAM_WR.c, WriteWindowToolbar.c: in case no external Editor is configured
    in the configuration, the Editor toolbar button is hided and the
    corresponding menu item ghosted.
  * YAM.c, YAM_MA.c, YAM_UT.c: added some more debug information to the
    write window file notification setup/handling. This should help to
    investigate issues related to the file notification system.
  * QuickSearchBar.c: fixed a potential NULL pointer access.

2008-01-05  Jens Langner <Jens.Langner@light-speed.de>

  * misc: added some casts to fix some warnings caused on the MorphOS build.
  * Makefile: removed "-ldebug" from the MorphOS build as our debugging
    is using the VNewRawDoFmt() function instead of the deprecated kprintf()
    now.
  * Debug.c, Debug.h, YAM.c: changed the runtime debugging facility to use
    a generic _DBPRINTF() function for actually output something. This finally
    allowed to introduce the possibility to redirect the debugging output
    to CON: and directly to a specified file instead of always forcing to
    catch the YAM debug output from the serial line or via Sashimi. Now a
    user can use "setenv yamdebug con" to let YAM output anything to CON:
    instead. In addition a "setenv yamdebug file:debugfile" will instruct
    YAM to output all debug information to a file called "debugfile" in
    the very directory YAM is started from. Please note, however, that this
    will only redirect the YAM debug information. Enforcer/CyberGuard
    output will still be redirected to the serial line per default. And the
    default will be kept to output anything on the serial line instead.

2008-01-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: upon restart the old behaviour is now restored if the logged in user
    stays the same. Otherwise the usual startup actions will be executed.

2008-01-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_UT.c, YAM_rexx.c, AllocSysObject.c: removed all specific
    #ifdef preprocessor statements around the use of AllocSysObject and
    FreeSysObject. Now our own wrapper function will be used on OS3 and
    MorphOS systems which in fact should make the sources a bit more clean.
  * YAM_UT.c: fixed URL_Open() call to use the URL_OpenA() function instead
    which should fix compilation on OS3 and MorphOS.

2008-01-04  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: Ambient should provide the same file recognition functionallity as
    DefIcons does. MOS users please check if the attachments icons are more
    beautiful now and if that "screw" image is gone.
  * extrasrc/AllocSysObject.c: added our own implementation of AllocSysObject()
    and FreeSysObject() based on the implementation by Ilkka 'itix' Lehtoranta.
    These functions are intended to be used with OS3 and MOS, since OS4 offers
    them already natively.
  * ReadMailGroup.c: changed the qualifier for a new browser window from ALT to
    CTRL.
  * ReadMailGroup.c: with TextEditor.mcc 15.26+ a new browser window instead of
    a new browser tab will be opened if a link is double clicked with either of
    the ALT keys pressed. This fulfills feature request #1177865.
  * YAM_UT.c, YAM.c, YAM_EA.c, AboutWindow.c, UpdateNotifyWindow.c,
    ReadMailGroup.c: added the possibility to open a new browser window for
    URLs.
  * YAM_UT.c: simplified the creation of a quoted URL string.
  * YAM.c: restarting YAM never caused the usual startup actions (delete old
    mail, send waiting mail, etc) to be performed.
  * YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_MA.c, YAM_TR.c, YAM.c, locale/YAM.cd:
    the order of the mail exchange is now configurable. Thus both change
    requests #802481 and #1688168 are hereby fulfilled. The default behaviour
    matches the current behaviour (get first, then send).
  * ImageCache.c: removed the alpha channel check again for MorphOS, as that
    picture.datatype doesn't seem to provide this information in the bitmap
    header structure and and hence makes the use of 32bit PNG images with
    full transparency handling impossible.

2008-01-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed a bug where in case a quoted recipient name was specified
    in one of the RFC2047 aware headers (To/Cc/Bcc) it happened that the
    quotation wasn't properly closed and ended up in an invalid header.
  * locale/YAM.cd: renamed the "No spam" toolbar buttons to "N.Spam" as that
    won't cause the buttons of the toolbar to automatically adapt to the new
    text width which in fact is ugly.
  * themes/default: replaced all images/icons of the default theme with new
    image versions kindly supplied by Martin 'Mason' Merz. Please note, however,
    that this is still work-in-progress and that we are going to update that
    new default theme until the final release of YAM 2.6. In addition, we have
    plans to supply a low-colour theme for those platforms (especially old
    m68k classic) not able to load the new nice alpha-channel images from Mason.
  * misc: bumped all copyright years from 2007 to 2008. Another constructive
    year passed!

2008-01-03  Thore Böckelmann <tboeckel@gmx.de>

  * classes/ImageArea.c: setting a new ID or filename caused the previously
    loaded image to be expunged, even if no image had been set before.
  * doc/Install-YAM: modified the MOS path for MUI subclasses again.
  * ImageCache.c: fixed wrong pixel data access for 24 bit images (RGBA instead
    of RGB).
  * ThemeListGroup.c: for sorting the list only the directory part of the theme
    path is used now.

2008-01-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: the signature will now be appended only if the selected signature
    file contains at least one character. This fulfills feature request
    #1837290.
  * locale/german.ct: minor spelling fix.
  * YAM_MA.c: the Edit menu will now be generated dynamically if either the
    quick search bar or the embedded read pane is activated, as only these two
    need the edit menu. This fulfills feature request #1844493.
  * Debug.c: implemented the STARTCLOCK() and STOPCLOCK() debug functions for
    time measurement. Up to 8 nested times can be measured. Just make sure that
    each STARTCLOCK() has a matching STOPCLOCK() call.
  * YAM.c, YAM_WR.c, YAM_UT.c: a mail will only automatically be saved if it
    really was modified since the last autosave cycle. This fixes bug #1862032.

2008-01-01  Thore Böckelmann <tboeckel@gmx.de>

  * ThemeListGroup.c: the list of themes is now sorted by directory name.
  * YAM_MAf.c: the new converted mail name will now be used like before in case
    it is valid.
  * YES!! The first commit of 2008 is mine!! :)
  * YAM_MAf.c: failing to convert an old-style mail file name to the new style
    resulted in overwriting the old name with NULL, and hence the error message
    also showed '(null)' as file name instead of the old name.
  * Happy New Year, Miss Sophie! :)

2007-12-31  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_TR.c: the number of spam classified mails will now be included
    in the statistics requester after a mail download or filter operation if the
    spam filter is enabled. This fulfills change request #1861290. Additionally
    the statistics window will only be shown after a download if at least one
    mail was not spam. This fulfills change request #1861292.

2007-12-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: added some comments
  * YAM_AB.c, YAM_UT.c, YAM.c: the same changes as yesterday, because my local
    working copy was broken and nothing was really transferred.

2007-12-29  Thore Böckelmann <tboeckel@gmx.de>

  * include/#?expat#?: added includes for expat.library.
  * classes/ImageArea.c: added missing SAS/C pragma and prototype for
    WritePixelArrayAlpha().
  * extrasrc/xset.c: added missing cast to avoid warnings.
  * YAM_AB, YAM_UT.c, YAM.c: added import of XML address books (i.e. from
    SimpleMail) via expat.library. Currently only "new" addressbooks
    (.newaddressbook.xml) are supported and group support is also missing,
    because SimpleMail's groups are somewhat different from YAM's.
  * doc/#?.guide: finally removed the translated file names in favour of the
    english named files.
  * locale/#?.ct: finally removed the translated file names in favour of the
    english named files.

2007-12-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: added missing CloseLibrary() call for cybergraphics.library.

2007-12-27  Thore Böckelmann <tboeckel@gmx.de>

  * locale/francais.ct: removed this file again, because we use english named
    files only from now on.

2007-12-26  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct, locale/french.ct: french translation update according to
    latest changes, part 2.
  * doc/Instal-YAM : french translation added

2007-12-23  Thore Böckelmann <tboeckel@gmx.de>

  * locale/#?.ct, doc/#?.guide, Makefile: changed all catalog translation and
    AmigaGuide file names to english names instead of translated ones. This
    makes it easier to keep/add further translations which may contain
    characters not displayable on some systems (like the french 'ç' for
    example).
  * YAM_COg.c, YAM_FO.c, YAM_MA.c: changed some requesters to default to "no" as
    answer to avoid unwanted deletion of things.

2007-12-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: bumped version to "2.6-dev" as we have finally released the
    stable 2.5 version and about to continue with 2.6...

2007-12-23  Alexandre Balaban <abalaban@free.fr>

  * doc/YAM_francais.guide: documentation french translation update according
    to latest changes.
  * locale/francais.ct: french translation update according to latest changes.

#### YAM 2.5 RELEASE ####################################################

2007-12-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: removed "-dev" for the final stable 2.5 release.
  * YAM.c: bumped minimum required version of TheBar to v21.5 which is
    available since today.
  * YAM.c, YAM_CO.c: minor adaptions to the debug output of the XPK packer
    loading. Also the xpk packer list will only be iterated through in case
    xpk was found at all.

2007-12-21  Pär Boberg <pbobbenb@spray.se>

  * doc/YAM_english.guide: Quite a lot of changes, among them the theme
    layout, added spam to the toolbar info, removed info about Charset
    and Parsers since they are now handled with codesets.library etc...

2007-12-21  Thore Böckelmann <tboeckel@gmx.de>

  * doc/Install_YAM: removed any language-specific file names, as our build
    system is not able to handle these and it only makes things worse than
    necessary.
  * doc/Install_YAM: some more adaptions for the final install script.
  * YAM_COg.c: not all XPK libraries were added to the packers list because some
    do not offer all flags. But since XPK is basically a packing suite all these
    libs should occur in the list. This fixes bug #1855456.

2007-12-20  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.
  * doc/YAM_english.guide: Updated the software requirements with the recently
    release MUI mcc's and Codesets library.

2007-12-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: removed again some HVSpaces where they were not necessary.
  * doc/Install_YAM: removed the YAM: assign from the installer script and the
    british english catalog for OS3/MOS, as these systems cannot handle accents
    of a language.
  * doc/Install_YAM: first modifications for upcoming release of 2.5. Currently
    only english, british english, german, french and swedish are all languages
    still supported. All other languages will be excluded from the release,
    because the catalogs have not been updated since 2.4 or even 2.3. The
    documentation laggs even more behind, but since this is not essential to be
    able to run YAM we leave it as it is for the moment.

2007-12-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version of TextEditor.mcc to 15.25 as
    that one is the very latest now.
  * YAM.cd, deutsch.ct, english-british.ct: adapted all toolbar strings to
    not be wider than 8 characters or otherwise the size of the toolbars
    may become to wide for systems with a small screen size. In addition,
    please note, that the strings of the toolbar are just meant to carry
    rough abbreviations of the actions. So translators should keep the
    strings small as well.

2007-12-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version for all NList-classes according
    to the version in the v0.101 release.

2007-12-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: put all config pages on a scroll group object. This fixes a
    possible crash caused by MUI itself if the screen is too small to take the
    resized window in case the preview image on the Look&Feel page is too big.
    Additionally this makes all pages look a bit more uniform.

2007-12-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version for codesets.library and
    BetterString.mcc to the latest available version.

2007-12-18  Pär Boberg <pbobbenb@spray.se>

  * doc/YAM_english.guide: Made some more changes, added a section in
    Configuration about the Spam filter.

2007-12-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: in case the user wanted old mails to be deleted upon startup and
    the current folder was not the trash folder, then the trash folder was not
    updated after the complete cleanup process. Only a click on the trash folder
    itself would immediately update the treeview item. Maybe this also fixes
    bug #1822876.

2007-12-17  Jens Langner <Jens.Langner@light-speed.de>

  * locale/english-british.ct: added a first primilary version of a british
    english translation of our internal catalog.
  * deutsch.ct: minor adaptions/fixes.
  * YAM_MA.c: fixed bug #1851175 where removing the last mail from a folder
    didn't hide the attachment group.
  * YAM_MA.c, YAM_WR.c, WriteAttachmentList.c: fixed bug #1851566 where
    forwarding or drag&dropping a mail from a compressed folder as an
    attachment ended up in having the mail attached in compressed/encrypted
    form rather than in plain text.

2007-12-17  Pär Boberg <pbobbenb@spray.se>

  * doc/YAM_english.guide: Changed a little bit here and there, info about
    developers/contributors, SVN access, required third party software and
    version/copyright numbers.

2007-12-16  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-12-16  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: adapted german translation to latest changes and
    fixed a minor spelling bug #1851944.
  * YAM.cd, YAM_FI.c, YAM_MA.c: fixed bug #1851127 by showing two different
    requester texts in case all messages or just the selected messages of
    a folder should get filtered.
  * locale/deutsch.ct, YAM.cd: adapted german translation to very latest
    changes so that it should be in line with the latest YAM.cd.

2007-12-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: added the missing parameter for a hook call.

2007-12-13  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Fixed many keyboard shortcuts that was interfering
    with each other.
  * Changelog: Restored missing entries in Changelog.

2007-12-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: removed the shortcut for the bounce and reply string field, as
    the same shortcut was already used for the corresponding checkbox. This
    made it impossible to control both, checkbox and string field, by keyboard
    consistently. The drawback is that the string field cannot be activated by
    shortcut anymore, but that already was the case for the other string fields
    on that page. This fixes bug #1837543.
  * YAM.cd, deutsch.ct: fixed some shortcuts which collided with the menu
    shortcuts.

2007-12-12  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes and changed some wording
    to be more like Thunderbird in swedish and other fixes and clean ups.

2007-12-12  Jens Langner <Jens.Langner@light-speed.de>

  * themes/default/status: updated the status_new and status_hold images to have
    a full envelope displayed with the corresponding new/hold addition as the
    general status type was changed for new/hold.

2007-12-12  Thore Böckelmann <tboeckel@gmx.de>

  * MainMailList.c, ReadWindowStatusBar.c: a new mail doesn't get an additional
    icon for this state anymore. Instead we now have sequence like New -> Unread
    -> Old/Read.

2007-12-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_main.h: minor optimization to the status flag checking for the SPAM
    status.

2007-12-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, ImageCache.c: move the access to picture.datatype over to the image
    cache module.
  * YAM.c, YAM_global.c, ImageCache.c, ImageArea.c: for OS3 the versions of
    cybergraphics.library and picture.datatype are checked now upon loading
    an image. With at least cybergraphics.libraqry V45 and picture.datatype
    V46 the alpha channel of 32bit image can be handled and displayed correctly.
    Otherwise remapped and dithered bitmaps will be used.

2007-12-10  Thore Böckelmann <tboeckel@gmx.de>

  * AboutWindow.c, ShutdownWindow.c, SplashWindow.c: the logo image is now
    always taken from the default theme and the URL in the splash window is
    no longer clickable.
  * smakefile: updated according to latest changes.

2007-12-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd: rephrased and corrected some more of the recent changes to
    the catalog to match a bit more what we would like to see in the
    final 2.5 release.

2007-12-10  David Rey <tactica@users.sourceforge.net>

  * YAM_FI.c: missing help bubble added for the "nowhere" button.
  * YAM_MA.c: exchanged the positions of the "Set status to read/unread"
    menu items for consistency with the popup menu.
  * YAM.cd: applied the last lot of changes to the catalog despite the,
    uh, "burden" of concurrent changes done to it. The code should be now
    ready for external localization, and it only took me a week...

2007-12-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_RE.c, YAM_UT.c: changed some more DeleteFile() calls to actually
    check for equal/non-equal zero rather than using boolean operations.
  * deutsch.ct: updated catalog translation to what has happened between
    revision 3560 and 3594 of our YAM.cd file.
  * YAM.cd: made sure that all help strings are closed with a '.' char.
  * QuickSearchBar.c, YAM.cd: changed the QuickSearchBar to be controlable via
    keyboard shortcuts.
  * ImagArea.c: fixed the broken build for MOS caused by missing commas.
  * YAM_COg.c: fixed bug #1845233 where an incorrect list pointer caused that
    the scripts parameter popup list was always empty.
  * YAM.cd, YAM_COg.c: rephrased some internal strings so that we take more care
    about technical terms and captions and their upper/lowercase rules. In
    addition, reenabled the "you will be notified..." message in the software
    update configuration section as it is more intuitive and easy to grasp what
    will happen and looks more nice and there is enough space.

2007-12-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c, YAM_COs.c, YAM.cd: the "check for updates" checkmark has been
    replaced by an item in the cycler. This effectively fixes bug #1837539.
  * YAM_UT.c: DOS functions are guaranteed to return a non-zero value on
    success, but not exactly TRUE, which broke the DeleteMailDir() function. Now
    the return values are just checked for being not FALSE. This fixes bug
    #1847267.
  * ThemeListGroup.c: a double click on a theme entry is now the same as a click
    on the "Activate" button.

2007-12-08  David Rey <tactica@users.sourceforge.net>

  * classes/MainMailList.c, classes/MainFolderListtree.c: applied most of
    the changes suggested in change request #588495.
  * YAM_COg.c, YAM_WR.c, YAM.cd: added a few missing help bubbles and applied
    several changes and fixes to the catalog. Also disabled the "you will be
    notified as soon as updates are available" note in the update prefs page,
    this doesn't belong in the GUI.

2007-12-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_EA.c: fixed a potential crash bug where due to a missing ABEntry
    a photo can't be set to a new addressbook item.
  * ImageArea.c, ImageCache.c: images with an alpha channel were not able
    to be properly scaled with their alpha channel. Now PDTM_SCALE is used
    for those images instead of BitMapScale(). This seems to fix the
    issue. However, for that to work, picture.datatype v45+ is required.
  * ImageCache.c: for extracting the alpha channel data from the images
    we first check if the image actually has an alpha mask via the
    BitMapHeader structure. This should fix the issues with 24bit image
    data on AmigaOS4 and other systems.
  * ImageArea.c, ImageCache, AttachmentImage.c, YAM_UT.c: on AmigaOS4 we
    now use BltBitMapTags() for all blit operations rather than using our
    workaround function MyBltMaskBitMapRastPort() function. In addition,
    ImageArea should now also scale the bitmask in case a bitmask is
    present in the source data.
  * doc/YAM_english.guide: fixed bug #1277804 where the example of the
    REQUEST arexx function was slightly wrong.
  * YAM.c: changed library init code to not force to require cybergraphics
    library anymore.
  * ImageArea.c: added WritePixelArrayAlpha() stub for the MorphOS compile
    because that libcall definition doesn't seem to be part of the MOS
    SDK itself.
  * ReadWindow.c: fixed bug #1845068 where the "Set status to" submenu
    entry was setup as a top-level MenuObject rather than a MenuitemObject
    which in fact seem to have caused a graphical glitch on OS3 systems.

2007-12-07  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: temporarily disabled alpha channel support for OS3 again, as
    this currently seems to be not possible to handle reliably.
  * ImageArea.c, ImageCache.c: fixed the wrong user image drawing which could
    paint the image over the object's borders.
  * ImageArea.c: fixed the wrong hi/truecolor blitting under OS3 and MOS.
  * ImageCache.c: forgot to free the 24/32bit pixel data.

2007-12-07  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-12-06  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-12-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: the popup button for the scripts will now be disabled if the
    script doesn't take any parameters. This fixes bug #1845233.
  * YAM_COs.c: restoring the configuration after having changed some scripts
    now properly refreshes the script listview. This fixes bug #1845235.
  * misc: added alpha channel support for hi/truecolor images, like the example
    AISS theme. This is not yet perfect, but at least it is a beginning...

2007-12-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: changed the new TextObject to actually use a Text background which
    should give the textobject a more intuitive contrast against the background.

2007-12-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c, YAM_COs.c, locale/deutsch.ct: the charset popup is now bound to
    a simple text object instead of a string object, since the charset must be
    selected from the list of available charset and cannot be an arbitrary name.
    Also added the missing shortcut for that in the german catalog.
  * YAM_EA.c, ImageCache.c, ImageArea.c, YAM.cd: added a button to remove a user
    image. Don't know why we didn't spot this missing button earlier. Anyway,
    removing a user image is supposed to remove it from the cache too, to be
    able to select a different image afterwards.
  * YAM_EA.c, ImageArea.c: fixed the scaling bug that occured whenever a new
    user image was loaded.
  * misc: minor indentation and cosmetic fixes.
  * misc: fixed the broken images in the read window status bar. The old icon
    definitions are no longer necessary.
  * misc: the status image strings for the NList objects are now dynamically
    generated.
  * ImageArea.c: removed some debug output.

2007-12-04  Jens Langner <Jens.Langner@light-speed.de>

  * MainFolderListtree.c, YAM.cd: fixed bug #1700670 where the folderlist
    context menu didn't have a "Mark folder read" item which makes sure
    that all mail in a folder is marked as read in one go.

2007-12-04  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: fixed a minor mistake in the german catalog

2007-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: fixed some minor mistakes in the german catalog
    translation.

2007-12-03  Thore Böckelmann <tboeckel@gmx.de>

  * ThemeListGroup.c: if a theme file could not be parsed it will now be freed
    again to avoid memory leaks.
  * Themes.c: finally found the memory trashing bug with custom themes. If an
    image name pointer was used for one toolbar it was reused unchanged for the
    other toolbars (i.e. the delete button image) eventually causing pointers
    to be free()'d twice upon freeing the theme.
  * Themes.c: again modified the image name duplication process to ensure that
    all toolbars get unique name pointers.
  * themes/aiss: added a first AISS theme. Currently not all images will be
    taken from the AISS installation, because some are still missing. Basically
    this theme is meant for educational purposes to show how a complete .theme
    file might look like.
  * locale/deutsch.ct: Updated according to changes.

2007-12-02  Thore Böckelmann <tboeckel@gmx.de>

  * Themes.c: fixed a typical copy'n'paste bug which screwed by certain image
    paths and caused crashes because of doubly freed memory.

2007-12-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: fixed bug #1841389 where the mail text parser wasn't
    always able to correctly extract an email address from the text.
  * UserImage.c, ImageArea.c, misc: merged the differences between the
    internal UserImage and ImageArea class as both classes had pretty much
    the very same job/purpose. Therefore the UserImage class is now obsolete.
  * ThemeListGroup.c, YAM_COs.c, YAM_EA.c: finalized the whole theme
    functionality by enabling a user to activate/select a theme within the
    look&feel configuration of YAM.
  * Themes/ReadMe: added a short readme file explaining the new themes
    mechanism and explains the limitations.
  * Themes.c, ImageCache.c, ThemeListGroup.c: reworked the whole error and
    warning messages used for the theme loading/processing. Now, no missing
    image file should prevent YAM from immediately starting up. Only
    warning messages will be triggered and also only in case no NOIMGWARNING
    commandline/tooltype option was specified.

2007-12-02  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-12-01  Jens Langner <Jens.Langner@light-speed.de>

  * Themes.c, ImageCache.c: temporarly replaced all modal warning requesters
    with calls to ER_NewError() so that a missing image/theme or error on
    trying to load a theme should not interrupt the loading process. Lets
    see if this is more convinient than modal dialogs (see bug #1838367).

2007-11-30  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: Updated according to changes.

2007-11-30  Jens Langner <Jens.Langner@light-speed.de>

  * Themes.c: the version of a ".theme" file will now be checked and the
    user warned accordingly. In case an invalid version is found YAM will
    now popup a requester and give the user the change to load the default
    theme, ignore the requester or exit the application.

2007-11-29  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: if an image could not be loaded via datatypes.library the
    error message will only be displayed if the file exists.
  * deutsch.ct: fixed to two minor typos.

2007-11-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: try to avoid a possible crash situation where within the
    MA_DeleteSingle() function a mail was supplied which has a folder pointer
    which is NULL. This should hopefully catch bug #1840608.

2007-11-28  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: fixed another possible memory leak in case a DT object could
    be created, but the frame box had an invalid depth.
  * QuickSearchBar.c: the list of found mails is now set quiet while the search
    is in progress. This greatly speeds up the search.

2007-11-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM.cd, deutsch.ct: Changed the ARexx script listview in the
    configuration to have a listview title like every other listview in YAM.
    This should be more consistent and should make the purpose of the
    listview more clear.

2007-11-27  Jens Langner <Jens.Langner@light-speed.de>

  * ThemeListGroup.c, misc: a found and valid themes directory will now be
    displayed in the ThemeList within the YAM configuration. However, we still
    need to finalize the theme selektion as well as the preview.

2007-11-27  Thore Böckelmann <tboeckel@gmx.de>

  * Themes.c: fixed wrong order of status image names.
  * HashTable.c: removing an entry causing a collision wasn't marked as removed
    and further on caused other entries to be unfindable. Also added some test
    code to check some basic hash table operations.
  * Themes.c: restored the old dispose handling.
  * ImageCache.c: when adding an image to the hash table the found entry is now
    used directly instead of first looking up the image and adding it after-
    wards.
  * HashTable.h: added some links to the Mozilla repository since YAM's hash
    tables base on those used in Mozilla Thunderbird.
  * HashTable.c: fixed a signedness warning.
  * ImageCache.c: all resources must be freed ahead of HashTableRawRemove(),
    because that function will clear the structure. This fixes bug #1839679.

2007-11-26  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-11-26  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: added the function DumpImageCache() to print out all image
    nodes which are currently cached. This function is only available in the
    debug builds.
  * Themes.c: cached theme images will no longer be disposed upon calling
    UnloadTheme() as this seems to cause an invalidated hash table. This needs
    some further investigation.

2007-11-25  Jens Langner <Jens.Langner@light-speed.de>

  * misc: merged the changes from the 'themes' branch back to the main trunk
    as the changes seem to work quite smooth here and we want to get the new
    themes system to a broader audience. However, be warned that the new
    'themes' system may fail for you. So please report any issue you might find
    so that we can quickly fix issues before we are going stable. So go
    and copy the new "themes" directory to your YAM installation and see if
    everything works and please note that this is currently work-in-progress.
  * Themes.c,h, Aboutwindow.c, ShutdownWindow.c, Splashwindow.c: the YAM logo
    should now also be loaded from the themes directory instead of the old
    icons directory.
  * Themes, misc: reworked the new upcoming themes management to load and
    cache all theme images right after a user login rather than before the
    login. This should finally get the new themes management working so that
    we soon can merge our new themes management to the main trunk.

2007-11-23  Jens Langner <Jens.Langner@light-speed.de>

  * ReadMailGroup.c, YAM_RE.c: fixed bug #1836623 where YAM always searched
    for sender information by comparing also the realname of the sender in
    case the mail address wasn't found in the addressbook. This, however,
    caused YAM to sometimes show the incorrect sender information as there
    might be more than one person with the same realname. Now only the mail
    address is compared as that one can be assumed to be unique.

2007-11-22  Thore Böckelmann <tboeckel@gmx.de>

  * FileInfo.c: querying the non-existance of a file/directory via
    ObtainFileInfo() always failed because of the non-existance of the object.

2007-11-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, ReadWindow.c: fixed bug #1836134 where the ALT qualifier was
    only working from within the mainwindow toolbar. Now the whole qualifier
    check is unified within an extra function.
  * YAM_UT.c: changed AddPath() to return NULL in case the buffer would have
    overflown.
  * YAM_UT.c, YAM_CO.c, FileInfo.c: replaced the obsolete PFExists() function
    with direct calls to AddPath() and FileExists().
  * YAM_RE.c, ReadMailGroup.c: removed the RE_FindPhotoOnDisk() function as
    it was not necessary to search for a photo file other than what was
    specified by the user itself in the addressbook. This should also fix a
    bug where in case the sender realname/address contained a ':' YAM was
    asking to "insert a disk" for the search.
  * QuickSearchBar.c: minor cosmetic changes to the object layout.

2007-11-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: the attachment listview should now have the default background
    colors assigned instead of using custom colors. This should really be the
    job of the user to choose the default colors and not ours.
  * YAM.c: minor change to the developer warning requester text.
  * YAM_AB.c: fixed some minor compiler warnings.
  * YAM_UT.c, misc: replaced all calls to strmfp() with calls to our own
    buffer overflow safe AddPath() variant. This should make the dynamic path
    generation a bit safer and avoid buffer overflows. strmfp() should be
    considered to be obsolete and therefore not used in YAM anymore.

2007-11-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: as soon as a folder directory is Lock()'ed during an index
    rebuild the folder listtree will reflect this state change.
  * YAM_MAf.c: now the folder being rescanned will be updated instead of the
    active one.
  * NewReadArgs.c: in case YAM was started as "YAM ?" to read the template and
    got send a CTRL-C while the template was displayed it will now immediately
    abort, because otherwise the CTRL-C will be catched later and cause crashes.

2007-11-15  Thore Böckelmann <tboeckel@gmx.de>

  * ExamineDir.c: implemented a basic emulation of the new OS4 directory
    scanning API based on ExAll().
  * YAM_MAf.c, YAM_UT.c, ThemeListGroup.c, extrasrc.c: replaced all direct
    calls to ExAll() by the new directory scanning API.
  * YAM_UT.c, YAM_MAf.c: added a pattern parameter to the FileCount() function
    which can be used to limit the counting to certain files.
  * SMakefile: added missing FileInfo.o target
  * asprintf.c, snprintf.c, xset.c, ObtainDirContext.c: added VARARGS68K
    specifier for all varargs functions where it was missing. Also adapted the
    tag list passing for MorphOS for ObtainDirContextTags().
  * YAM_MAf.c: fixed a GCC complaint about passing in a LONG for %d instead of
    and int.

2007-11-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_TR.c: changed the transfer info window to only get
    activated in case the parent window is active as well and not just because
    it was a manual action that opened the window. This should be more
    intuitive, especially because during a transfer the active window may
    change due to user action and then automatically activating the infowindow
    is not was a user might expect.

2007-11-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_MA.c, YAM_WR.c: replaced the embedded NotifyRequests by
    dynamically allocated ones. On OS4 this is done via AllocSysObject() to
    improve memory tracking. All other systems use simple memory allocation.
  * YAM_TR.c, YAM_UT.c: the notification window after downloading mails will
    now also be activated only if the transfer was initiated by the user.
    ARexx or timer initiated transfers will open an inactive window to avoid
    stealing the focus from other windows.

2007-11-13  Thore Böckelmann <tboeckel@gmx.de>

  * FileInfo.c, FileInfo.h: added some more "documentation" comments on how to
    use this new function.
  * misc: moved the FileExists() function over to FileInfo.c.
  * misc: the GUI does now distinguish between user triggered and automatically
    (i.e. timer, ARexx, etc) triggered mail transfers. The transfer window will
    be opened in active state for user triggered transfers only to avoid
    stealing the focus from other windows by automatic actions.

2007-11-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, FileInfo.h, FileInfo.c, YAM_MAf.c: fixed partly broken build
    where not all FileXXXX() uses were properly replaced by the new
    ObtainFileInfo() function.
  * YAM.c: changed all the rest of the AllocPooled()/FreePooled() uses to
    generally use AllocVecPooled()/FreeVecPooled() instead. In addition, the
    startup semaphore locking will now not perform an own RemSemaphore() on
    AmigaOS4 anymore as the FreeSysObject() function explicitly does that.
  * extrasrc.h, extrasrc/AllocVecPooled.c, extrasrc/FreeVecPooled.c: changed
    the prototypes of the AllocVecPooled() and FreeVecPooled() wrapper functions
    to use the proper Amiga-types e.g. APTR as Amiga-wrapper functions should
    always use Amiga-like types.

2007-11-12  Thore Böckelmann <tboeckel@gmx.de>

  * extrasrc/AllocVecPooled.c, extrasrc/FreeVecPooled.c: added AllocVecPooled()
    and FreeVecPooled() functions for systems which don't yet have these
    implemented.
  * YAM.c, YAM_rexx_rxif.c, YAM_rexx.c: now only AllocVecPooled() and
    FreeVecPooled() will be used for all systems.
  * YAM_COg.c: added missing shortcut for the "default charset" string gadget.
    This fixes bug #1829952.
  * YAM_MA.c, YAM.cd, deutsch.ct: when adding the address from a mail with
    diffenent From and Reply-To addresses to the address book YAM will now ask
    which address to add, and no which address to reply to. This fixes bug
    #1829977.
  * deutsch.ct: fixed some shortcuts clashing with the standard Copy/Paste
    shortcuts.
  * YAM_UT.c, YAM_FO.c, YAM_EA.c, YAM_WR.c, YAM_COg.c: address fields can now
    be told to catch copy/paste shortcuts themself again in case where the
    surrounding window does not handle this (i.e. the folder config window).
    This fixes bug #1830039.
  * YAM_COg.c: fixed inconsistend GUI behaviour upon repeatedly (de)activating
    the spam filter. This fixes bug #1829959.
  * FileInfo.c: added generic file information function ObtainFileInfo(), which
    replaces the single functions like FileSize(), etc.
  * misc: replaces all calls to FileSize(), etc to calls to ObtainFileInfo().

2007-11-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM.h, YAM_rexx.c, YAM_UT.c, YAM_rexx_rxif.c, YAM_rexx_rxif.h:
    changed all own AllocVec()-MEMF_SHARED-like memory allocations to use an
    own private memory pool instead of allocating memory from the global system
    pool. Where appropriate we use the new AllocVecPooled() instead of
    the old AllocPooled() function. In addition, the semaphore handling/setup
    is now also done via AllocSysObject() on OS4.

2007-11-11  David Rey <tactica@users.sourceforge.net>

  * YAM.cd: changed MSG_CO_Archiver, MSG_CO_SMTPAUTH_METHOD, MSG_CO_SMTPPass,
    MSG_CO_MDN_ENABLED, MSG_CO_MDN_OTHER, MSG_CO_MIME_DESCRIPTION,
    MSG_FI_NOFOLDERS to fix even more duplicated shortcuts.

2007-11-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: MIME type entries with no extension strings will now no longer be
    accepted while scanning for an extension.
  * YAM.cd: changed to shortcut for the "Search for updates" cycler from "U"
    to "d". This fixes bug #1829696.

2007-11-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_rexx.c, YAM_UT.c: converted all CreateIORequest() and
    CreateMsgPort() uses into proper AllocSysObjectTags() calls on OS4. This
    should allow for a better resource tracking by the OS4. Also modified the
    STYLEGUIDE to mention the general use of these new system functions.
  * YAM_FI.c: added somewhat more debug output to the filter functions.

2007-11-09  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: updated according to latest changes to YAM.cd
  * YAM_RE.c, YAM.cd: in case a problem occurred during the base64 decoding
    of attachments, YAM always discarded the output data in case it wasn't
    printable text. Now YAM should be a bit more precise on outputing the
    reason of the problem that occurred during decoding, In addition,
    the output data will only bis discarded in case a file i/o error occurred.
    This should fix bug #1828068 while keeping the user informed about the
    minor problem.

2007-11-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: double clicking an entry in the attachment list will now display
    that file. This fullfils feature request #1828213.

2007-11-08  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: minor typo/phrasing fixes.
  * YAM_stringsizes.h: reverted the line size change back to 1001 as 1000 is
    the maximum limit according to RFC2821.

2007-11-08  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c, ReadMailGroup.c: applied some cosmetical changes to adapt the
    source to the STYLEGUIDE.
  * BayesFilter.c: replaced some %d by %ld to ensure correct debug output.
    Additionally a bug in the OS3 clib2 build has been fixed which caused
    the log() function to return -inf for very small value even if these
    values would still have resulted in a valid log calculation. This very
    often made the spam recognition fail with OS3.
  * YAM_stringsizes.h: raised the line size for TCP transfers from 1001 to
    1024 which results in a slightly "nicer" display for the first bunch of
    transfered data of a mail.
  * misc: replaced all occurences of %d in the debug macros by %ld to ensure
    correct output of numbers on all systems.

2007-11-07  Jens Langner <Jens.Langner@light-speed.de>

  * STYLEGUIDE: added a section that should renders the use of GetAttr()
    and SetAttrs() obsolete and should clarify why we think the more secure
    xget() and xset() macros should be used instead.
  * YAM_utilities.h, misc: replaced all SetAttrs() calls by a newly
    introduced xset() macro function. This macro should automatically take
    care of always properly terminating a SetAttrs() call.

2007-11-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: fixed another unterminated SetAttrs() call.
  * extrasrc/xset.c, extrasrc.c: added missing xset() function for compilers
    which are not able to handle vararg macros. Unfortunately this function
    cannot ensure the terminating TAG_DONE.
  * extrasrc/xset.c: now a new tag list is built from the supplied tag list
    to be able to terminate this one by TAG_DONE. This requires some guess-
    work and is limited to 5 attributes to be set at most with one call of
    xset(). That's all what can be done to keep up SAS/C compilability if
    nobody else know how to handle this case.

2007-11-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COs.c: fixed a potential source for a crash due to an unterminated
    SetAttrs() call.

2007-11-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c, YAM_UT.c, YAM_WR.c: the OS4 build now calls the preferred
    ExamineObject() function instead of the deprecated Examine() function.

2007-11-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: a search initiated by the quick search bar was not aborted if
    the folder was changed during the search.

2007-10-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the length parameter of the getsockopt() call should be updated
    ahead of each call, because getsockopt() could have modified it.

2007-10-26  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-10-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: after having rethought about the protection bit changes,
    a protection scheme of "----rwed" will now just be set to either
    identified amiga executable or to attachments of type
    "application/octect-stream". This should be appropriate for all cases
    and at the same time enforce a slightly better security instead of
    always setting all files to have all default rights.

2007-10-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: for exported files the protection bits are now always set to
    ----rwed for normal files and to -s--rwed for script files since it is up
    to the used filesystem which bits are used by default.

2007-10-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped the required version of TextEditor.mcc to the newly
    released 15.24 version which fixes some important issues.
  * YAM.c: bumped miminum required versions of all NList classes because
    the newly released 0.100 version fixes some important issues and
    introduced some other important features we require now.

2007-10-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: the DEL key was always removing/deleting the currently
    selected mail regardless of the active/inactive status of the mail
    list. Now the DEL key will be more context sensitive. That means, if
    the folder list is active it will try to delete the currently selected
    folder and only delete the selected mail if the mail list or the
    embedded read pane is the currently active object of the window. This
    should also prevent the DEL key to remove mails in case the quick search
    string gadget is active.

2007-10-10  Thore Böckelmann <tboeckel@gmx.de>

  * SearchControlGroup.c: modifying the comparison type now correctly marks
    the search rule as "modified", too. This fixes bug #1810645.

2007-10-09  Jens Langner <Jens.Langner@light-speed.de>

  * MainMailListGroup.c, YAM_MA.c, NList_mcc.h: updated the NList includes
    and took respect of the new KeyLeftFocus and KeyRightFocus MUI attributes
    the upcoming NList classes support now. Now it should be possible to
    directly switch between the foldertree and the mail list just via direct
    cursor left/right uses.
  * YAM_MA.c: reverted the recent changes to be able to switch between the
    foldertree and the mail list via SHIFT+cursor because the new upcoming
    NList classes will have a new feature to directly provide this
    functionality via own MUI attributes which in fact doesn't prevent a
    user to use SHIFT+cursor to horizontally scroll a listview like the
    previous adaptions implied.

2007-10-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, MainMailListGroup.c: corrected the cycle chain to be able to
    navigate through all objects with the TAB key.
  * YAM_MA.c: the mail list is now the main window's default active object.
    Furthermore it is now possible to switch between the folder tree view
    and the mail list by pressing SHIFT + cursor left/right.

2007-10-08  Jens Langner <Jens.Langner@light-speed.de>

  * include/mui/NList_mcc.h, misc: updated include with latest version
    available from the NList repository. In addition, we now use the new
    ActiveObjectOnClick attribute on NList objects whereever appropriate.
  * YAM_MA.c: moved all additional tags which were specify on creation time
    of the main folder listtree object to the actual listtree subclass. In
    addition, all additional hooks are now within the subclass definition
    as well rather than globally available.

2007-10-07  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: minor update.

2007-10-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum requried version for TextEditor.mcc to the new
    recently released 15.23 version as that one fixes some important issues
    and introduces some new features.

2007-10-01  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: a newly created folder is now added right after the current
    folder if that is a normal folder, or at the end of the current folder
    group. This fulfills feature request #739901.
  * YAM_TR.c: the POP3 password is now X'ed out in the debug log to ensure that
    no private password leaks out by accident if someone posts a log in the
    public.

2007-09-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, misc: bumped minimum requried version for BetterString.mcc to the
    new recently released 11.13 version as that one fixes some important
    issues. In addition, certain function uses were now adapted to the slightly
    changed API of this new version.
  * YAM_mail_lex.l: minor improvements to the URL parsing regular expressions
    so that e.g. bug #1804649 should be fixed.

2007-09-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_WR.c, QuickSearchBar.c: the write window and main window was
    missing a "Delete" menu item in the "Edit" branch of their menus. This
    menu item will allow to delete previously selected content in editable
    GUI objects in both windows. This should fix bug #1803860.

2007-09-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: added even more debug messages to the folder scan process and the
    index save function.
  * YAM_MAf.c: added some more debug messages to the folder scan process to
    be able to detect scanning issues.
  * YAM_UT.c, extrasrc/SetProcWindow.c: moved SetProcWindow() function to a
    separate file in extrasrc/ which will be included depending on the OS.
  * YAM_UT.c, YAM_CO.c, ImageCache.c: added SetProcWindow() function for the
    OS3 and MOS builds which exists in OS4 already and is the preferred way to
    forbid DOS error requesters.

2007-09-26  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-09-26  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_UT.c: reverted the last changes to GotoURL() again. The expiry
    requester now features a "Visit homepage" button, too, if openurl.library
    is installed.
  * YAM_UT.c: adapted GotoURL() to open and close openurl.library itself if
    that was not already done in the startup phase.
  * YAM.c, YAM_UT.c, locale/YAM.cd, locale/deutsch.ct: added the possibility
    to visit a required library's homepage in the same way as for MCCs. The
    "Visit homepage" button will now appear if openurl.library is really
    installed. Without it the only possibility is to exit YAM.
  * locale/portugues-brasil.ct, locale/espanol.ct: fixed "missing identifier"
    errors from FlexCat caused by additional empty lines.
  * YAM.c, locale/YAM.cd, locale/deutsch.ct: whenever an MCC class is outdated
    or missing the user now has the possibility to visit the class's homepage
    directly if openurl.library is available.

2007-09-24  Jens Langner <Jens.Langner@light-speed.de>

  * AttachmentGroup.c: if an attachment part doesn't have any name associated
    with it, an eventually existing description will now be used instead for
    the attachment image display in a read window. This should e.g. show
    the Subject: line of embedded e-mail message rather than leaving that
    description/name space empty.
  * YAM.c: changed the command-line help text to show "Options/Tooltypes" to
    note that these options can be used as icon tooltypes as well.

2007-09-23  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-09-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_rexx_rxif.c: reading a mail via ARexx caused the current ReadMailData
    pointer to be invalidated again, because every new read window tries to
    clean up any data of a previous shown mail, including that ARexx pointer.
    Hence after reading in the mail that pointer was no longer valid, i.e. for
    closing the read window. This fixes bug #1798654.
  * smakefile: added missing dependencies for WriteWindow.c
  * YAM_global.c: added the __AMIGA__ #define for the SAS/C build.

2007-09-19  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: minor spelling fix.

2007-09-19  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: greatly improved search speed when many mails match the search
    criteria by "quietening" the result list most of the time. The "Search"
    button is also disabled now during a search, because the folders may need
    an index rescan which can take an arbitrary amount of time.

2007-09-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: instead of having a group in a group with a title we are now
    using a RectangleObject with a HBar to differentiate between the folder
    list settings and message list settings. This should make things more
    clear.

2007-09-13  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: minor sentence rephrasing.

2007-09-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: when the config is saved a modified signature will now be saved,
    too. Before the user was only asked to save the modified signature if the
    config was just "used". This fixes bug #1792971.

2007-09-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: set the TE.mcc object to perform a HardWrap and take care of the
    currently set line word wrap width when entering a signature.
  * locale/YAM.cd, locale/deutsch.ct: minor sentence rephrasing.
  * ReadMailGroup.c: added new MUIA_TextEditor_ActiveObjectOnClick attribute
    which newer upcoming TextEditor versions will take respect. In addition,
    reverted the change of Thore from 2007-09-06 as with the upcoming
    selection changes it isn't required anymore.
  * include/TextEditor_mcc.h: updated to very latest version available

2007-09-09  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-09-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: partly fixed bug #1789718 where it wasn't possible to simultaneously
    set more than one word to e.g. bold/italic, etc. Now YAM should automatically
    identify all single words and set the soft-style accordingly. However, please
    note that currently this is only possible in case the selected text is on
    the very same logical line. If text on multiple lines is selected only the
    words on the very first line will be set to the corresponding soft style.

2007-09-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.cd, deutsch.ct, SearchControlGroup.c: changed the formerly modified
    strings so that translators will be notified of the new naming scheme.
  * YAM.cd, deutsch.ct, ReadMailGroup.c: the "Reply-To" field for the header
    list can now be translated as well. Additionally all occurences of From, To,
    Reply-To, etc, have been translated to proper german phrases. This should
    also be done for other non-english languages if not yet done. This fixes bug
    #1789733.

2007-09-06  Thore Böckelmann <tboeckel@gmx.de>

  * ReadMailGroup.c: whenever the default object of a read mail group changes
    to either the header list or the mail text object a possible selection in
    the other object is canceled. This is more logical since the Copy/Paste
    menu items can only work for one object and it is consistent to how string
    gadgets work for example.

2007-09-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_COs.c: ReadMailGroup.c: revised the recent Autoclip change
    to only have one single hidden option named "AutoClip" rather than two
    seperate ones. There is really no reason to spoil our configuration with
    two options for this kind of workaround.

2007-09-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COs.c, ReadMailGroup.c: due to massive public pressure the
    autoclipping feature of the read mail group is now optional. To activate it
    you have to manually set the options NListAutoClip and/or TextEditorAutoClip
    in the advanced section of YAM's configuration. Please note that the
    autoclip feature will prevent future enhancements which rely on persistent
    text selections. So don't blame us if these enhancements will not work.
    Autoclipping is very inconsistent to the usual style guides of all modern
    operating systems and will destroy the existing clipboard contents without
    warning even if only one single character is marked. You have been warned!

2007-09-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: removed some unnecessary local prototypes.
  * YAM_MA.c, YAM_TR.c: when importing mails to an empty folder the menu items
    and the toolbar are now adapted accordingly to be active.
  * YAM_UT.c: added "mbox" suffix to the import/export requesters' patterns.

2007-09-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: when switching to the 'Message' tab of the write window, the
    texteditor gadget will automatically be set as the new active object of
    the window. This should help in preventing to send out email by accident
    in case a user is switching between the tabs and wants to quickly
    continue writing an email and ending up with automatically sending out
    the mail.

2007-09-01  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-09-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM_RE.c, YAM_FI.c: fixed a recently introduced issue where mails
    with a multipart that didn't contain any subheader an error was raised. In
    addition the whole RE_ScanHeader/MA_ReadHeader combo should now be a bit
    smarter about when to report and error and how.

2007-08-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c, YAM.cd, deutsch.ct: replaced some more error messages with those
    which include a file name.
  * YAM_FI.c, YAM_MAf.c, YAM_RE.c, YAM.cd, deutsch.ct: the error messages about
    unknown encodings now include the corresponding mail file name.

2007-08-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: aborting a search process was impossible due to a wrong variable
    size.
  * YAM_MA.c: the write windows' "Send now" buttons are now disabled during a
    mail transfer or update check to be consistent with the menu items and the
    main window toolbar. This fulfills feature request #1581249.
  * include/mui/TheBar_mcc.h: updated to the latest changes, even if only C++
    was affected.

2007-08-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM.cd, deutsch.ct: fixed a minor glitch where the recent
    changes regarding the changed error handling in MA_LoadIndex() resulted
    in not being able to initiate a manual index rescanning anymore. In
    addition, the error messages were now slightly rephrased to match the
    common layout of our error messages.

2007-08-28  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: updated german translations according to the lastest
    changes.
  * YAM.cd: minor spelling corrections.
  * YAM_MAf.c, YAM.cd: added some error messages when loading or saving of the
    folder's index file fails.

2007-08-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, QuickSearchBar.c: a still running search is now aborted as soon as
    the next search is to be started. Additionally the user can now enter more
    data in the search string gadget even while a search is in progress. This
    makes searching in folders with lots of mails more "swift" even on slow
    machines.
  * YAM.c: cleaned up the CheckMCC() and InitLib() functions a bit.

2007-08-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM.cd: YAM will now identify invalid files which didn't
    pass MA_ExamineMail() during a mailbox rescan operation and warn the
    user accordingly. This should reveal eventually existing binary or
    broken mail files in a folder and give the user the chance to react
    accordingly upon rescanning a mail folder.

2007-08-26  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-08-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, include: now that BetterString.mcc 11.12 is released we
    make it the new minimum required version for YAM so that copy&paste
    should work correctly again with the latest nightly builds.

2007-08-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_write.h: when writing a message, the window title
    will now be updated according to the entered subject line. This
    should make it more easier to identify the window based on the
    added subject line information, in case multiple write windows are
    open. In addition, the window number is now added to the write
    window title as well.

2007-08-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c, YAM.c: as we are anyway just going to release 68020+
    builds for AmigaOS3 in future, they will now be marked as compiled
    for "m68k" instead. This should make clear that this is a general
    build optimized for motorola 68k processors. In addition, YAM will
    now check if an 68020+ processor is present in case it was compiled
    for them.
  * ReadWindow.c: changed the window numbering in the window title of
    multiple read windows to start from 1 instead of starting always
    from 0. This should be more intuitive. However, please note that
    this change is only cosmetical and that the technical numbering
    e.g. for Arexx scripts isn't changed. That means, if an Arexx
    script wants to address the first read window it still ought to
    address it by zero instead. This fulfills change request #1780690.

2007-08-23  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_global.c: fixed the wrong SYSTEMSHORT lines for OS3 and MOS.

2007-08-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: adapted new 'User-Agent:' string to match a bit more
    to other user agent strings out there regarding the comment field.
  * YAM_MA.c, YAM_global.c: changed window title to not contain any
    system specific information. That's really not required there.
  * YAM_global.c, misc: In accordance to standards (RFC 2616), YAM is now
    defining a "User-Agent:" header line like it is common with modern
    e-mail clients. The properitary large "X-Mailer:" line with heaps of
    commercials is therefore now not emitted anymore.
  * YAM_FI.c: the fixed bug #1779543 where the calculation of the filter
    action matches was slightly wrong and always output zero or one.

2007-08-19  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-08-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed certain overlapping shortcuts by redefining them to
    free shortcut keys (e.g. for the addressbook & config).
  * YAM_MA.c: the automatic script shortcuts are now starting from 1
    till 0 which means the 10th script. This should be more intuitive than
    letting the shortcuts start from 0-9.
  * YAM_MA.c: when having selected multiple mails an iterative 'Save'
    or 'Print' operation couldn't be canceled. Now the return value of
    RE_Export() and the print operation will be checked and the whole
    printing/saving being aborted.
  * locale/deutsch.ct: minor spelling correction to german translation so
    that the 'Edit' menu corresponds to terms which are more standard.

2007-08-19  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: updated german translations according to the lastest
    changes.

2007-08-18  Jens Langner <Jens.Langner@light-speed.de>

  * misc: implemented a common 'Edit' submenu which will be present in
    each main operation window of YAM (main, read and write window). Each
    'Edit' submenu contains common items like Cut/Copy/Paste which will
    be automatically applied to the currently active/default object in
    the respecitive window. This implies that e.g. all TextEditor.mcc
    and NList objects have the Styleguide violating 'Autoclipping' disabled
    now and should only react on e.g. an explicit Amiga+C shortcut for copying
    the content of the currently selected text. However, please note that
    this new functionality requires new versions of BetterString.mcc
    and NList.mcc to work properly, which will be available shortly.
  * Recipientstring.c: using CTRL+left/right cursor keys didn't work in a
    recipientstring as expected due to a missing qualifier check.
  * YAM_MA.c: when plainly pressing the keys 1,2,...,9,0 in the main window
    will now activate the respective folder rather than starting with zero.
    So pressing '0' will now activate the 10th folder instead of the first
    one. This should be more intuitive. In addition, we don't iterate through
    the folder list, but directly select the folder.

2007-08-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: the result list in the find window wasn't browseable by
    keyboard because the list wasn't set as the default object of the
    respective window.

2007-08-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM_US.c: fixed some more incorrect NListview/NList
    uses that may have caused some trouble with default object activation.
  * YAM_AB.c: changed DefaultObject to point to NList object instead of
    NListview object to fix default object activation. Also changed
    the Addressbook to popup with the first entry selected.
  * YAM_UT.c: fixed incorrect usage of the NListviewObject as the main
    object where we send our NList requests to. Now the created NList
    object will be used instead, which in fact should fix issues with
    seeing the scrollbar in an attachment view being used when trying
    to use the cursor keys for scrolling around in the List itself.
  * YAM_UT.c: slightly rewritten the ConvertKey() function to output an
    error message in case a MapRawKey() operation didn't succeed as
    expected.
  * YAM_TR.c: the first element in a preselection window will now be
    automatically selected upon popup of the window. In addition, the
    NList object will be the default object which will allow to
    immediately use the cursor keys to browse through the list.

2007-08-15  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: fixed the "empty transfer list" bug of report #1774583.

2007-08-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the .uidl file is now only saved if the hash table has been
    modified or if there are any entries to be saved at all. An unmodified
    or empty hash table will never be saved.

2007-08-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: added '#', '?' and '*' to the range of allowed characters to be
    able to enter a catch-all content-type like "text/*".
  * YAM_UT.c: when searching for a content-type description there is no point
    in performing a pattern match on the type instead of a simple comparison
    if no wildcards are allowed at all.

2007-08-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: the MatchExtension() function was doing a slightly incorrect
    compare to identify if the specified extension matches or not. This may
    have ended up in e.g. *.zip files being identified as zlib compressed
    files (*.z) when searching through the internal hardcoded MIME type
    list.

2007-08-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: the "Check for updates" menu item is now also disabled during
    an active mail or update check.
  * Recipientstring.c: handling of cursor right/left was still broken and
    would have left the " >> " marks in the recipient string. Now the marks
    are correctly removed and just the completely matched entry will remain.

2007-08-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, UpdateCheck.c: renamed TC_Unpause() to TC_Resume() which should
    be more intuitive. In addition it will now output a more detailed debug
    information.
  * Recipientstring.c: the recipient gadget should now correctly alter the
    currently entered content in case the user presses TAB or sets the
    gadget inactive via clicking on another gadget.
  * Recipientstring.c: when pressing ESC on a popped up addrmatchlist, the
    marked area is now properly cleared by forcing a redraw of the object.
    In addition, bug #1766535 should be partly fixed by reenabling the
    possibility to press the left/right cursor to interrupt a string
    edit session which should be quite in line what clients like Thunderbird
    do and what a user should expect.

2007-08-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, UpdateCheck.c: a timer can now be paused. Upon TC_Unpause() it will
    be restarted with the remaining time.
  * YAM.c, YAM_MA.c, UpdateCheck.c: reworked the update check to stop the mail
    check timer itself instead of letting MA_ChangeTransfer() do the job.
  * YAM_TR.c: adapted TR_GetMailFromNextPOP() a little bit more according to
    the STYLEGUIDE.
  * YAM.c, UpdateCheck.c: the get/send mail buttons and menu items are now
    disabled during an update check to avoid a possible mail transfer at the
    same time, as that may cause crashes.

2007-07-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: also bumped the min. versions for TextEditor.mcc and codesets
    library as new more stable versions are out now.
  * YAM.c: also bumped the minimum required versions for TheBar.mcc and
    BetterString.mcc to the recently released versions.
  * YAM.c: bumped all minimum required versions for all NList classes to
    the ones in the very latest NList 0.99 release.
  * misc: all FindPort() uses are now properly surrounded by Forbid/Permit
    calls as this is what the official documentation suggests. Otherwise
    we might run into race conditions sooner or later.
  * AttachmentGroup.c, AttachmentImage.c: when the user is doubleclicking on
    an attachment and the action causes the attachment to be decoded, YAM will
    now refresh the attachment icon as it might happen that a different icon
    will then be used due to the fact that DefIcons is then able to properly
    identify the file type.

2007-07-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the final statistics update during a mail transfer did not update
    the transferred size of the last mail and hence the last shown size could
    differ from the total size of a mail. One really needs slow connections to
    see this effect.
  * YAM_COg.c: when importing an alien MIME type list a '*' is no longer replaced
    by '#?'.
  * ImageCache.c: reordered the attributes for picture.datatype. A friend bitmap
    will now be requested as soon as a screen is set and not at object creation
    time.
  * YAM_TR.c: MUIA_Gauge_Max must be set before MUIA_Gauge_Current, else the
    gauge bar will be calculated on wrong data. Additionally the gauge label
    is now set to "maxsize/maxsize" upon completition of one mail.

2007-07-29  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-07-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd, deutsch.ct: changed all 'Okay' occurances in requesters to
    just show 'Ok', which in fact is more commonly used for such cases and
    also more intuitive. In addition, adapted the german translation
    accordingly to the latest changes in YAM.cd.
  * YAM_UT.c, misc: reworked the whole document print management including
    the check if a printer is online/available or in an invalid state. Now
    error requesters should be a bit more descriptive and point out the
    particular problem more clearly including having a retry button in
    case the printer check didn't work out.

2007-07-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: if PGP isn't available the 'Add PGP key' menuitem will be
    disabled now.
  * YAM.cd, deutsch.ct: minor adaptions to the catalog description and
    updated the german translation accordingly.
  * classes/YAM.c: fixed bug where the MatchRealName() function wasn't
    considering a compare of the whole realname string before trying to
    compare on either the firstname or lastname. This could have ended up
    in unresolved address matches when entering the firstname of a person
    and only one entry in the addressbook/emailcache was found and shown
    in the addrmatchlist window.

2007-07-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: when popping up a warning requester about a missing file, YAM
    will not initiate a DisplayBeep() anymore as the requester should be
    enough to raise the users attention.

2007-07-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #1758823 where the "Message->Edit" menuitem was always
    disabled in the outgoing folder, but the context-menu and toolbar item
    being enabled.
  * YAM_WR.c, misc: while composing a message, YAM wasn't complaining about
    any possible encoding mistake that happened and therefore may have
    ended up in broken emails to be sent out. Now YAM will check the error
    status of the EncodePart() function as well as taking care of eventually
    removed attachments and raising an error in case something went wrong
    during the encoding session. This should fix bug #1758109.

2007-07-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, include/mui/TextEditor_mcc.h: updated TextEditor.mcc SDK
    includes to very latest versions of the upcoming 15.22 release which
    allows to set the word wrapping mode explicity to Soft or Hard word
    wrapping.

2007-07-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_UT.c, YAM_EA.c, locale/YAM.cd: if PGP was found to be not
    available, but an addressbook entry is set to sign/encrypt, YAM will now
    throw a warning requester instead of blindly trying to sign/encrypt the
    message. This should fix bug #1755776.
  * YAM_CO.c, YAM_COs.c: changed the PGP detection code to only be fired
    up in CO_Validat() rather than in CO_SetDefaults() and CO_Validate(). In
    addition, CO_DetectPGP() now suppresses any OS warnings during the check
    for the PGP executables.
  * YAM.c: the CO_SetDefaults() was called two times during startup which
    was unnecessary and just consumed time.

2007-07-16  Jens Langner <Jens.Langner@light-speed.de>

  * ReadWindow.c, YAM_RE.c: fixed bug #1754233 where a CleanupReadMailData()
    call didn't always cleanup the active window pointer in the Arexx routines
    and therefore might have crashed sucessive mailread/readclose calls.
  * YAM.c: when YAM was initiated to restart it never actually checked if
    the addressbook and/or configuration was changed and therefore never warned
    the user accordingly. This should now be the case and therefore fix
    bug #1754105.

2007-07-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_EA.c: added '<' and '>' to the list of forbidden characters for aliases,
    names and addresses.
  * Addrmatchlist.c, Recipientstring.c, YAM.c: a realname is now matched in all
    its parts. That means if you have "John Doe <john@doe.com>" in your address
    book and type "d" in the recipient string then "John Doe" will be found in
    the address book. Before John only would have been found if you typed "j".
    Matches not resulting from the first name part will be marked by " >> " in
    front of the complete address. These marks will be removed upon resolve.
    Additionally the address match list will be closed if either ESC, DEL,
    cursor left or cursor right is pressed and any selected text passages will
    be cleared.

2007-07-12  Thore Böckelmann <tboeckel@gmx.de>

  * AddrBookListtree.c, MainFolderListtree.c: get the current DropTarget instead
    of the node at a given graphical position while dragging an object over the
    tree. This is much faster.
  * MainFolderListtree.c: the wrong attribute was used to determine the active
    tree node.
  * YAM_UT.c: empty type strings (ie "application/") will now be skipped, just
    like the catch-all types (ie "application/*").
  * YAM_COg.c, YAM_UT.c: simplified the catch-all recognition a little bit more
    by just checking for single forbidden characters.
  * YAM_COs.c: the MIME list is now set to quiet mode before inserting the
    entries and sorted completely after all entries have been inserted.
  * YAM_COg.c, YAM_COs.c, YAM_MI.c, YAM_UT.c: removed the separated MIME class
    and type strings again. Instead the ContentType is splitted on the fly
    during the sort process.
  * InfoBar.c: the folder image is now updated if the image ID instead of the
    filename changes.

2007-07-12  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-07-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM_CO.c: removed the 'Extras' submenu of the configuration
    window as it was anyway just used for importing MIME types in case the
    MIME configuration page was selected. Now a new PopFile button is used
    in the config page which allows to directly important without having to
    use the menu.
  * YAM_COg.c, YAM_COs.c: changed the scripts listview in the configuration to
    use NList.mcc instead of List.mui. This allows to add additional columns to
    be more descriptive about the various options configured. This fulfills
    feature request #1704792.
  * YAM.c, YAM_COs.c: the end-of-file and error status is now properly checked
    when loading the configuration. This should make the function more secure.
    In addition, the ConfigIsSaved variable is now set in CO_LoadConfig()
    and CO_SaveConfig() so that an e.g. reload operation should have that
    status variable properly set.
  * YAM_CO.c: if the 'Save' button is used on the configuration window,
    the config is now validated and saved regardless if it was changed or not.
    This should fix problems in case the 'Use' button was used previously and
    the user wanted to revisit the configuration just for saving it.
    In addition, the comparison logic in CompareConfigData() was changed to
    first do simple and quick comparisons and just do the time consuming
    stuff at the very end.

2007-07-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: possible catch-alls are now avoided upon searching a matching
    content-type for an attachment.
  * YAM_COg.c, YAM_COs.c: the MIME type list will now sort the entries itself.
  * YAM_MI.c, YAM_mime.h: added a new function to do the content-type splitting.
  * YAM_MI.c, YAM_mime.h: added two new members to split the ContentType into
    its parts.
  * YAM_CO.c: replaced the remaining List.mcc attributes by those for NList.mcc.
  * YAM_COg.c: removed the "sortability" of the MIME list again as we plan to
    change this list into a tree which needs completely different handling.
  * YAM_COg.c: added a bar to the script list.
  * YAM.c, locale/YAM.cd, locale/deutsch.ct, locale/svenska.ct: if either the
    address book or configuration had been modified without saving these yet,
    the user now has the chance to stay in YAM instead of quitting. This
    fulfills feature request #1751590.
  * YAM_AB.c: the To:, CC: and BCC: buttons are now disabled if a group is
    selected in the listtree. This fulfills feature request #1751592.

2007-07-11  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-07-10  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: fixed wrong pointer access when comparing ARexx functions.
  * YAM_COs.c: removed the const qualifier from CO_SaveConfig() because the
    config structure is now really changed.
  * YAM.c, YAM_CO.c, YAM_COs.c: the "is saved" state of the configuration is
    now set in CO_SaveConfig() and reset in CopyConfigData().
  * YAM.c, YAM_CO.c, locale/YAM.cd: a modified and yet unsaved configuration is
    now detected when quitting YAM. The user must then choose to save the
    changes or discard them. This fixes bug #511209.
  * YAM_CO.c: the comparison of two configuration structures is now complete.
  * YAM_CO.c: added comparison of POP3 accounts.
  * YAM_FI.c: implemented the complete deep comparison of two filter lists
    including all embedded rules.
  * YAM_MI.c, YAM_CO.c: added function to compare two MIME type lists.
  * YAM_FI.c, YAM_CO.c: renamed CompareFilterList() to CompareFilterLists().

2007-07-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd, deutsch.ct: slightly rephrased the requester text of the
    configuration reminder on quit.
  * YAM_CO.c, YAM_FI.c, misc: added generic compare functions to perform a
    transparent compare of the two config structures when a user closes the
    configuration window. This should allow to identify if the config was
    changed by the user or not. However, more work needs to be done to get
    that working.

2007-07-10  Thore Böckelmann <tboeckel@gmx.de>

  * Themes.c: Name, Author and Version keywords are parsed now.
  * themes/default.theme: added default theme description.
  * YAM.c: readded call to ImageCacheCleanup().
  * ReadWindowStatusBar.c: corrected initialization.
  * misc: several changes to integrate the themes management. At least it is
    possible to use the internal "empty" theme (without any graphics) and to
    load arbitrary other themes from external files.

2007-07-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_EA.c: added missing NULL pointer check which caused crashes when closing
    the edit window of a new user.
  * ImageArea.c, UserImage.c: NULL pointers during OM_NEW are now catched, too.
  * Aboutwindow.c: MUIA_NList_Input is documented to be a BOOl value and should
    be treated as such.

2007-07-09  Jens Langner <Jens.Langner@light-speed.de>

  * Aboutwindow.c: fixed allocation issue where sometimes the about text
    wasn't displayed at all due to an unclear text copying situation. Now
    we allocate the text on our own and display it right away until we free
    it when the window is closed.

2007-07-08  Thore Böckelmann <tboeckel@gmx.de>

  * ImageArea.c, UserImage.c: added NULL pointer checks to avoid calling
    strdup() with a NULL parameter. This fixes bug #1749655.

2007-07-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: cleaned up some functions.
  * YAM_UT.c: a mail being removed from the main window's mail list is now
    removed from the search window's result list, if it is opened. This fixes
    bug #1748819.
  * MainMailListGroup.c: the RemoveMail method is now just forwarded to the
    affected list objects instead of doing the work itself.
  * MainMailList.c: added new method RemoveMail to remove a mail from the list.

2007-07-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: set a new default MUIA_NList_Format with other minimum weight
    factors so that all columns should properly fit into the window width.
  * YAM_FI.c: the search window will not be disposed automatically anymore,
    when the window is closed. This should have the effect that upon reopening
    the window, all content, excluding the main mail list and the folder list
    will be restored and available for a consecutive search. This should
    fullfil change request #1747792. In addition, YAM will now make sure
    to always reactivate the string gadget of a search right after the search
    or after having reopened the search window.
  * YAM_FI.c: when a find window already exists in case the user presses
    the 'Find' toolbar gadget and/or menu item, the window will be brought
    to front and activated rather than closed.
  * SearchControlGroup.c: a new active object will now only be set in case
    the mode cycle gadget is switch by mouse manually. This should prevent
    YAM from steeling the focus from the cyclechain when switching modes
    by keyboard.

2007-07-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c, SearchControlGroup.c: when the find window is going to be opened
    a default active object will be automatically selected. This should make
    using the find window more intuitive.
  * YAM_TR.c, locale/YAM.cd: reworked the error reporting mechanism when
    trying to connect via TR_Connect(). Now YAM should correcly return
    an error message in all necessary cases. This fixes bug #1746826
  * misc: replaced all MEMF_ANY/MEMF_PUBLIC memory flag occurrancas with
    MEMF_SHARED and defined it for platforms where it doesn't exist. This flag
    is required to make sure a future OS4 version which will come with a pager
    can deal with our application.

2007-07-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COg.c, YAM_COs.c: the MIME type list is now sortable to be
    able to move the "type/#?" catchall to the end of the list and give certain
    entries some kind of a priority.
  * locale deutsch.ct: german translation update according to latest changes.
  * YAM_COg.c, YAM_COs.c: the "forget PGP passphrase" object is now ghosted as
    well. This finally fullfils change request #1748099.
  * YAM_US.c: fixed the "15 or 16 users" issue. Also the "Add" and "Del" buttons
    are now enabled/disabled if necessary.
  * YAM_COg.c, YAM_COs.c: fixed various "object should be ghosted" issues. This
    partly fixes bug #1748099.

2007-07-04  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-07-03  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/vasprintf.c: added the missing VA_COPY() calls which were
    hopefully the reason why this function wasn't working for our MOS builds.

2007-07-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_rexx.c: translated all old german comments to english
  * YAM_COg.c: analog to the Addrmatchlist the variable popups are now also
    opened with a maximum default height of 8 rows.
  * YAM_COg.c, YAM_COs.c: the InfoBar contents string gadget is now disabled if
    the info bar is switched off.
  * YAM_COg.c, YAM_COs.c: all gadgets relevant for logging are now disabled if
    logging is set to off.

2007-07-02  Jens Langner <Jens.Langner@light-speed.de>

  * Recipientstring.c, Addrmatchlist.c: on AmigaOS4 the Addrmatchlist wasn't
    scrollable via a scrollwheel. Now the IDCMP_EXTENDEDMOUSE events are properly
    forwarded from the Recipientstring object onto the Addrmatchlist so that
    the matchlist popup is now fully taking respect of OS4 wheelmouse events.
  * Addrmatchlist.c: the addrmatchlistwindow will now always open with a maximum
    default height of 8 rows.
  * extrasrc: extracted the snprintf/vasprintf/asprintf functions into seperate
    functions in our extrasrc subdirectory so that we can enable/disable each
    single one depending on the capabilities of the OS and/or C-runtime library.
    This should fix the broken MorphOS compile, for example.

2007-07-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: added a check if the UIDL hash table has been modified. In case
    no mail has been downloaded or deleted the unmodified hash table will not
    be written back to disk.
  * YAM_COg.c, Addrmatchlist.c: the popup lists now will never get a horizontal
    scrollbar, even if the contents would require it.
  * YAM_COg.c: the variable popups now display a scrollbar on demand, too.
  * Addrmatchlist.c, YAM.c: changed the old List.mcc object to an NList object.
    This one allows to let the list object decide itself whether a scrollbar
    must be displayed or not. This fulfills feature request #1746393.
  * YAM_EA.c, UserImage.c: changing the user image in the address book window
    but canceling the change afterwards will now correctly restore the old user
    image.
  * YAM_COg.c: clicking on "Insert ENV:Signature" will now append a linefeed,
    just like "Insert random tagline". This fixes bug #1746012.
  * locale/deutsch.ct: minor spelling change.
  * YAM_COg.c: the MDN cycle gadgets are now ghosted if sending of a return
    receipt is disabled completely. This fulfills change request #1746002.
  * YAM_COg.c, YAM_COs.c: the "word wrap: N" string gadget is now ghosted if
    if word wrap it disabled. This fulfills change request #1746005.
  * YAM_COg.c, YAM_COs.c: the "quote empty lines" and "strip signature" check-
    marks are now ghosted if "quote message" is disabled. This fixes bug
    #1746017.

2007-07-02  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes.

2007-07-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, locale/YAM.cd, locale/deutsch.ct: added a new submenu entry for
    our new "Switch to 'Message' Tab"-like menu entries and renamed them
    accordingly.

2007-06-29  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to changes plus some minor corrections
    and fixes.

2007-06-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: the automatic ghosting of the "also unread" check mark whenever
    the max age of a folder is set to zero is now disabled for the Trash and the
    Spam folder. Mails in these folders are deleted nevertheless if they are too
    old, regardless wether they have been read or not.
  * YAM_COg.c: the variable popup lists are now NList objects with two columns
    instead of simple List objects. That way the descriptions for the place-
    holders are always properly aligned and do no longer depend on a specific
    amount of space characters between them.
  * ImageArea.c, UserImage.c: added some checks for valid datatype objects.
  * ImageCache.c: added some checks for empty or NULL file names, as this will
    be required for the upcoming themes, especially for an "empty" theme.

2007-06-27  Thore Böckelmann <tboeckel@gmx.de>

  * AboutWindow.c: replaced all occurences of umlauts by their corresponding
    substitutions (i.e. ö = oe). Although this generally is no problem for
    german names I don't know if this applies for scandinavian names (i.e. Pär
    Boberg), too. These people are hereby requested to stand up and give us a
    hint how to change their names to fit 7bit US-ASCII.
  * locale/deutsch.ct: updated german translations according to the lastest
    changes.
  * AboutWindow.c, YAM.cd: the text in the About window is now localizable.
  * extrasrc.c, vsnprintf.c: enabled the (v)asprintf() functions as they will
    be needed in the future.
  * InfoBar.c, ReadWindowStatusBar.c: added missing parameter to debug macro
    call.
  * InfoBar.c, ReadWindowStatusBar.c: two usages of the image file name in place
    of the ID had still been active.
  * ImageCache.c: the image ID was never freed upon OM_DISPOSE.
  * ImageCache.c: changed some debug macros to be of class IMAGE instead of GUI.
  * ImageArea.c: MUIA_ImageArea_ID was not OM_GETable, hence getting and using
    this attribute caused crashes.

2007-06-26  Thore Böckelmann <tboeckel@gmx.de>

  * InfoBar.c, ReadWindowStatusBar.c: when adding the folder image the ID is now
    correctly derived from the folder's image object instead of using the file
    name as ID.
  * YAM_EA.c: the user image is now centered in the edit window.

2007-06-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_WR.c, YAM_CO.c, YAM_COg.c, YAM_COs.c, misc: introduced a new
    forward mode mechanism where it is now possible to select wheter an email
    should be forwarded by adding the mail as an attachment to a new mail, or
    if the mail text of a forwarded mail should be inlined in the new message
    instead. In addition, by holding the ALT qualifier while pressing on the
    'Forward' toolbar, a user can easily temporary switch between the two
    forward modes on demand. Also, it is possible to select the forward
    mode in the configuration whereas the 'as attachment' option is the new
    default because that's normally what the user wants to do.

2007-06-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: when forwarding a mail inlined in a new write window, existing
    signature seperators "-- " will be made invalid by stripping the trailing space
    so that any automatic signature recognition or stripping mechanism will not
    be triggered by the inlined text. This should fix bug #1742398.
  * YAM_MA.c: the subject line of a forwarded email will now be layouted as
    [Fwd: XXXX] where "XXXX" is the original subject line. This should be a more
    commonly used way of altering the subject line when forwarding a mail.
  * ImageArea.c, UserImage.c, AttachmentImage.c, misc: changed the static minterm
    value of all BltMaskBitMapRastPort()-like functions to be 0xe0 instead of 0xc0
    as this is the only correct value for the BltMask operation according to the
    manual. In addition, the corresponding preprocessor defines are now used
    instead of statically defining the minterm value. This should make the
    BltMask calls more descriptive (e.g. (ABC|ABNC|ANBC) instead of 0xe0).
  * YAM_WR.c, locale/YAM.cd, locale/deutsch.ct: it is now possible to quickly
    switch between the different tabs in a write window with predefined
    shortcuts (Amiga-1,Amiga-2,Amiga-3) instead of having to always use a
    mouse to e.g. show the current attachment list.

2007-06-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: whenever the max. age of a folder is set to zero days the "also
    unread" check mark will be disabled now.
  * ShutdownWindow.c: the shutdown window is now opened in inactive state.
  * misc: there are now three central functions to build a properly set up
    address string consisting of name, address and all necessary quoting of
    "forbidden" characters. Two of these new functions base upon the third which
    does all the horse work. This fixes bug #1742421.
  * ReadMailGroup.c: while building the context menu for the embedded read pane
    the wrong variable was used to decide wether the "Attachments" item must be
    enabled or disabled. It was enabled all the time even if there were no
    attachements at all. This of cause caused crashes when invoking the menu
    item. This fixes bug #1742309.
  * YAM_MA.c: the "Reply" button and menu entry is now disabled for the outgoing
    folder as it was before already in the context menu of the embedded read
    pane. This fixes bug #724517.

2007-06-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: applied some changes according to the STYLEGUIDE.

2007-06-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: changed the stack size specification to use a single define
    value for easily changing the minimum stack size of the application.
  * include/SDI_compiler.h, YAM_global.c: added NEAR define for being able to
    specify __near in a compiler independent way.

2007-06-21  Thore Böckelmann <tboeckel@gmx.de>

  * smakefile: added missing HTML2Mail.c target.
  * tools/genclasses/gc.c: compilable by SAS/C again.
  * YAM_EA.c, UserImage.c: changing a user's image never activated the new
    image, because YAM used a static ID instead of the user's address.
  * ImageArea.c: use the renamed image functions.
  * ImageCache.c: renamed DisposeImage() to ReleaseImage() as it is the opposite
    function to ObtainImage(). Additionally ReleaseImage() takes one more para-
    meter to decide wether to leave an unused image in the cache or not. Also
    added a "delayed dispose" feature. If an image is still in use upon
    ReleaseImage() but removal is requested this state is now remembered. It
    will be removed from the cache as soon as the image's open counter reaches
    zero.

2007-06-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: according to the documentation at the OpenSSL homepage
    (http://www.openssl.org/docs/ssl/SSL_connect.html) all SSL_ERROR_WANT_READ
    and SSL_ERROR_WANT_WRITE error conditions have to either query for read
    descriptor set or a write descriptor set. Therefore, our TR_Write() and
    TR_Read() functions will now differentate between those two possible
    error values and act according to the documentation.

2007-06-20  Thore Böckelmann <tboeckel@gmx.de>

  * misc: lots of changes to make YAM compilable by SAS/C again. Mainly some
    typecasts were added. The biggest change happened in the toolbar subclasses,
    because SAS/C is not able to handle the tr() calls within a structure
    definition.
  * YAM_global.c: because of the final binary size some variables must be
    explicitly declared as __near for the SAS/C build.
  * YAM_MA.c: simplified the folder listtree's destructor hook a bit.
  * strlcpy.c: added a typecast to please SAS/C.
  * vsnprintf.c: added a custom implementation of vsnprintf() which does not
    rely on exec/RawDoFmt() and knows how to handle %d and even floating point
    values. The separate sources for vsnprintf() and snprintf() are no longer
    necessary.
  * YAM_TR.c: the WaitSelect() call should only include those sockets which are
    really to be tested. That means that upon a write test only writeable
    sockets should be checked and not the readable ones as well. RoadShow seems
    to choke on checking the same socket to be able to read *and* write at the
    same time. At least now the CPU load is back to normal with OS4.

2007-06-19  Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: the (V)DPRINT() functions has reversed dependencies.

2007-06-19  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: on a AmigaOS3 host, arexx commands will now be used to
    automatically generate the DEVFLAGS and YAMVERID variables instead of
    using geekgadgets' unix tools.

2007-06-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_RE.c, YAM_TR.c: fixed a few warnings to please SAS/C. Yet there
    are lots of warnings about possible portability problems and even some
    constructs which cannot be translated by SAS/C.
  * extrasrc.c: included prototypes for snprintf() and vsnprintf() for those
    compilers where the runtime library does not offer these functions (i.e.
    SAS/C).
  * extrasrc/snprintf.c, extrasrc/vsnprintf.c: added custom implementations for
    snprintf() and vsnprintf(). These base upon exec/RawDoFmt() and hence do not
    include support for floating point values, but at least they work for all
    types of integers and strings.
  * YAM_folderconfig.h: corrected prototype for FO_GetFolderByType().
  * Debug.c, Debug.h: reworked the debugging macros so that even compilers which
    are not able to handle vararg macros (like SAS/C) can compile YAM again.
    Currently it is not yet possible to build YAM with SAS/C again, but maybe
    this will be possible again in the future.

2007-06-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: the size parameter of getsockopt() is now socklen_t for all calls.
  * replaced the AppendLog#?() macros by regular calls to AppendToLogfile().

2007-06-13  Jens Langner <Jens.Langner@light-speed.de>

  * ThemeListGroup.c, YAM_CO.s, YAM_COs.c, YAM_conig.h: for the upcoming
    themes feature, the listgroup class can now be queried for the active
    theme and the configuration will now already save the name accordingly.

2007-06-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: partly reverted some latest cosmetic changes. In addition, the
    ProcessEXPORT() function will now abort the export action cleanly because
    an unsuccessfully malloc() should always be aborted immediately.
  * YAM.cd, deutsch.ct: rephrased the new error message to match the new form
    of other similar connection relevant error messages.

2007-06-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: TR_ProcessEXPORT() no longer returns without freeing the list of
    mails without freeing the items if copying of one item fails. Instead only
    the partly copied list will be processed.
  * YAM_TR.c: added some missing free() calls in case a subsequent malloc()
    fails.
  * YAM_CO.c, YAM_FI.c, YAM_TR.c: replaced some more calloc()/memcpy() pairs by
    memdup().
  * YAM.c: all the timer stuff now uses an enumeration value for the loops
    instead of a simple integer.
  * YAM_stringsizes.h: removed an unused constant.
  * YAM_TR.c, locale/YAM.cd, locale/deutsch.ct: a broken connection message did
    not include the server and command name. Also cleaned up some functions. The
    SendSMTPCmd() and SendPOPCmd() functions now get the translated error
    message as last parameter.

2007-06-11  Jens Langner <Jens.Langner@light-speed.de>

  * misc: changed all "static const char**" arrays to be somewhat more const by
    being defined as "static const char *const *" which should give the compiler
    even more hints of the const nature of the variable.
  * YAM_MA.c, YAM_main.h: the MA_ImportMessages() function now only checks the
    first 10 lines of a file for identifying a specified import file as an MBOX
    format file or otherwise certain files may be miss-identified.
  * YAM_TR.c: an outgoing mailfolder is also a sentmail folder per definition
    and as such the fix for bug #1735093 should include it when setting a default
    status flag during the import mail action.

2007-06-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: importing a mail to the Sent folder will now mark it as read if no
    YAM specific header was found. A mail with a header which states that this
    mail is unread will still be marked as such, even if the folder is the Sent
    folder, which does not offer to mark a mail as read. This fixes bug #1735093.
  * YAM_UT.c: replaced a malloc()/memcpy() pair by a call to memdup().
  * YAM_MA.c: added some ENTER(), LEAVE() and RETURN() macros to some functions.

2007-06-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: when editing a mail as a complete new one, the user's From:
    and ReplyTo: address will be used instead of blindly copying the addresses
    of the editing mail. This should make the action more intuitive and prevent
    from accidently sending mails with a foreign From: address.

2007-06-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: the menu/button keyboard shortcuts were mixed up because we used
    duplicate keys for different actions. This ended up in not being able to use
    the push buttons's shortcut properly. Now new menuitems were added to
    the write window which clear fixed shortcuts/hotkeys for the 4 main
    write window actions (send now/send later/hold/cancel). These shortcuts are
    now also fixed through all languages which should be more consistent to what
    the rest of the application does as well. However, this means that there
    might now be any char underlines in a push button in a different language.
    So only in case a translated action also has the same char as the shortcut
    it should be underlined accordingly. This fixed bug #1732071.

2007-06-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: closing the main window will no longer iconify YAM if "iconify on
    close" is disabled and for example a write window is still open. The main
    window will stay open if the requester is answered with "no".
  * locale/YAM.cd, locale/deutsch.ct: changed the phrasing from "expire unread
    messages" to "delete unread old messages".
  * YAM_CO.c: if opening the config window failed for whatever reason the close
    hook was called with the normal "cancel" argument instead of a pointer to
    this value. This caused crashes, because the hook did not check for NULL
    pointers, as this is what the zero argument in fact became. Now a pointer to
    the value zero is used.

2007-06-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: some "beautifications" according to the STYLEGUIDE and use of
    named constants instead of simple numbers.
  * YAM_CO.c: a changed header layout is directly changed in the read mail group
    instead of the window since the group is able to modify this now itself.
  * ReadWindow.c: the ChangeHeaderInfo and ChangeSenderInfo just forward the
    message to the read mail group, which in turn does the necessary refresh.
  * ReadMailGroup.c: added the two methods ChangeHeaderInfo and ChangeSenderInfo
    which modify the corresonding header items and refresh themself upon change.
  * YAM_CO.c: all actions that must be applied to open read windows after
    changing the config are done now in one single loop to minimize the overhead
    of walking through the window list. This also makes it possible to change
    the header layout and sender info on-the-fly.
  * YAM_CO.c: removed a double update of the read window toolbar in case the
    spam filter is disabled.
  * YAM_FO.c, YAM_MA.c, YAM_UT.c, YAM.cd, deutsch.ct: implemented the
    "expire unread" feature. If enabled even unread messages will be deleted
    if they exceed the maximum message age of a folder. This option is disabled
    by default.
  * YAM_UT.c: increased the buffer size of CopyFile() even more to 64K. This
    buffer is now allocated dynamically instead of placing it on the stack.
    Structures of this size don't belong there.

2007-06-05  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile, Makefile.depend: minor cleanup and optimizations to the build
    and strip process.
  * YAM_UT.c: to potentially speed up the read/write operations in CopyFile()
    an 8K buffer is now used instead of 1K.
  * YAM_CO.c: to be on the save side the default socket transfer timeout is now
    increased to 30 seconds instead of 10. This should hopefully fix issues
    with slow/unresponsive server connections/transfer. However, please note that
    everyone is adviced to change the "SocketTimeout" config value to 30 in case
    an earlier nightly build was used and already wrote another value to the
    YAM config file.
  * YAM_mail_lex.l: adapted the URL/URI regular expression recognition to take
    more respect of the currently uptodate RFC 3986 which is responsible for
    defining how a URL/URI should look like. This fixes bug #1726183 where
    some URLs weren't recognized properly and therefore not highlighted in
    mail texts. Now the URL/URI recognition should be somewhat more compatible
    to recent standards.

2007-06-04  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM.h, YAM_UT.c: the current docky icon state is now remembered
    globally in order to be able to reset the state upon restart and to avoid
    unnecessary flickering.
  * misc: moved the image cache's hash table and the spam filter's token
    analyzer to the global structure.
  * ImageCache.c, ImageCache.h: removed the yet commented out struct MinNode
    from the node structure.
  * YAM_TR.c, YAM.cd, deutsch.ct: the SMTP and POP3 error messages now include
    the name of the server signaling the error. This should make it a lot easier
    to spot the faulty server if for example several POP3 servers are queried
    and one fails to correctly respond to a command. Future error messages must
    accept the server name as first parameter!
  * YAM_FI.c, YAM_main.h: removed some old deprecated macros.
  * TODO: removed some items which have been implemented in the meantime.

2007-06-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_main.h, MainMailList.c, MainFolderListtree.c, YAM_MAf.c: added new bitmask
    preprocessor macros for more easily handling of the folder and message list column
    selection and propagated them to all places where the folder/message columns will
    be queried. In addition, a new default set of folder and message columns are now
    in place to make the look&feel of YAM more intuitive right from the start.
  * YAM_COg.c, YAM_COs.c, YAM_CO.c, locale/YAM.cd: the recently added GUI
    elements for changing the folderinfo mode are now selectable in the 'Lists'
    configuration. In addition, the 'Foldername (unread)' is set as the default
    as that is what YAM was doing right from the start. This should make the config
    more compact. Also renamed/removed some unecessary locale strings/translations
    accordingly.

2007-06-03  Thore Böckelmann <tboeckel@gmx.de>

  * misc: the folder tree view labels are now user definable in that sense that
    one can define if just the folder name should be displayed or the number of
    new and unread mails, too. This way it is up to the user to decide which
    numbers get displayed and what meaning they have. YAM no longer will try to
    decide which numbers should be displayed by just guessing this information
    from the shown and hidden columns.

2007-06-01  Thore Böckelmann <tboeckel@gmx.de>

  * ReadMailGroup.c: removed a double refresh after cropping the attachments.
  * AttachmentGroup.c: removed a double refresh after cropping the attachments.
  * YAM_MA.c: invoking "crop attachments" from the main menu never refreshed an
    open read window. Now an open window or an open read pane will reread the
    mail. This fixes bug #1729061.

2007-05-31  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: user defined folder images had no hash table ID and hence could
    never be found and displayed. Now the file name is used as ID. This fixes
    bug #1728889.

2007-05-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: removed the additional update of the folder statistics for the
    AppIcon again as the real "bug" was fixed by the changes done in YAM_MAf.c.
  * YAM_UT.c: the docky icon is now updated always again, because else upon
    restart the wrong icon is displayed.
  * misc: reworked the ImageCache functions to use a hash table instead of a
    linear list. First, this is much faster for searching the images, and
    second, the images are now "indexed" by an ID string instead of the full
    image file path. This is necessary for the upcoming themes management.

2007-05-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: with this final change now all hidden columns' numbers are
    shown along with the folder name.
  * MainMailList.c: the disable/enable logic for the "Send" item was reversed.
  * YAM_MAf.c: changed the display of new and unread mails once more. All hidden
    columns' numbers will be shown behind the folder name now.
  * YAM_CO.c: the last fix pushed the argument in a wrong way.

2007-05-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: some popup buttons must be reenabled in another context to ensure
    they are really enabled again after the corresponding ASL requester has been
    closed by MUI. This fixes bug #1725800.
  * YAM_MAf.c: in case the "New" and "Unread" columns of the folder tree are
    hidden the number of new and unread mails is now displayed in this way: if
    new mails exist the numbers will be displayed as "folder (new/unread)". If
    only unread mails exist the number will be displayed as "folder (unread)".
    If neither new nor unread mails exist then only the folder name will be
    displayed. This fixes bug #1725795.

2007-05-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: added the name of the unknown charset to the warning message.
  * extrasrc/vastubs.c: added some more stubs for the OS3 build in order to be
    able to use clib2's libamiga.a, too, which does not include the varargs
    functions used by YAM.

2007-05-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: some invocations of MUIM_MultiSet did not include the terminating
    NULL pointer.

2007-05-24  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes in YAM.cd and some minor fixes.

2007-05-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: the "fixed AppIcon position" checkmark was not correctly disabled
    upon opening the config window.
  * BayesFilter.c: extended the debug output a little bit in case the chi2P()
    function fails. Normally this should not happen, but who knows?
  * Debug.c: all builds now use the same _DPRINTF() function, becase there is
    absolutely no difference at all anymore.
  * Debug.c: the OS3 and MOS builds were not able to print out floating point
    numbers in the debug log, because kprintf() is not able to deal with such
    values. Now the same code as for OS4 is used, which utilizes vasprintf()
    and finally that buffer is put out with kprintf().
  * YAM.c, YAM_MAf.c, YAM_UT.c: separated the counting of new and unread mails.
    Mails are now counted according to their current state. That means a NEW
    state does no longer automatically imply an UNREAD state. If YAM does
    anything wrong here we will notice it now.
  * YAM_TR.c, YAM_UT.c: use the new folder stats function.
  * YAM_FO.c: added a new function which updates the statistics for a single
    folder.

2007-05-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: reworked the TR_Read(), but especially the TR_Write() function
    to take care of only partially written data. Previously TR_Write() didn't
    care about 'short item counts' and only did a single data transfer via
    send(), rather than trying to submit all supplied data. Now it should take
    care of that as well, which hopefully should fix bug #1722336.

2007-05-24  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-05-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: before considering a connect() attempt to be successfull we will
    now read out the socket SO_ERROR option and check if it returns an error
    or if we can consider it successfull. This should make the connect()
    success state checking a bit safer, especially because of the recently
    introduced for the UAE bsdsocket workaround.
  * YAM_TR.c: reworked the TR_Connect() to not issue a subsequent connect()
    in case a connection succeeded the WaitSelect() state. Somehow there seem
    to be partly broken bsdsocket TCP/IP stack implementations (e.g. WinUAE)
    which return with an incorrect error value instead of EISCONN. This
    should fix connection problems when running YAM in WinUAE's bsdsocket
    implementation.
  * YAM_TR.c: replaced all Errno() uses against SocketBaseTags() calls which
    are documented to replace Errno() according to the bsdsocket autodocs.
  * YAM_TR.c: minor modifications to the socket transfer routines so that a
    write operation to the socket should identify a short item count and
    besides a debug warning, also end up in an error, if not all requested
    data could be written to the socket.

2007-05-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c: fixed a bunch of const warnings which the latest GCC 4.2.x seems
    to not accept anymore.
  * YAM_CO.c: increased the default mail warning size to 1024KB as that should
    really be a sensible default value today instead of just 100KB.
  * YAM_TR.c, YAM_config.h, misc: replaced the integer for 'TransferWindow'
    and 'PreSelection' by an enum value to make the usage more clear.
  * YAM_TR.c: whoops, the last commit from Thore seem to have broken the OS3/MOS
    builds as he did revert my last changes by accident. Now my TR_IsOnline()
    changes should be back again.

2007-05-22  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentGroup.c: whenever a formerly non-decoded mail part is decoded (for
    example when saving the attachment) the group is now redrawn to show the
    exact file size instead of the estimated size.
  * ImageCache.c, locale/YAM.cd, locale/deutsch.ct: added the possibility to
    ignore any missing image file.

2007-05-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: reverted the floating point size calculation as floating
    point operations should be really avoided. However, by changing the order
    of the division/multiplication in the calculation, the estimated MIME part
    size calculation can be performed without having to worry about any value
    overflow and with only a minimum precision loss.
  * locale/deutsch.ct: some more grammar fixes which should address bug #1722544
    also.

2007-05-21  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_RE.c: the size calculation of encoded parts could overflow if the part
    was larger than 20MB, because the intermediate results exceeded 2^31 in this
    case. Now a double variable is used to avoid this problem.
  * locale/deutsch.ct: even more grammar fixes and all inlined new lines re-
    placed by single lines.
  * ImageCache.c: if loading of an image fails but the user chose to ignore such
    errors before the error requester will no longer be displayed now.
  * locale/deutsch.ct: fixed various grammatical errors.
  * YAM_TR.c: the message size labels are now initialized using FormatSize()
    instead of fixed size strings like "0 B". That way these strings always look
    the same and don't change their general look when the transfer really
    starts.

2007-05-20  Thore Böckelmann <tboeckel@gmx.de>

  * Addrmatchlist.c: the window containing the attached string object is
    activated after every change of the active list entry. In case the active
    change was triggered by a mouse click this reactivation avoids the focus
    loss of the string object. This fixed bug #1721712.

2007-05-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_TR.c, YAM_global.c: reworked the whole TR_IsOnline() handling
    so that on AmigaOS4 RoadShow will always be queried for its system
    (online) status and tell if it is usable or not. However, by using the
    IOCInterface+IsOnlineCheck variable it is still possible to directly
    query for a specific interface instead of a general usability query of
    the underlying TCP/IP stack.
  * YAM_TR.c: fixed the graphical jittering of the transfer gauge by
    using Size_Curr and Size_Curr_Max as the basis for the gauge progress
    calculation.
  * YAM_TR.c, YAM_CO.c: now that we have non-blocking socket I/O but our
    TCP/IP stuff isn't yet running in an own process, the socket timeout
    calculation will now be done by always performing WaitSelect() calls of
    length 1s. We do this until the real, user defined timeout value is
    reached. This should allows to get the GUI even more responsive and make
    the 'Abort' button of the transfer window more or less instantly abort
    a transfer instead of having to wait until the defined socket timeout
    is reached. As a result of this change, the default socket timeout value
    will now be 10s instead of 7s because the Abort button should finally
    really abort immediately.
  * YAM.c: now that BetterString.mcc 11.10 is released we make it the new
    minimum version required.
  * misc: removed some typed-punned warnings by replacing all IsMinListEmpty()
    calls by IsListEmpty() equivalents. These warnings are only issues by GCC
    4.1.0+ compilers which is now the new default compiler suite for the OS4
    builds.

2007-05-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, YAM_CO.c, YAM_COs.c, YAM_config.h: finally implemented the long
    awaited non-blocking socket I/O routines. Now YAM should completly use
    non-blocking I/O for socket connections, so it will actively set an own
    timeout (default: 7 seconds) for socket operations like connect()/recv()
    and send(). In practice, this should significantly improve situations where
    either the TCP/IP stack wasn't ready or the connecting server wasn't
    operating properly and caused YAM to totally hang during a socket operation
    with no control on whether when it will timeout. Now YAM can actively
    timeout after a predefined interval and return an error.instead. For the
    moment this timeout is set to 7 seconds per default - however we have to
    find out what will be a sensible value for most of the people. In addition,
    this new non-blocking I/O allows now to set a signal break mask on which
    the socket operating should be interrupted. However, until we are running
    our TCP/IP stuff in an own process (which is due for 2.6) we can't use it.
    But it should then allow to immediately break a socket operation in case
    the user pressed the 'Abort' button.
  * YAM.c: the imagecache cleanup will now be processed after the main
    application object is disposed. This should prevent certain crashes in case
    some images are still shown (e.g. in the shutdown window).

2007-05-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, ShutdownWindow.c: when restarting YAM, the shutdown window will not
    be displayed anymore. In addition, it will only be created in case the
    application isn't in iconify state.
  * YAM.cd, deutsch.ct: minor twirks to the latest changes.

2007-05-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: the shutdown window is only created and opened if the application
    object exists (e.g. double start of YAM), else YAM would crash.
  * QuickSearchBar.c: if no text is entered in the search string the current
    search mode will be shown in italic style and with shadow color instead of
    an empty string object. This feature requires the yet unreleased version
    of BetterString 11.10.
  * YAM.c, YAM_UT.c: added a new function to free a FileReqCache structure.
  * YAM.c, ShutdownWindow.c, YAM.cd, deutsch.ct: added new shutdown window which
    is shown upon shutting down YAM. Its usability will be extended in the
    future. Also cleaned up some functions a bit more.
  * misc: implemented the "filter non-spam mails again" option. If this option
    is enabled and a mail is classified as non-spam all user defined filters
    will be applied to this mail first. If no filter moves or deletes this mail
    it will eventually be moved back to the incoming folder.
  * misc: removed several unneeded local prototypes.

2007-05-17  Thore Böckelmann <tboeckel@gmx.de>

  * Addrmatchlist.c: upon opening the list of matching aliases, addresses and
    names has no active entry anymore. The list is activated as soon as the user
    selects one entry with either mouse or keyboard. Then, after one entry has
    been selected, the currently typed string is completely replaced by the
    selected entry's address instead of the matching string. This way the
    recipients are *always* unique and can always be resolved correctly. Address
    book entries with very similar aliases, names and adresses will no longer
    cause trouble in the resolve process.
  * Recipientstring.c: minor code cleanups.
  * YAM_UT.c: added some debug output while processing the zombie files.

2007-05-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MAf.c: cleaned up the display hook of the folder tree. For folders with
    both new and unread mails the number of new and unread mails are now shown
    correctly.
  * deutsch.ct: fixed some german phrasing.

2007-05-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, YAM.h: reworked the whole ESMTP/SMTP connection routine to
    always try to connect via ESMTP to the mail server first and only
    fallback to plain SMTP in case the server doesn't seem to accept the
    'EHLO' command. This allows to always query the SMTP server for its
    capabilities so that we can make use out of the additional ESMTP
    specialities documented in RFC 1869. For example, YAM does now
    automatically use the 'SIZE=' parameter to signal the server the
    message size in advance so that it can immediately return if it
    will accept that size or not. Also, an existing '8BITMIME' extension
    allows to specify if the actual message will be transfered in 8bit
    MIME or in plain 7bit ASCII. So, in case the users 'Allow8bit'
    setting is found to conflict with the SMTP server capabilities an
    error message will now be dropped on an SMTP connection.

2007-05-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: changed some functions to use constant parameters.
  * YAM.c: an existing folder named "spam" is now correctly converted to the
    standard spam folder if the spam filter is enabled on startup. This fixes
    bug #1717689.
  * YAM.c: added missing CreateFilename() calls while checking if a spam folder
    already exists.
  * YAM_COs.c: upon disabling the spam filter now the former spam folder is
    redrawn instead of the current folder. This makes the folder image go away
    instantly instead of having to click on the old spam folder once again.
  * deutsch.ct: fixed a typo.

2007-05-11  Thore Böckelmann <tboeckel@gmx.de>

  * misc: implemented the "move non-spam mails back to incoming" feature. If
    this option is enabled falsely classified spam mails which are reclassified
    as "not spam" will be moved back to the incoming folder.

2007-05-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd, deutsch.ct: minor typo fixes and rephrasing.
  * STYLEGUIDE: added information to generally try to avoid the use of
    MUIA_ShowMe in the sources of YAM.
  * YAM.cd: renamed the "Not Spam" toolbar texts to the shorter "N.Spam"
    variant as that prevents the toolbar from unncessary button resizes
    in case the user switches between a Spam and Not Spam message.
  * YAM_TR.c: reworked certain sent/recv function to better comply to our
    STYLEGUIDE. In addition, more added debug output should make it easier
    to debug a TCP/IP session and find out why a connection terminated.

2007-05-10  Jens Langner <Jens.Langner@light-speed.de>

  * ReadMailGroup.c: reworked the OM_NEW method to not allocate a temporary
    struct Data but use seperate local variables instead. In addition, usual
    ENTER/LEAVE pairs are added and only a single return path is used. Also
    the attachmentGroup object will be only created once and then reused
    accordingly where we just Show/Hide the attachmentgroup via InitChange
    ExitChange pairs. This should also fix an illegal access problem which
    occurred after the last changes.
  * YAM_TR.c: slightly reworked the TR_DownloadURL() once more to be somewhat
    more compatible to RFC2616 and the "Content-Length:" usage.
  * YAM_TR.c: the TR_DownloadURL() function will now respect the
    "Content-Length:" header which is sent with a server response to a HTTP
    request. If then the amount of specified content was received we will
    immediately quit the HTTP download and not wait until the HTTP drops the
    connection. This should e.g. lower the amount of time an UpdateCheck
    requires as otherwise we are waiting for a timeout even if we have
    received all necessary data.
  * YAM_CO.c, YAM_COs.c: if 0/0 should really be an accepted value for
    positioning the AppIcon, then other checks had to be changed as well. In
    addition the default value for the AppIcon position will now be set to
    -1/-1 so that a free positioning will be set.

2007-05-10  Thore Böckelmann <tboeckel@gmx.de>

  * ReadMailGroup.c: the attachment group is now handled completely dynamically
    and added/removed on the fly to the window instead of simply showing/hiding
    it. Maybe this fixes some old MUI3.8 bugs.
  * Recipientstring.c: if any entry in the attached address match list was
    selected with the mouse instead of keyboard the string replacement failed,
    because the address match list has its own window. Clicking inside another
    window made the recipient string going inactive and unmarking the selection
    which in sequence just inserted the new address instead of replacing the
    formerly selected part. Now a marked part is remebered before going inactive
    and restored before the replace operation.
  * Addrmatchlist.c: minor optimizations.
  * YAM_UT.c: the position 0/0 for an icon is valid in any case, only negative
    values must be converted to a "free" position.
  * YAM_COg.c, YAM_COs.c: the button to get the current icon position is now
    disabled by default, too.

2007-05-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_CO.c, YAM_COg.c, YAM_CO.s: revised the recently introduced
    AppMessage catching from workbench.library to be somewhat more compatible
    to older workbench.library versions. In addition, the configuration GUI
    now contains only one single config line for changing the X/Y position
    of the icon as well as a new button that will automatically query the
    current position of the AppIcon and put it into the corresponding gadgets
    automatically.
  * icons/YAM.info: added a new main default YAM .info icon to the repository.
    This will be the new official application icon of YAM.

2007-05-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: a modified status change delay is now saved, too.
  * YAM_CO.c: added a safety check to the status change delay. Values outside
    the range of 1 to 10 seconds are limited accordingly.
  * AddrBookListtree.c: applied similar changes to the address book listtree as
    before to the main folder listtree. This change makes the tree scrollable
    again while dragging user entries.
  * YAM.c: in case YAM is running with workbench.library V43 or earlier the
    am_Class field of an AppMessage may contain garbage data which could prevent
    YAM from poping up its window when the AppIcon is double clicked or a file
    is dropped on it.

2007-05-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: added a missing include.

2007-05-08  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c, YAM_COs.c: the sender info cycle is now enabled and disabled
    according to the header lines option. Also all three GUI elements should
    have the correct state now after reopening the config window.
  * misc: the AppIcon now supports the standard Workbench Snapshot, Unsnapshot
    and Empty Trash methods of workbench.library v44+ and reacts accordingsly.
    Additionally the icon position can now be specified as non-fixed.

2007-05-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: setting the header lines to "none" now disables the "wrap
    headers" checkmark.
  * AttachmentImage.c: added the BMF_MINPLANES flag to all AllocBitmap() calls.
    Hopefully this fixes the crashes and garbage images that some people
    encountered with OS4's 32bit icons and CGX.
  * locale/deutsch.ct: removed a wrong additional line feed.

2007-05-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd, locale: stripped the unecessary "..." prefixes from the
    multiple recipient reply requester. They just eat up space.
  * YAM_MA.c: fixed bug #1712714 where recent cleanups broke the multiple
    recipient replying and did strip all To: addresses excluding the one
    one.

2007-05-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_US.c, locale/YAM.cd, locale/deutsch.ct: when creating more than one
    new user and the mail directories did not exist yet the error message
    indicating this fact didn't contain any information which directory of
    which user didn't exist. Now the error message does contain all the
    information.

2007-05-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: the workaround for the unexpected connection drop warning wasn't
    completly working as it seems that the broken SMTP server implementations
    in question did accept the 'QUIT' command but dropped the connection
    immediately without replying with a positive status code. Now YAM will not
    warn for such unresponded QUIT command sequences and therefore should
    work as expected for those ugly, damn broken SMTP servers like
    'smtp.gmail.com' and/or 'smtp.googlemail.com'.
  * YAM_TR.c: reworked the TR_SendSMTPCmd() and TR_SendPOP3Cmd() functions to
    not use any goto statements and dynamically allocated buffers as that might
    end up in unfreed memory somehow. A static buffer of SIZE_LINE should be
    always enough for the command and its response.

2007-05-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: removed some unnecessary prototypes and made the function
    FreeSearchPatternList() static, because it is not used anywhere outside
    anymore.
  * YAM_FI.c, YAM_CO.c: added new function FreeRuleSearchData() to free the
    search data of a rule node.
  * YAM_CO.c: removed some unnecessary prototypes.

2007-05-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: added an ugly, but necessary workaround for broken SMTP server
    implementations like the one used by "smtp.gmail.com". It seems, that these
    stupid implemenations clearly violate RFC 2821 section 4.1.1.10 by directly
    dropping a connection right after the mail was successfully send via the
    'DATA' command. Normally, an SMTP server must wait until the client terminates
    the connection with a 'QUIT' command. However, smtp.gmail.com doesn't seem
    to care about the standard which in fact caused YAM to always throw an
    "connection dropped unexpectly" error when trying to send the QUIT command
    string. Now, YAM will check the socket state right before trying to send the
    QUIT command and in case the socket points out that the connection was
    dropped, it will not try to send the QUIT command and exits immediately
    without any error or warning. Again, this is ugly and not what the standard
    (RFC 2821) suggests, but as long as there are stupid developers out there
    not caring about rules, we are forced to introduce such damn workarounds.
    This should clear bug #1711145 and #1709100.
  * YAM_CO.c: minor compilation fix where an unknown MUI attribute creaped into
    the sources.

2007-05-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: changed a malloc()/memcpy() combination to a memdup() call.
  * YAM_COs.c: general clean up of the CO_LoadConfig() function. The variables
    lastFilter, lastFilterID, lastType and lastTypeID *must* not be declared
    static as they will survive a restart and eventually will point to no longer
    allocated memory. On OS4 this will lead to a crash, on OS3 it may eat up
    all free memory. All in all making these variables non-static and moving
    them out of their previous scope fixes bug #1700013.
  * YAM.c, YAM_FI.c, YAM_TR.c: replaced several handcraftet list cleanups by
    calls to RemHead().
  * YAM_CO.c: use the new MIME type list free function.
  * YAM_MI.c: added a new function to free a complete list of MIME types.
  * AttachmentImage.c: all bitmaps are cleared now upon allocation. Maybe this
    fixes some graphical garbage I experienced under AmiKit.
  * MainFolderListtree.c: replaced the DragReport method by NListtree_DropType.
    This makes the folder tree scrollable during dragging again. Unfortunately
    this reveals a bug in NListtree.mcc which will visually accept folder groups
    as valid drop target, although one cannot finally drop a mail there. This
    will be fixed with the next release of NListtree.mcc.

2007-05-01  Jens Langner <Jens.Langner@light-speed.de>

  * ReadWindowStatusBar.c: fixed issue where the size of the font for rendering
    the folder name label in the status bar wasn't respected and therefore mixed
    up the layout of the label.
  * YAM.c: added an extended help page for the NewReadArgs() call. If YAM will
    now be executed from the command-line with a "?" as an option, a more
    informative help page will be presented together with the usual ReadArgs
    template. In addition, a new 'NOCATALOG' option allows to start YAM without
    any catalog translation (in english).
  * YAM_COg.c, YAM_COs.c, YAM_CO.c, AttachmentGroup.c: moved the previously
    hidden "DisplayAllAltPart" config option to the public 'Read' section of
    the configuration and modified AttachmentGroup/Image code to display such
    'artificial' attachments with transparency. In addition, the attachment
    text will now contain an "multipart/alternative" string which will be
    rendered italic to demonstrate the special meaning of that MIME part.
  * YAM_mail_lex.l: adapted the tENDSIGNATURE identifier to also identify the
    end of a signature in case "_" chars are used as a message separator.
  * YAM_mail_lex.l: another minor optimization to the soft-style recognition
    routines in the flex scanner.
  * YAM_FO.c: fixed another issue that were introduced during the last source
    cleanup and here the FO_GetFolderByAttribute() ended up in an endless loop.
  * YAM_MA.c: exchange some conflicting menu shortcuts to get V,X,C free so that
    all main shortcuts in the QuickSearchBar still work as expected. This fixes
    bug #1707243.
  * YAM_mail_lex.l: soft-styled text (*bold*) which were seperated by only one
    space wasn't correctly displayed in the corresponding soft-style. Now the
    mail parser should correctly highlight/soft-style the text by unputtung the
    last character of the previous soft-styled text.
  * Makefile: the flex generated source files will now be compiled without the
    signed/unsigned warning as the auto-generated source code contains one
    reference to such an signess issue which isn't really problematic.
  * YAM_FO.c: fixed folder image (.fimage) loading routine which were broken after
    recent cleanups.

2007-05-01  Thore Böckelmann <tboeckel@gmx.de>

  * InfoBar.c, ReadWindowStatusBar.c: the spam folder icons were not shown due
    to a wrong index check. This fixes bug #1710350.

2007-04-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd: added a title and more descriptive explaination for the "zombie files"
    warning requester.
  * YAM_CO.c: changed the default shot header configuration to also show the
    carbon copy (Cc) and blind carbon copy (Bcc) recipient addresses.
  * YAM_FI.c: fixed vertical weight factor so that the find window comes up with
    a minimized folder list group.
  * YAM_RE.c: the new BuildCommandString() function will now replace "%%" with
    a single '%' character to allow to forward a single % char.

2007-04-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, locale/YAM.cd, locale/deutsch.ct: if some zombie files could not be
    deleted upon quitting a requester will now inform the user about that fact.
    Pressing "Ignore" here will silently keep all still existing zombie files.
  * YAM_UT.c: modified DeleteZombieFiles() to not use an additional temporary
    list but just remove the successfully deleted files from the list and keep
    all the others. The filename memory is now freed, too.
  * YAM.c, YAM_UT.c, YAM_RE.c: implemented a list of zombie files. Such files
    emerge if for example an attached picture is shown by MultiView and the read
    window is closed before MultiView released the file. Before these files
    existed until a reboot or until the used deleted them manually. Now YAM will
    try to delete the files every 5 minutes and finally upon shutdown. If a file
    is still locked then it will remain as before. This finally fixes bug
    #1659581.
  * YAM_MA.c, YAM_MI.c: minor code cleanups.
  * YAM_FO.c: code cleanup according to the STYLEGUIDE.
  * YAM_FI.c: put a balancing bar between the upper part and the result list in
    in the find window.
  * YAM_RE.c: reimplemented the MIME command string generation to respect the
    new %p placeholder.
  * YAM_COg.c, locale/YAM.cd, locale/deutsch.ct: MIME command strings now can be
    enriched with %p as a placeholder for YAM's public screen name.
  * ReadWindowStatusBar.c: fixed a possible NULL pointer access.
  * YAM_RE.c: if a memory allocation during RE_DisplayMIME() failed a temporary
    file construct would persist.

2007-04-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_MA.c, YAM.c: added new UpdateReadMailDataStatus() function
    which allows to sync the status of a readmail data object (window) with
    what the current mail contains. This should fix issues where a read window
    ended up with other status images like the main mail list displayed.
  * StatusIconGroup, ReadWindowStatusBar, misc: transformed the previous
    'StatusIconGroup' into a new more general status bar which ís placed right
    below the read window toolbar and which should carry general mail status
    information like the status flags and folder information.
  * ReadMailGroup.c, YAM.cd: the 4 most common header line names
    (From/To/Date/Subject) are now translatable into the local language which
    in fact should make the header display more intuitive and in line what the
    main mail list title displayes as well.

2007-04-27  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentImage.c: drawing the image no longer relies on a successful
    drawing of the super class, as this seems to be handled differently in MUI
    3.8 and MUI 3.9. This should fix bug #1708557.
  * YAM_main.h, YAM_utilities.h: removed some orphaned prototypes.

2007-04-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: an end of a signature will now be recognized by a dashed
    line rather than by searching for a "\nFrom :" sequence which isn't always
    present in a message digest.
  * YAM_COg.c, YAM_COs., YAM_CO.c: the POP3 server list is now dragsortable
    again so that entries can also be sorted via a drag&drop operation. In
    addition, the arrow buttons are now layouted a bit closer to eachother
    to save space. Also a new POP3 server entry does now show a default
    account name to make it less probable that users generate an empty
    POP3 server in the list by accident.

2007-04-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COg.c, YAM_COs.c: changed the POP3 account list to an NList
    class object and added an up and down button below the list. This makes it
    possible to reorder the POP3 accounts.

2007-04-23  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: fixed another possible NULL pointer access.
  * YAM_CO.c, YAM_COs.c: fixed two possible NULL pointer accesses.

2007-04-23  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ThemeListGroup.c, themes: commit the first new default theme
    directory and file layout including a new added Update() method for the
    upcoming ThemeListGroup and it's corresponding theme integration.
  * YAM_mail_lex.l: the colored citing of quoted mails wasn't working when the
    message parser was in signature mode. This caused problems with messages
    where the actual main message didn't stop right after the signature. In
    fact, digest messages from mailing lists are known to just concatenate
    mails without using MIME mechanisms. Therefore we can't assume that
    everything following the "-- " signature is really just part of the
    signature. Therefore, a found "\nFrom: " string will now automatically
    reset the signature state and display further text as normal text. This,
    of course doesn't catch all such cases, but in the end it is partly a
    fault of the mailing list server just plainly concatenating emails without
    using MIME.

2007-04-22  Thore Böckelmann <tboeckel@gmx.de>

  * StatusIconGroup.c: the status icon group in the read window is now at least
    50 pixels wide, which should be enough for most mails with 3 icons at most.
    More icons and a wider group are possible, of course, but the refresh will
    lead to a refresh of the whole window which in sequence may result in a
    slight "flicker" on slower machines. This fixed bug #1702542.
  * YAM_RE.c: added a range of more invalid characters in an AmigaDOS filename.

2007-04-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd: changed the default toolbar hotkey definitions to not interfere
    with others anymore and that the hotkeys for the Spam/NotSpam toolbar
    items are the same for the read and main window. This fixed bug #1704213
  * YAM_RE.c: fixed the RE_Export() function which was broken due to recent
    cleanups. In fact, an '==' check ended up in a "!=" expression which
    caused that if a MIME part was tried to be saved always a overwrite
    warning was immediately popped up instead of suggesting the correct
    filename. In addition, the RE_SuggestName() function now proposes
    filenames until the passed length limit which in fact allows now to
    suggest filenames up to the internal 107 char limit. Lets see how
    filesystems play with that new raised limit.

2007-04-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: the autosave file have to be renamed in case the found file was
    created by another write window number than the one we opened for editing
    the autosaved message.
  * YAM.c, YAM_WR.c, YAM_write.h: changed the WR_AutoSaveFile() function to
    not store the file in a static buffer but take a destination buffer as
    a seperate argument. This e.g. caused problems in the automatic autosave
    file deletion in YAM.c where the function had to be used twice because
    WR_NewMail() was also calling this function and therefore overwrote
    a pointer that was previously obtained. Now the API should be less
    error prone, reentrant and more intuitive.

2007-04-19  Thore Böckelmann <tboeckel@gmx.de>

  * BayesFilter.c: added some more security checks while reading the training
    data. If something fails the training data will be reset.
  * BayesFilter.c: updated the source according to the latest changes in
    ThunderBird 2.0.0.0. Basically this means that some more size checks are
    done while reading in the training data.
  * YAM_RE.c: cleaned up several functions.
  * YAM_MA.c, YAM_RE.c, YAM_UT.c: changed several static buffers to "normal"
    local buffers.
  * MainMailList.c: changed the context menu title to be a member of the class
    instead of a static buffer within a function.
  * QuickSearchBar.c: no static text buffer is needed, because the text will be
    copied by MUI.
  * YAM.c: deleting an old autosave file now uses the already obtained file
    name from the testing stage.

2007-04-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: the autosaved file wasn't automatically deleted in case it was put
    on hold in the outgoing folder.
  * YAM.c, YAM.cd: switched the default buttons of the autosaved requester to
    put the mail on hold per default. In addition, the buttons should contain
    short enough text to make the requester not too large.
  * MainMailListGroup.c: a doubleclick on a mail that is currently in the
    outgoing folder should have always opened the write window instead no matter
    if the embedded read pane is enabled or not. Now it is and this fixes
    bug #1702674.
  * YAM.cd, deutsch.ct: changed the keyboard shortcuts of the mutual exclusive
    toolbar item strings for the "Spam" and "Not Spam" buttons to the very same
    as it makes perfectly sense to be able to quickly switch between both
    statuses with the same hotkey. Other translations should definitly act the
    same way.

2007-04-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: if an old autosave file is found upon startup the user now has the
    possibility to just create a new mail with this text in the outgoing folder
    which is set to HOLD. All other already known possibilities (edit, delete,
    ignore) are still available. The new mail will get an default receiver and
    subject, because the autosave file just contains the message text.
  * Searchwindow.c: the MUIM_Searchwindow_Search method now gets some flags
    passed instead of a single boolean value. This flag value is used to specify
    whether to search from the beginning of the text and wether to beep if the
    search failed. A failed first search now only displays a requester, while
    a failed continued search produces a DisplayBeep(). This fulfills change
    request #1681866.

2007-04-17  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/memdup.c: added minor NULL pointer check in case the source
    pointer is NULL.
  * YAM_WR.c: the issues with the BuildPartsList() functions weren't all
    completly fixed according to the way the function was operating prior to
    the cleanup that broke some functionality in it. Now also the WhichEncoding()
    function call gets the correct arguments. In addition, the function should
    now correctly fail in case a new part couldn't be created.

2007-04-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: building a message with more than one part (i.e. attachments)
    screwed up the order of the single parts (the attachment was the first part
    instead of the last).
  * YAM_AB.c, YAM_FI.c, YAM_MA.c, YAM_US.c, Addrmatchlist.c: replaced custom
    clone code of structures by a call to AllocCopy().
  * YAM_UT.c, extrasrc.c: renamed function AllocCopy() to memdup and moved it to
    a separate file in extrasrc/.
  * misc: changed all occurences of AllocCopy() to memdup().
  * memdup.c: added missing include of stdlib.h

2007-04-17  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes in YAM.cd.

2007-04-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: mails with main MIME parts that are base64 encoded and contain
    non-base64 decoded text as well did raise a warning in YAM, but didn't show
    at least the text that was successfully decoded. Now the base64decode()
    function always returns a negative counter in case an error/problem occurs
    and it is up to the caller to correctly handle that.
  * AttachmentImage.c: fixed broken build for MOS/OS3, due to a missing struct
    Layer declaration.

2007-04-16  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_FI.c: encapsulated the whole filter list cleanup stuff into a
    new function.
  * YAM_CO.c: upon deleting a filter the rules never got freed and hence created
    some memory leaks.
  * YAM_FI.c: made FreeFilterNode() public instead of static.
  * AttachmentImage.c: moved the check if YAM is running on the WB to the top to
    avoid some unnecessary overhead.
  * YAM_RE.c: fixed another possible NULL pointer access.
  * YAM_FI.c, YAM_UT.c: fixed even more possible NULL pointer accesses.
  * YAM_WR.c, ReadMailGroup.c: fixed even more possible NULL pointer accesses.
  * YAM_WR.c: BCC addresses are now added to the address cache, too.
  * YAM_WR.c: cleaned up most functions.

2007-04-15  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentImage.c: in case YAM was running on the Workbench screen and an
    attachment icon from an opened read window was dragged to a write window's
    attachment list a DisplayBeep() was always issued because workbench.library
    was most probably not able to detect one of its own objects (drawer, icon,
    etc) at the dropping coordinates. Now YAM checks if an open write window is
    the frontmost one at the dropping coordinates. This fixes bug #1695750.
  * YAM_FI.c: added additional checks to each access to the filter rule list.
    Creating a new filter now also fails if the first rule cannot be created as
    this one is always expected to exist.
  * MainMailList.c: a completely new mail can now be marked as "read", too.
  * YAM_EA.c: the help text is now set again if the user image changes, because
    the old object has been deleted before.
  * YAM_RE.c: cleaned up the photo related stuff a bit.

2007-04-14  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes,
    and some small translation fixes.

2007-04-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: fixed bug #1699625 where the signature color wasn't properly
    terminated and may have caused that upon deleting the whole text of a mail
    with signature, the color still remained colored passages with no chance of
    deactivating the color.

2007-04-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: renamed the new startup sempahore to "YAM_Startup" and used strlcpy()
    instead of the plain strcpy() for copying the semaphore name.
  * YAM_COg.c: finally fixed the strange issue with a screwed up cycle gadget on
    m68k-amigaos targets in the new Look&Feel page and removed the previously
    added dummy array to work around the problem. It seems that an unused array
    definition in the "Misc" config page generation code overwrote the newly
    generated text arrayes for the cycle gadgets. Somehow that bug only manifested
    itself on the m68k-amigaos target with the GCC 2.95.3 compiler suite. This
    should fix bug #1688165.

2007-04-12  Thore Böckelmann <tboeckel@gmx.de>

  * UserImage.c: replaced the image loading by the functions provided by the
    image cache. This also speeds up image access, because the user images will
    be handled by the cache now, too.
  * YAM_WR.c: fixed further possible NULL pointer accesses and free() calls for
    possible NULL pointers.
  * YAM_RE.c, YAM_WR.c: some functions didn't check the result of OpenTempFile()
    and could access a NULL pointer later.
  * YAM.c: the Abort() function now takes a translated string as first parameter
    instead of translating the error message itself. This is far more intuitive.
  * YAM.c, YAM_UT.c: moved the semaphore stuff to YAM.c as this is the only
    place where these functions will be used.
  * YAM.c, locale/YAM.cd, locale/deutsch.ct: a public semaphore is now used to
    single thread the creation of the basic application object. Running YAM
    twice with next to no delay inbetween could cause crashes if the second
    instance was created while the first instance has not yet been completely
    created. This seems to be an MUI internal bug. All in all the usage of the
    semaphore fixes bug #1698275.
  * YAM_UT.c: added a 4 new functions to handle public semaphores.
  * YAM_MA.c: cleaned up MA_AppendRcpt().
  * YAM_UT.c: added "<" and ">" to the list of invalid chars for real names
    which must be surrounded by quotes. This fixes bug #1697643.
  * extrasrc.h: added missing include for sys/types.h. Otherwise some compilers
    might complain about a missing definition for size_t.
  * YAM_COg.c: added a dummy variable to the look&feel page initialization to
    work around a possible bug in the gcc 2.95.3 cross compiler for OS3.
  * WriteAttachmentList.c: cleaned up drag&drop code a little bit.
  * AttachmentImage.c: cleaned up icon generation a little bit.
  * YAM_MA.c, YAM_UT.c: SafeOpenWindow() now does a DisplayBeep() itself if
    opening the window fails or a NULL object is supplied.
  * YAM_FI.c: pimped the source according to the STYLEGUIDE and fixed several
    missing malloc()/calloc() checks.
  * YAM_US.c: replaced some static buffer sizes by sizeof() representation.
  * misc: several functions did not check the result of a malloc() or calloc()
    call.

2007-04-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_MAf.c, YAM_TR.c: several functions didn't respect that adding
    a mail to a list might fail and then possibly accessed a NULL pointer. Also
    made sure that the result of all malloc(), calloc() and realloc() calls is
    handled correctly to avoid NULL pointer accesses.
  * YAM_MAf.c: the function MA_DetectUUE() did not check for a successful
    memory allocation and hence could access a NULL pointer in a low memory
    situation.

2007-04-08  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes in YAM.cd.

2007-04-06  Jens Langner <Jens.Langner@light-speed.de>

  * ThemeListGroup.c, YAM_COg.c: moved the themes relevant GUI generation code
    from the Look&Feel page into a seperate custom class so that all themes
    related stuff can now be more easily added there instead.
  * ReadMailGroup.c, YAM_MA.c, YAM_MAf.c: changed the ReadMailGroup_Clear method
    to take a generalized flag instead of a boolean as an argument. This allows
    to specify more option what to keep while clearing the group. In fact, this
    allows to keep the attachment group visible while switching mails as that
    should avoid unnecessary flickering in case the mail switch was just between
    two mails with attachments present.
  * AttachmentGroup.c, AttachmentImage.c: minor cosmetic changes to the sources
    to get them more compliant to the STYLEGUIDE.

2007-04-06  Thore Böckelmann <tboeckel@gmx.de>

  * WriteAttachmentList.c: cleaned up the setup and cleanup methods.
  * Recipientstring.c: cleaned up the setup method.
  * ReadWindow.c: a call to AddMailToList() might return NULL, but this was not
    handled correctly.
  * misc classes: fixed all other subclasses which make use of MUIM_Setup and
    MUIM_Cleanup to do their own work only if the setup of the super class
    succeeded.
  * ConfigPageList.c: the super class' destructor was not called upon
    OM_DISPOSE.
  * Addrmatchlist.c: the OM_DISPOSE method was not overloaded although the
    OM_NEW method added an event handler which has to be removed again when the
    object gets disposed.

2007-04-04  Thore Böckelmann <tboeckel@gmx.de>

  * AttachmentGroup.c, ImageArea.c: changed MUIM_Setup and MUIM_Cleanup methods
    to do their own work in the correct sequence.
  * misc: changed several invocations of the MUIM_Group_InitChange method to
    check the return value before continuing.
  * YAM_MAf.c: changed the "jump to new message" behaviour so that the jump is
    only tried if the folder contains new or unread messages. This makes it
    possible to use the "jump to new message" and "jump to recent message"
    options in parallel.

2007-04-03  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: fixed some non-consistent namings.
  * locale/YAM.cd, locale/deutsch.ct: changed the name of the option "mark spam
    mails as read" to "mark new spam mails as read", because this setting only
    applies to newly received and automatically classified spam mails. This
    should make things a little bit more clear.

2007-04-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: cleaned up many functions according to the STYLEGUIDE.
  * YAM_RE.c: cleaned up the function RE_GetThread() and fixed a wrong jump out
    of the function if getting the index of a folder was successful.
  * YAM_COs.c, locale/YAM.cd, locale/deutsch.ct: if the option "mark spam mails
    as read" is enabled but less than 100 mails have been classified yet a
    requester will now ask the user if this is really intended.
  * locale/deutsch.ct: updated to latest changes in YAM.cd.
  * HashTable.c: Beautyfied some functions, too.
  * BayesFilter.c: a wrong check in tokenizerGet() may have caused "suboptimal"
    spam recognition. Also beautyfied some functions a little bit.
  * ImageCache.c: added the DTA_SourceType tag to the NewDTObject() call
    to work around a bug in datatypes.library 52.2.
  * YAM_UT.c: fixed a possible random pointer access in the SWSSearch()
    function which could happen in a low memory situation.

2007-04-01  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: french translation update according to latest changes.

2007-04-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: the color requesting poppen objects will now be disabled in case
    the 'Use Textstyles' checkbox is turned off.

2007-03-31  Jens Langner <Jens.Langner@light-speed.de>

  * classes/InfoBar.c: more changes to the HorizDisappear levels to get rid of
    the nasty "crash-on-resize" bug with MUI 3.8.
  * YAM_mail_lex.l: fixed problem where consecutive mail parts were also shown
    in the special signature color. Now the signature state will be reset as
    soon as a new inline part will be identified.
  * YAM.c, YAM_TR.c, YAM_global.c: with Genesis (TCP/IP) running, a user wasn't
    able to override the automatically choosen username via the USER command-
    line or tooltype. In addition, the whole specific Genesis/Miami parts only
    made any sense on OS3/MorphOS and will now not be included in AmigaOS4 builds
    anymore, as there only exists RoadShow as TCP/IP stack.
  * YAM_RE.c, YAM_mail_lex.l, YAM_COg.c, misc: added possibility to specify
    a separate text color for displaying the signature of a mail. This color
    should be considered a kind of a 'ghosted' color which should display
    the signature in a lightly 'hided' way. Therefore, we default the color
    to the Shadow pen of MUI. However, the user might perfectly specify his
    own color for displaying a signature. In addition, the whole signature
    highlighting is now done via our flex-based mail parser instead of
    relying on our old parsing routines in ReadInMessage().
  * YAM_CO.c: fixed bug #1691714 where some elements of the new Look&Feel
    configuration page were not properly respected.

2007-03-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_UT.c, YAM_MA.c, YAM_COg.c, misc: removed the general
    possibility to specify an own quoting character string that contains the
    initials of the user. In addition, all corresponding GUI elements in the
    YAM configuration are also removed. Please note, that this might seem to
    be a large step backward for some users on a first look. However, we do
    feel that conforming to RFCs and netiquettes is much more important for
    the exchangeability of emails. Therefore, please have a look at the
    following FAQ item which should explain the reasonings behind dropping
    that functionality (http://faq.yam.ch/2_33_en.html).
  * MailTextEdit.c, ReadMailGroup.c, YAM.h: moved the texteditor colormap
    definition into the instance data of the MailTextEdit class. This should
    be somewhat more correct.
  * YAM_RE.c: on mails with more than one occurrance of the common signature
    seperator "-- \n", only the last one was choosen as the point where the
    text will be stripped. This was not only time consuming, but also not in
    line what other mailers out there do. In fact, the *first* occurance of
    the seperator should be used to strip all further text. YAM should now
    also react like that and correctly stip at the first position where such
    a seperator is found.

2007-03-30  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: enabling or disabling the embedded read pane didn't show/hide it
    in the main window any more, because the wrong config page was assumed to
    be visited. Now the Look&Feel page is assumed instead of the Read page. This
    fixes bug #1690509.

2007-03-29  Jens Langner <Jens.Langner@light-speed.de>

  * InfoBar.c: minor optimizations to the MUIA_HorizDisppear levels to
    let some GUI elements automatically disappear if the width of the window
    will be too small. Now more space should be used and more equally divided
    to all existing text/gadget elements.
  * YAM_TR.c: reworked the TR_DownloadURL() function to be somewhat more
    compatible to the official HTTP/1.1 RFC 2616. In addition, due to
    security reasons the HTTP request doesn't contain any "From:" header
    line information anymore. This should fix bug #1688194.
  * YAM_UT.c, YAM_RE.c: moved the new GetReadMailData() function to YAM_RE.c
    as that's where all the ReadMailData stuff belongs.

2007-03-29  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: fixed a typo
  * ReadWindow.c: switching to the next/previous mail didn't work if the only
    unread mails were in the same folder, but in the opposite direction of the
    switch.
  * YAM_MA.c, ReadWindow.c: enabled the NEW and FORWARD buttons/menus again even
    if the current folder is the spam folder or the mail is spam.
  * YAM_TR.c: cleaned up TR_DownloadURL() function to be a *lot* more readable.

2007-03-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.cd, deutsch.ct, MainMailListTree.c: changed the "Reload tree" to a
    more appropriate "Reload arrangement" which should be more intuitive.

2007-03-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: the delayed status change of a mail from unread to read now also
    updates the status icons in the opened read window.
  * YAM_UT.c: added the new function GetReadMailData() to obtain the struct
    ReadMailData of a given mail.
  * MainMailList.c: the context menu creation now respects the current mail
    state and disables some items accordingly.
  * ReadWindow.c: the list of items in a MUIM_MultiSet invocation must be
    terminated with NULL instead of TAG_DONE.
  * YAM_US.c, locale/YAM.cd, locale/deutsch.ct: cleaned up the whole source
    according to the STYLEGUIDE. Now, if a user name is specified at startup but
    not configured in YAM, an error requester will be shown, instead of exiting
    silently.
  * icons/misc: replaced some icons which mpega.library wrongly recognized as
    valid MPEG streams by resaved images. This is just a workround for a bug in
    mpega.library, because any other image file might produce the same
    collision.
  * YAM_US.c: the bottom group in the user setup window was a column group for
    3 items, but only 2 buttons are available (add and delete).
  * YAM_MA.c: marking a non-spam mail in the spam folder as spam again now does
    not try to move the mail to the spam folder any more and hence does not try
    to close an open read window.
  * ImageCache.c: modified some functions to pass only the node pointer around
    instead of the DT object.
  * ReadMailGroup.c, ReadWindow.c: changing the spam state of a mail now also
    correctly updates the status icons.
  * StatusIconGroup.c: renamed the method StatusIconRefresh to UpdateStatusIcons
    to be consistent with other classes.
  * locale/deutsch.ct: updated to latest changes in YAM.cd.

2007-03-27  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c, YAM.cd: added a new error requester that will popup in case
    an image can't be loaded via datatypes.library. This should catch the case
    where YAM simply exited without any notice if the wrong datatype tried to
    load and image and failed. Now a user will be adviced to check that the
    image properly displays in multiview first.

2007-03-27  Thore Böckelmann <tboeckel@gmx.de>

  * MainMailList.c, ReadWindow.c: reworked the creation of the "Spam" and "Not
    Spam" buttons in the toolbar as well as all menu items concering the spam
    classification. Now all toolbar buttons and menu items always show the
    correct state and are updated when ever the spam state of a mail changes.
    This fixes bug #1687917.

2007-03-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: minor optimization to the MakeCycle() wrapper function which
    generates a cycle gadget with a specified control char handling.

2007-03-26  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c: changed the debug messages to be a little bit more consistent.
  * InfoBar.c: finally found the bug which caused crashes when the active folder
    was changed during the rescan of another folder. Basically this is a bug in
    MUI which gets only triggered if the available space in a group/window is
    too narrow. As a workaround some labels are allowed to disappear temporarily
    now. At least a rescan of a folder while changing folders now works again on
    a 640x480 screen without any crashes. All in all this fixes bug #1232127.
  * BayesFilter.h: lowered the default spam probability threshold from 95% to
    90% as this is the default value of Thunderbird. Especially with an not yet
    well enough trained spam filter this will lead to good results a little bit
    faster than before.
  * ReadWindow.c: the update of the toolbar's "Spam/No Spam" buttons is now
    exclusively handled by the toolbar itself.
  * YAM_UT.c: upon deleting a users private directory the .spamdata and .uidl
    files are now deleted, too.
  * YAM_CO.c: validating the configuration now restricts the spam probability
    threshold to sensible values (75% to 99%).

2007-03-25  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: added NULL pointer check before updating the mail state to "read".
  * ReadWindowToolbar.c: for virtual mails both "Spam" and "no Spam" buttons
    were shown, although only "Spam" really makes sense, and that one must be
    disabled.
  * locale/deutsch.ct: updated to latest changes in YAM.cd.
  * misc classes: some code clean up.
  * ImageCache.c: reworked the image handling in such a way that changing the
    screen depth no longer causes crashes because of access to a no longer
    opened screen.

2007-03-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM.cd: minor GUI element restructuring and cleanup of orphaned
    catalog messages.
  * YAM_COg.c, YAM_COs.c, MainMailList.c, misc: added a new config option
    to show relative date outputs in the main mail list and activated it
    per default. Now the date of mails will be shown relative to the
    current day. E.g. the date will be substituted with "Today", "Yesterday"
    and so on, instead of showing always the absolute datetime. Please note
    that this functionality fully relies on the DateToStr() function in
    dos.library and that this weekday substitution is 'just' done via setting
    the DTF_SUBST flag.

2007-03-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, misc: added a new "Look&Feel" configuration page which will
    host our new upcoming "Theme" functionality as well as should carry all
    Look&Feel relevant configuration setups which were previously placed in
    certain other areas of the configuration GUI. Please note, that this
    new config page currently has no own config icon, but will get an own
    one as soon as he have a complete new default theme for YAM.
  * YAM_COg.c, YAM_CO.c, YAM_COs.c, misc: did some general GUI layout cleanup
    of the YAM configuration window. The structure of certain items in the
    configuration window should now be somewhat more clean and according to
    styleguides, especially in the TCP/IP configuration.
  * Makefile: moved YAM_global.o and YAM.o back to the top of the compile/link
    priority list because otherwise tools like C:Version might take quite long
    for search for version information in the YAM binary.
  * Makefile: added $(DEBUGSYM) variable for overriding the debug symbol
    option during execution of make. In addition, the linker will now also
    use "-g" so that m68k debug builds contain all necessary debugging
    symbols for GccFindHit to work properly.

2007-03-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: after disabling the spam filter all other spam filter related
    config items are set to their default value to ensure the default behaviour
    if the filter is reactivated again.
  * Makefile: moved the custom classes to the top to let them be compiled at
    first. Changing something in these classes usually causes all YAM#?.c to be
    recompiled, but if the class source still contains some typos this now
    shows up immediately.
  * BayesFilter.c: lowered the default spam probability threshold from 99% to
    95% to catch a little bit more spam, which currently just slips through.
    Also extended the debug output while classifying the mail a bit.

2007-03-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: we make sure that if an xpkmaster.library is found that its
    version isn't lower than v5.0 or we skip the initialization of the
    xpk packer list. This should prevent issues for people using very old
    builds of XPK which may cause serve problems.

2007-03-23  Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: fixed wrong final output of debug classes and flags.
  * HashTable.c: corrected debug output to use the correct debug class.
  * BayesFilter.c: fixed a bad bug which could prevent YAM from recognizing
    spam mails correctly.

2007-03-22  Thore Böckelmann <tboeckel@gmx.de>

  * Recipientstring.c, AddrBookToolbar.c, YAM_EA.c: some code cleanups
  * YAM_MA.c: Added a check to the RE_ProcessMDN() to distinguish between one
    single selected mail and multiple mails correctly. This fixes bug #1683936.
  * MainWindowToolbar.c: a disabled spam filter had the "Spam" button always
    visible.
  * YAM_COs.c: enabling/disabling the spam filter now correctly updates the
    toolbar.
  * YAM_MA.c: after classifying a mail as either spam or no spam the main
    window toolbar is now updated correctly to reflect the new state of the
    mail.
  * YAM_FO.c: cleaned up some functions.

2007-03-21  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, MainWindowToolbar.c: the handling of the "Spam" and "no Spam"
    buttons is now completely handled by the tool bar itself.

2007-03-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_TR.c: in case the incoming folder was empty previously to
    a new mail download, the filter button of the main toolbar was never be
    activated even if mail was downloaded. Now we also update the main toolbar
    after a mail download and activate the filter button if any mail in the
    corresponding mail folder was found. This fixes bug #1684304.

2007-03-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: minor twirks to the latest changes of Thore - we just update the
    stats of the trash folder in case the mail wasn't immediately deleted.

2007-03-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: when deleting a mail from the spam folder the statistics of the
    spam were never updated. This is fixed now.

2007-03-19  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update according to the latest changes, and some
    minor corrections.

2007-03-19  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: deleting a non-spam mail from the spam folder no longer deletes
    the mail immediately, but moves it to the trash folder instead.

2007-03-17  Jens Langner <Jens.Langner@light-speed.de>

  * locale/deutsch.ct: updated to latest changes in YAM.cd and cleaned
    up certain key shortcuts.
  * locale/YAM.cd: general cleanups
  * YAM_RE.c: reworked the HandleMDNReport() function for displaying MDN
    reports localized. In addition "message/#?" content-type parts will now
    be treated as printable parts and therefore shown inline if the
    DisplayAllTexts option is enabled.
  * YAM_RE.c, misc: reworked the message disposition notification handling
    according to RFC 3798 and how Thunderbird deal with those kind of
    return receipts. In addition, the generation and recognition of the
    "Return-Receipt-To" header line was completely dropped as it doesn't
    corresponds to any known RFC and is therefore properitary. It is known
    that there doesn't exist any modern MTA which will react on that header
    line and that only methods of RFC 3798 for requesting a receipt is valid.
    Therefore, the write window now also just contains a generalized
    "Request Receipt" option which in fact will generate the proper MDN
    header files. In addition, new configuration options/setups were added
    to deal with the new functionality added. All in all, the MDN handling
    should now conform to the RFC, which in fact fixed bug #1078160.

2007-03-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, locale/YAM.cd: removed the "|" control characters for the new
    MDN requester buttons. They are better not placed into the catalog or
    translators may forget them by accident and cause YAM to have a totally
    mixed up requester display. In addition, the requester management code
    should also be a bit more robust now.
  * locale/YAM.cd, locale/deutsch.ct: minor corrections

2007-03-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #1679741 where the TR_GetMessageDetails() function
    didn't pass just the filename to the examining mail function and therefore
    caused the transfer preselection window to not display the sender and
    subject information.
  * Makefile: we use -mcpu=powerpc instead of directly specifying the minimal
    PPC model. This should make the binary safely run on all PowerPC models
    instead of forcing it to a specific model.
  * YAM.c: fixed a bug in the timezone.library usage where we didn't use the
    right datatype for the DST querying variable.

2007-03-13  Thore Böckelmann <tboeckel@gmx.de>

  * deutsch.ct: fixed some "denglish" translations.
  * YAM_MA.c, YAM_MAf.c, YAM_CO.c, YAM_COs.c: added "jump to recent message" as
    a hidden option in the "Advanced" section of the configuration file. If this
    option is enabled YAM will prefer to jump to the most recent mail over
    jumping to the last active mail.
  * YAM_UT.c: cleaned up several functions and added the usual ENTER()/LEAVE()
    macro calls.
  * YAM_FO.c: cleaned up folder list generation a bit.
  * ImageCache.c, MainFolderListtree.c: the trash folder icons had still the old
    names ("folder_deleted#?" instead of "folder_trash#?")

2007-03-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, ReadMailGroup.c: the bugfix for bug #1659581 wasn't complete
    because we have to set a new unique ID on each new message loading or
    otherwise the very same ReadMailGroup object may carry on the same
    ID even on switching mails. Now we assign the uniqueID in the
    RE_LoadMessage() function instead which should be much more safe.
  * YAM_UT.c, YAM_TR.c: adapted certain function to use GetUniqueID() and/or
    OpenTempFile() instead of maintaining own temporary filename generation
    code.
  * YAM_WR.c: to be somwhat more correct we use MUII_RegisterBack as the
    MUIA_Frame value of the cursor coordinate background definition of the
    write window.
  * YAM_UT.c: change argument of CreateDirectory() to be a const* so that we
    can make sure that it isn't altered in any way. Also changed the function
    to remove all trailing slashes instead of just the last one.
  * YAM_UT.c: changed the OpenTempFile() to use utility/GetUniqueID() instead
    of trying to generate an own Applictaion-wide unique ID.

2007-03-12  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM.cd: removed the "deny" option from the
    range of possible disposition notifications.
  * YAM_RE.c, YAM.cd: removed the "deny and send now/later" answers from the
    requester asking for a disposition notification. There is absolutely no
    sense in denying such a mail, because the notification is in no way an
    indication that the receiver really read or understood the mail, regardless
    of the answer. Even programs like ThunderBird let a user choose between
    "Accept" and "Cancel" only. This fixes bug #1579194.
  * YAM_WR.c: the text editor's cursor coordinates where displayed in a
    TextObject with text background. But the object has no real frame the text
    background may have another color that the usual group background. Hence the
    coordinates are displayed with a group background.
  * YAM_RE.c, ReadMailGroup.c: added new element "uniqueID" to the ReadMailData
    structure to be able to generate really unique names for temporary files.
    Before the structure pointer was used as a number which resulted in problems
    when a structure was being reused instead of being allocated from scratch.
    This partly fixes bug #1659581. Left over zombie files may still occur if
    a temporary file is still locked by other programs when the read window is
    closed.
  * YAM_MA.c, Recipientstring.c: cleaned up some functions.
  * YAM_FO.c: upon closing the folder window the To, From and ReplyTo addresses
    are resolved before the folder configuration is saved to make sure YAM gets
    a valid address and not just an alias. This fixes bug #642735.
  * ReadWindow.c: switching to the next/previous unread mail now does a second
    loop over all folders. That means if you switch from a mail in the last
    folder to the next unread mail, which is located in the first folder, this
    will work now. Before the search was limited to exactly one direction, which
    could be quite annoying if you knew that there was still unread above but
    you didn't know for sure if there was still unread mail below.
  * YAM_UT.c: creating directories with a trailing slash is documented to fail.
    Now YAM will remove such a slash from paths before trying to create a
    directory. This fixes bug #1678672.

2007-03-11  Thore Böckelmann <tboeckel@gmx.de>

  * Debug.c: clearing one of the debug flags was never possible, because YAM
    checked for the "!" at the wrong index (1 instead of 0).
  * YAM_UT.c: cleaned up some functions.
  * YAM_COs.c: deleting an old spam folder when the spam filter is disabled is
    now possible. The check for an existing folder named "spam" when enabling
    the spam filter has been enhanced. An old folder of type SPAM without having
    the spam filter active is now converted to a "normal" folder on the fly. All
    in all this fixes bug #1675718.
  * YAM_FO.c: added new function FO_GetFolderByPath() to search for a folder
    by path name.

2007-03-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version for TextEditor.mcc to 15.21 as this
    is the latest stable version available right now.

2007-03-07  Thore Böckelmann <tboeckel@gmx.de>

  * ReadWindow.c: outgoing, trash und spam folders are now ignored when looking
    for yet unread mail. Although, jumping from one unread mail to another
    within these folders still works. That way a user is not bothered with
    unread mails he/she doesn't want to read anyway.

2007-03-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum required version for TheBar.mcc and BetterString.mcc
    to the latest versions available.

2007-03-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c, YAM_RE.c, YAM_WR.c, YAM_UT.c: cleaned up several functions to
    conform to the style guide.
  * YAM_COs.c: when creating the spam folder for the first time the user's mail
    directory path was added once too much if it was a relative path instead of
    an absolute path. This fixes bug #1672378.
  * YAM_main.h: the setStatusToQueued() macro now clears the "new" flag of a
    message. That way automatically generated disposition notifications no
    longer show up as "new and unread", but as "old and read".
  * YAM_MA.c: added an additional check for "[]" characters when replying to
    multiple mails which all consist of the same subject. Before YAM always
    appended the subject over and over again without stripping the common
    part. This fixes bug #1672140.

2007-02-27  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c, misc: addressed bug #1617052 by introducing a new toolbar
    caching mechanism. Now all reusable toolbars (Read/Write and Addressbook)
    will be kept cached internally in YAM and the images reused upon
    creation of a TheBar toolbar. This should especially speed up the
    opening of the read and write window. However, it requires the bugfixed
    TheBar.mcc v21.2 version.
  * YAM_WR.c: partly reverted the 'ramiga' change as we can't use real
    menu shortcuts for the copy&paste operations in the write window.
    Otherwise the hotkeys of the string and the texteditor gadget interfere
    each other. So we are now partly back to the 'ramiga' usage so that
    the gadget themself are responsible for catching the key events. This
    should fix bug #1669896.

2007-02-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM.cd: integrated new MUIM_TextEditor_QueryKeyAction usage
    where we now can dynamically set the shotcuts of the
    Copy/Cut/Paste/Undo/SelectAll menu items according to what was set up
    in the TextEditor.mcc configuration. So we finally got rid of the
    "ramiga" abbreviations in the write window menus and show the correct
    shortcuts now.
  * YAM_WR.c, YAM.c: added new "Select All" menu item which allows to select
    the whole text in the texteditor with one single shortcut. This requires
    the latest version of TextEditor.mcc and we therefore bumped the minimum
    required version of it to 15.20.
  * TextEditor_mcc.h: updated the TextEditor.mcc header
    files to the very latest 15.20 version.

2007-02-19  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-01-26  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update according to the latest changes, and some
    minor corrections.

2007-02-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM.cd: relayouted the Spam configuration page and added all
    missing help texts. In addition, all checkboxes and buttons will now be
    automatically disabled in case the spam filter is disabled as well.
  * YAM.cd, deutsch.ct: corrected the "word-wrap" spelling both in the english
    and english catalog.

2007-02-15  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c: added missing default setting for the new "mark spam as read"
    feature. This now defaults to FALSE.
  * YAM_FI.c, YAM_COg.c, YAM_COs.c: added new option to let newly recognized
    spam mails to be marked as read automatically.

2007-02-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c, YAM_RE.c: fixed bug #1659916 where we tried to autodetect a
    cyrillic codeset even on UTF-8 mails. This caused codeset.library to
    return the wrong source codeset and therefore such russian UTF-8 mails
    where incorrectly decoded.

2007-02-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: removed obsolete/unused SetupMenu() function.
  * Recipientstring.c: fixed a compile-time error with < GCC4 compilers, due to
    an incorrect placement of a ENTER() statement.

2007-02-13  Thore Böckelmann <tboeckel@gmx.de>

  * classes/YAM.c: the EMail cache accepted real names containing commas without
    quotes. Entering a special combination of aliases and realnames could end up
    in always resolving the wrong entries and constantly expanding the recipient
    string. This fixes bug #1652957.
  * Recipientstring.c: added the usual ENTER()/RETURN() macros.
  * Addrmatchlist.c: added the usual ENTER()/RETURN() macros.
  * YAM_COg.c, YAM_COs.c: removed the spam threshold slider as it seems to
    confuse most people and has no real application once the spam filter is
    trained well enough. The option itself will remain, but has to be changed
    manually with an text editor.

2007-02-13  Jens Langner <Jens.Langner@light-speed.de>

  * Aboutwindow.c: slight adaptions to how the crawling.mcc object is
    set up so that it always correctly fits into the window.

2007-02-12  Jens Langner <Jens.Langner@light-speed.de>

  * Aboutwindow.c: slightly modernised the about window to use an existing
    Crawling.mcc class for showing/scrolling the about text automatically
    instead of putting it into an NFloattext object for manualy scrolling.
    In addition the list of current developers, contributors and localizers
    will from now on by shown in the about window to motivate people to
    contribute to YAM and see their name popping up in the about window :)
  * YAM.c: the Splash window object will now be immediately disposed when it
    will be closed. This should save some bytes of memory.
  * YAM.c: bumped the minimum required AmigaOS4 kernel version to 52.2 to make
    sure users are using the very latest stable version of the OS4 kernel.
    In addition there are reports that it doesn't run on non v52 kernels anyway.

2007-02-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, misc: reverted the recent transfer window title change from
    Thore as it might be possible that a user has configured more than one
    POP3 account which queries the very same host for new mail. Now the
    account name will be shown instead which is fully user configurable since
    a while.

2007-02-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c, YAM_EA.c: the address book window must be opened in ABM_CONFIG
    mode when the "To:", "From:" or "ReplyTo:" addresses of a folder are about
    to be modified. Otherwise a double click on an entry would modify this
    entry instead of adding it the the recipent list, because there is no
    opened write window around at this time.

2007-02-03  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: added missing translations and removed obsolete strings.

2007-01-30  Jens Langner <Jens.Langner@light-speed.de>

  * MainMailList.c: fixed bug #1647788 where we did use the wrong description
    for one of the Select submenu items.

2007-01-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #1646457 where upon an SSL connection failure the
    necessary cleanups wasn't done in TR_ProcessSEND(). This also caused
    the mail transfer window to be kept open and undisposed.

2007-01-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c: fixed a signedness warning
  * misc: fixed several strlcpy(), AddPart() and NameFromLock() calls to use
    sizeof() instead of a constant.
  * YAM_CO.c: fixed another strlcpy() to copy one more character.

2007-01-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_TR.c: changed the transfer window title and the busy bar back to display
    the current host name instead of the account name.
  * YAM.c: added a SHOWSTRING() call to CheckMCC() to display the name of the
    MCC being checked in the log. This might help tracking down bugs in certain
    classes if creating an object of this class may fail.
  * YAM_CO.c: when no user name was entered after creating a new account the
    automatically created user name from the default EMail address was one char
    too short (example: default EMail: "user@host", user name: "use").

2007-01-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: the TR_Connect() function wasn't correctly advancing to an eventually
    alternate IP-address and always failed for an alias IP. Now there will always
    be a new socket() call for each IP alias. In addition the loop can now be
    somewhat aborted between two connection tries.
  * YAM_TR.c: reworked all TLS/SSL routines to be somewhat more nice to
    eventually error states of the SSL functions. Now the SSL context should
    be more properly cleaned up than before.
  * YAM_WR.c: it is now possible to enable/disable the automatic word wrapping
    functionality from the menu of the correspoding write window.
  * Searchwindow.c, ReadWindow.c: it is now possible to search in the displayed
    text of a read window by using newly added "Search" and "Search again"
    menu items. In addition the context menu of a readmailgroup also allows to
    search in a read pane as well now.
  * YAM.c: bumped required codesets.library version to 6.3

2007-01-26  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update to the latest changes

2007-01-25  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-01-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c: added missing TAG_DONE to GetTimezoneAttrs() call.

2007-01-23  Thore Böckelmann <tboeckel@gmx.de>

  * Makefile: added an additional check for uname reporting "ppc" instead of
    "powerpc" as machine name for OS4 (uname (coreutils) 5.2.1-9).

2007-01-22  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile.#?: removed all explicit target specific makefiles and replaced them
    with a single, more intelligent 'Makefile' which can be executed with a
    simple GNU 'make' call. The new top Makefile contains various HOST and TARGET
    operating system idenification routines done via the 'uname' tool.
    According to the output of uname, the makefile automatically sets the correct
    build environment based on the host operating system where YAM is being
    compiled on and for. However, for explicitly compiling for a specific OS,
    the new makefile still allows to override not only all options like 'DEBUG',
    but also the target OS via 'make OS=os3'. So we can still very easily compile
    for all supported operating systems with a simple 'make' call.

2007-01-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: also fixed a GetVar() call and did some code cleanup.
  * YAM.c, YAM_MA.c, YAM_CO.c: changed some more calls to GetVar() to use
    sizeof() instead of numeric constants as size argument.
  * YAM_MA.c: increased the size of the status part of a mail file to be able
    to keep all possible mail flags. Normally this should never happen, because
    one mail can never be read and new at the same time, but just to be on the
    safe side...
  * YAM_MA.c YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_TR.c, locale/YAM.cd: made the
    name of each mail account user definable. This account name will be used for
    the account menu entries and the transfer window title. Before it was fixed
    to user@host, which was quite unsatisfying with GMX where this resulted in
    something like "123456@pop.gmx.de" instead of "user@gmx.de". Now this is
    more consistent to Thunderbird's behaviour.
  * YAM.c: all GetVar() calls now use sizeof(buffer) as size parameter instead
    of a fixed number. This will automatically prevent any buffer overflow if
    the size of buffer[] should be changed any day.

2007-01-21  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update to the latest changes

2007-01-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: added support for daylight saving querying via the AmigaOS4
    timezone.library. Now the DST setting is queried via timezone.library
    instead of obtaining it via various environment variables. However, for
    an automatic notification of a DST change while YAM is running, the
    ENV:TZONE variable will still be evaluated until timezone.library
    allows to register notifications.
  * C_c.sd: added some more detailed debug output on loading up the catalog
    file.
  * locale/deutsch.ct: fixed all '...' postfixes according to warning messages
    from FlexCat 2.7
  * YAM.c: added an .mcc check for TheButton.mcc as well.
  * Makefile.os4: reverted the date->gdate change from David as it breaks the
    automatic compilation on our nightly build server. So please keep your
    hands off if you are unsure what you are doing. And if you want to have
    'gdate' executed instead of 'date' simply call the makefile like this:
    "make -f Makefile.os4 DATE=gdate". That's how it is supposed to be
    until we have a better build environment with automatic recognition
    of the host system.

2007-01-21  David Rey <tactica@users.sourceforge.net>

  * Makefile.os4: now uses the "gdate" command instead of "date" to work with
    the current coreutils release and stop getting confused with the original
    C:Date command.

2007-01-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_stringsizes.h, misc: added a new source-wide SIZE_FILEBUF define which
    will be used by the newly introduced setvbuf() calls to dynamically increase
    the used buffer for all our fopen()/fread()/fwrite() operations. It now
    defaults to 65k and should hopefully speed up some operations. Please note
    that any new fopen() use should be from now on evaluated if a buffer
    increase via setvbuf() would be of any use.
  * YAM.c: bumped minimum required version of TheBar.mcc to v21.1 as that is
    what YAM requires now.
  * misc: adapted all TheBar relevant code passages to make use of the new v21
    version of TheBar, including their new KeyQualifier functionality. Now
    the key qualifier management code should be active and working again.
  * ReadWindow.c: fixed a possible crash bug where we forgot to check if
    the mail in question is a real mail or a virtual one.

2007-01-13  Jens Langner <Jens.Langner@light-speed.de>

  * C_c.sd, C_h.sd, misc: renamed our locale translation function from "GetStr()"
    to "tr()" which is not only much shorter, but also somewhat more intuitive.
  * YAM.cd, misc: got rid of all catalog string using the more or less hackish
    "\000" NUL-termination sequence to make it possible to override certain
    menu hotkeys directly in the catalog translation. First of all that method
    might cause problems on incorrectly translated catalogs, second YAM should
    come with the very same hotkeys on all languages and last but not least
    by removing that "hack" we make it possible to eventually make those
    hotkeys user configurable in a future version.
  * YAM_MA.c, ReadWindow.c: synced the read window's menu items with what the
    main YAM window provides in sense of modifying the mail status. Now the
    read window menu should in fact be somewhat the same like the main window
    menu in terms of message options including the keyboard hotkeys.

2007-01-13  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes.

2007-01-12  Jens Langner <Jens.Langner@light-speed.de>

  * ReadWindow.c: slightly modified the Readwindow's Menu to correctly enable
    and disable certain menu items depending on the mail type.
  * YAM_RE.c: fixed a possible crash situation where upon viewing a virtual
    PGP-signed message due to trying to access the folder structure of it.
  * ReadMailGroup.c, AttachmentGroup.c: fixed bug #1633776 where a crash could
    have been triggered when selecting the context-menu's "Save All" entry
    of the Attachment submenu. Now the context-menu entries will be disabled
    properly and the corresponding functions can not do anything harmful anymore.

2007-01-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: according to RFC2015 (section 5), a pgp signed message should add
    "micalg=pgp-md5" instead of "micalc" which we previously did.

2007-01-09  Alexandre Balaban <abalaban@free.fr>

  * doc/YAM_francais.guide: Some minor updates to the french guide.

2007-01-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: in case no user defined MIME type incl. a file extension matches,
    the internal MIME type list will now be scanned as well to find a matching
    file extension for a certain MIME part of a mail. This should also partly
    fix some issues reported in bug #1629670.

2007-01-07  Thore Böckelmann <tboeckel@gmx.de>

  * ReadMailGroup.c: PGP signed mails are now checked first for a valid
    signature and after that the mail state "read" is set. Before these steps
    were swapped and PGP always complained about nonexisting files, because
    the mail file had been renamed in the background if no embedded readpanel
    was enabled and the update was configured to be delayed. This fixes bug
    #1363009.

2007-01-06  Thore Böckelmann <tboeckel@gmx.de>

  * ImageCache.c, ImageCache.h: reworked the reload check to also check the
    screen's depth. Images will now only be reloaded if the screen depth
    change from truecolor to LUT8 or vice versa or if the screen stays a LUT8
    screen. This vastly speeds up deiconification if YAM always runs on a
    truecolor screen.

2007-01-05  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update to the latest changes and minor corrections.

2007-01-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: added more detailed debug output in case a connection couldn't
    be established.
  * YAM_TR.c, YAM_COs.c: updated latest changes to match our STYLEGUIDE.
  * YAM_configFile.h: fixed the missing CO_GetConfig() prototype update to get
    YAM compiled again.

2007-01-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_COg.c, YAM_COs.c, locale/YAM.cd, locale/deutsch.cd: whenever
    a signature has been modified in YAM internal editor and the user switches
    over to another page or just "uses" the current configuration a requester
    now asks the user if the changed signature should either be save immediately
    or if the changes should be discarded. Thus a change to one of the
    signatures doesn't get saved permanently unnoticed or unwanted anymore. This
    fixes bug #1212788.

2007-01-04  Thore Böckelmann <tboeckel@gmx.de>

  * YAM.c, YAM_TR.c: reworked the TR_Connect() function to check if the global
    socket is already in use. This rework also resulted in a clean up, thus now
    TR_Connect() will return a proper error value if something goes wrong. This
    should fix bug #681373, where a second call to TR_Connect() broke a previous
    connection. Also added a missing call of TR_Disconnect() in TR_ProcessSEND()
    in case a secure transmission is not possible and an initialized socket
    might have been left behind.
  * YAM_rexx.c: fixed a possible buffer overflow during parsing of the command
    string.
  * UpdateCheck.c: slightly reworked the update state loading function. Also
    added the missing trace macros.

2007-01-03  Thore Böckelmann <tboeckel@gmx.de>

  * misc: modified the update check in such a way, that the information about
    the last update check are no longer saved to the user's .config file, but to
    a global .updatestate file instead. This makes it possible to modify the
    configuration while doing an update check without making the (temporary)
    modifications permanent by accident. This fixes bug #1568672.
  * YAM_MA.c, YAM_MAf.c: the toolbar and the message menuitems were not updated
    if one jumped to a folder without messages. Even the "New message" item was
    always ghosted then. When jumping between two folders without messages the
    GUI update was never done, because the update through MUI's notifications
    was never triggered since nothing ever changed in the listview. This fixes
    bug #1626700.

2007-01-02  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: added some debug output upon changing the dock icon.
  * YAM_MA.c: deletion of old messages checked the age twice, but didn't take
    the spam folder in account on the first check. This could result in not
    deleting too old spam mails. This should fix bug #1621132.

2007-01-01  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Updated according to changes and some minor fixes.

2007-01-01  Jens Langner <Jens.Langner@light-speed.de>

  * misc: bumped all copyright notices to point to the new year (2007). So
    happy new year everyone and thanks for the tremdenous support either
    by donating some money to our project, but also thanks to those who
    spent valueable time in submitting bug reports. YAM is now already in
    the 7th year of its open source development and since the release of
    the source code by Marcel Beck in 2000, we have not only added great new
    features but also approximately rewritten about 70-75% of the whole sources.
    I think this is one more reason to give everyone a big "cheers!"....

2006-12-31  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: modified GetMailFile() to always return the completely resolved
    path of a file.
  * YAM_MAf.c: modified MA_NewMailFile() to always return the completely resolved
    path of a file.

2006-12-22  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_WR.c: modified the tagline functions to use the read/write functions for
    integer values that have been introduced for the spam filter.
  * MainWindowToolbar.c, ReadWindowToolbar.c: the "not Spam" button is now
    hidden by default and the "Spam" button is disabled by default, because the
    usual toolbar update process will show/hide and enable/disable the correct
    buttons.
  * YAM_UT.c: a call to TransferMailFile() could accidently be handled as
    success even if an error happened. Hence YAM now starts with an error
    condition here which is later turned into a real success/failure code.
  * YAM_UT.c: replaced some XPK error numbers by proper constants.
  * YAM_FO.c: if xpkmaster.library is not available it now no longer possible
    to select compression or encryption for a folder.
  * YAM_COg.c: the XPK popups are disabled now if xpkmaster.library is not
    available.

2006-12-21  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_FI.c, YAM_TR.c, YAM_rexx_rxif.c: added even more NULL pointer
    checks while traversing a list of mails created by MA_CreateFullList() or
    MA_CreateMarkedList(). Also did some more cleanup according to the
    STYLEGUIDE.
  * YAM_COs.c: forgot to check for possible NULL pointers in the list of mails
    returned by MA_CreateFullList().
  * YAM_FI.c, YAM_MAf.c: a password protected folder with a yet unloaded index
    was fully visible without entering a password after a mail has been moved
    to it (e.g. by a filter), because MA_MoveCopy() updated the index. Now the
    old load state before the move is restored and any temporarily granted free
    access is also removed again. This fixes bug #1486781.
  * YAM_UT.c: adapted some functions to the STYLEGUIDE.
  * YAM_TR.c: the NEWMSG macro now also handles the case that the user's mail
    directory is a "virtual" assign like "PROGDIR:" and will now resolve the
    complete real path.
  * YAM_TR.c: the NEWMSG macro is now called with the full path of the new mail
    file instead of just the file name. Thus a script can always access the file
    even if it is located anywhere on the hard disk. This fixes bug #702564,
    although this bug was partly fixed already with the introduction of the %p
    placeholder.

2006-12-20  Jens Langner <Jens.Langner@light-speed.de>

  * MainWindowToolbar.c: removed the BarSpacer now that only one Spam toolbar
    button is shown at a time.
  * YAM.c: bumped the minimum required version of all NList mcc classes to
    make sure the most recent version is used.
  * YAM.c, YAM_UT.c: added somewhat more detailed debugging output to our
    XPK routines to find out why XPK may have failed during init or
    packing/unpacking.
  * locale/YAM.cd, locale/deutsch.ct: adapted all catalog string which are
    used with the automatically wordwrapping ER_NewError() function to not
    use carriage returns on all kind of places. So please every translator
    should note that if a string is used with ER_NewError(), then it should
    not excessivly use \n characters, but only on specific places.

2006-12-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_CO.c, MailMailList.c, ReadWindowToolbar.c: reworked the spam/
    no spam buttons and menu in such a way that you only have one choice at a
    time. That means a "set to spam" button or item will only be available if
    the mail is either not yet classified or definitely not spam. The same
    applies for the "set to not spam" buttons and items. These will only be
    available if the mail has been marked as spam before. All in all this
    behaviour is now fully consistent to Thunderbird. This may seem like a loss,
    because before not yet classified mails could be classified as either spam
    or not spam. But the way the spam filter is intended to work contradicts
    this.

2006-12-19  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: reworked CSV/TAB import again a little bit to handle quoted items
    correctly. Did the same for the export to add quotes whenever the current
    item contains the separating character.

2006-12-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c: change the LDIF import routines to work case insensitive in
    finding its token. This should be more error proof in case the user
    uses LDIF files from other systems not taking care of the case that a
    token depends on its case.
  * YAM_AB.c: adapted latest added sources to comply more to our STYLEGUIDE.
  * YAM_AB.c: fixed some compiler warnings due to limited range of datatypes.
  * YAM_AB.c, extrasrc/vastubs.c: added the missing vastubs which broke the
    compilation for OS3/m68k recently.

2006-12-19  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update to the latest changes and minor corrections.

2006-12-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: extended the LDIF export to handle special characters according
    to RFC 2849.
  * YAM_AB.c: extended the LDIF import to handle base64 and UTF8 encoded
    entries, too. Now there is also an alias created if none is set up during
    the import.

2006-12-17  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_AB.c: added address book import and export functions for raw value lists
    with either commas or TABs as delimiters. Also added basic LDIF address book
    import and export. All these new functions cover the address books as they
    are created by Thunderbird. base64 encoded entries in LDIF files are not
    correctly handled yet! All in all this is just a beginning to handle alien
    address book files. All imported address books will be appended to the
    current address book.
  * YAM.c, YAM_UT.c: added new ASL requester cache types for alien address book
    import and export.

2006-12-17  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c: fixed another bug in the image cache where we didn't
    reload the image files if YAM was put onto another screen. This might
    have caused YAM to display images with incorrect colors.
  * ImageCache.c: fixed a bug in the ObtainImage() cache check which may
    have caused that the very same image file was cached multiple times
    due to filename check that didn't take respect of absolute file
    pathes. This should fix issues with crashes on exit of YAM when
    it had been iconified/uniconfified in between.

2006-12-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed bug #1610171 where it happend that on broken base64
    encoded mails YAM did end up in a buffer overrun which might have
    ended up in a crash.
  * MainFolderListtree.c: fixed bug #1615279 where upon a right click in
    an empty folder listtree area an illegal memory access caused a crash.

2006-12-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_MAf.c: fixed an issue with the busy gauge cancelation
    while index rescanning. Previously the gauge had to be canceled twice
    due to an immediate folder refresh after the aborted index rescan. Now
    the whole GUI items will be disabled and cleared instead.
  * Makefile.aros: added a first simple makefile for trying to get YAM
    natively compiled for AROS one day. :) However, it doesn't compile at
    all yet and more work has to be put into getting YAM ported to AROS.
  * misc: minor debugging relevant changes.

2006-12-14  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: Update to the latest changes.

2006-12-14  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: Small update.

2006-12-11  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: if the spam filter has been disabled but the user chose to keep
    the spam folder it is now converted to a normal folder, which can be deleted
    later.

2006-12-10  Jens Langner <Jens.Langner@light-speed.de>

  * misc: finalized the first working version which uses TheBar.mcc instead
    of the old and obsolete Toolbar.mcc. Now YAM fully uses TheBar.mcc for
    every window toolbar. However, please note that the Key Qualifiers are
    currently not working with TheBar.mcc as a qualifier check is not yet
    implemented in TheBar.mcc. So this is work in progress. In addition,
    the new Toolbar classes currently still use the PROGDIR:Icons directory
    whereas that will soonish change. So you have been warned!
  * locale/YAM.cd: rephrased some text passages and added hotkey shortcuts
    to the recently added requester buttons.
  * YAM_WR.c: added the missing "Search" menu item and changed the shortcut
    for it to match the same for starting a search in the main window. Please
    note that for attaching a file the shortcut had to be changed and is
    now RAmiga+A instead of RAmiga+F.
  * YAM_FO.c, YAM_gloabal.c, YAM_folderconfig.h, YAM_global.h: moved the
    FolderName array to YAM_FO.c to avoid Library base definition problems
    accross platforms.

2006-12-10  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.
    And some minor word and phrase changes.

2006-12-10  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: update to the latests changes and some corrections

2006-12-09  Jens Langner <Jens.Langner@light-speed.de>

  * locale/italian.ct: updated italian catalog translation kindly provided
    by Luca Longone.
  * YAM_folderconfig.h, misc: the "isSpamFolder()" macro now generally also
    checks the "C->SpamFilerEnabled" variable which seems to be more
    appropriate. So if the Spam functionality is generally disabled, that
    macro will always return FALSE.
  * YAM_MA.c, YAM_FO.c, YAM_MAf.c, misc: renamed the default "Deleted" folder
    to the more common name "Trash" and adapted all involved functions to
    deal with a "trash" folder instead. Also adapted the "FolderName"
    array which carries all names of our default folders.
  * YAM_MA.c: slightly reworked the new DeleteSpamHook() function once again
    to enable it to delete spam mails not only from the spam folder as this
    is like it is done in Thunderbird. In addition, the "Empty trash" command
    is now always available and not ghosted on other folder than the trash
    folder. Just the context menu of those folders have to be different.
  * locale/YAM.cd, locale/deutsch.ct: rephrased certain sentences and words
    to be more compatible with their new functions. Also rephrased some
    german passages to match the way Thunderbird uses the same phrases.

2006-12-09  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs.c: the free()ing of the spam folder upon deleting it was completely
    wrong and caused unpredictable system misbehaviour. The folder structure is
    already deleted by the folder treeview's destructor. This should also fix
    bug #1611908.
  * YAM_FO.c: the type of the spam folder was displayed as "sent" instead of
    "received". Even if this type cannot be changed it should be shown
    correctly. Also made sure that a newly created folder always gets its
    standard icon displayed in the folder tree. Before a newly created spam
    folder got no icon until the user clicked on the folder for the first time.
  * YAM_MA.c: the checks to enable/disable some menu items were a little bit
    too picky. For example checking a folder for being the deleted folder is
    enough as this cannot be a group folder then. And menu items performing an
    action on the whole folder don't need to check for a certain number of mails
    to be selected.

2006-12-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, MainFolderListtree.c, locale/YAM.cd: the newly added menu item
    for deleting all mails in the spam folder will now only be active if the
    SPAM folder is the current folder. In addition, the context menu of the
    spam folder now also caries a menu item for deleting all SPAM in it.
  * InfoBar.c, YAM_MA.c, YAM_UT.c, YAM_FI.c, YAM_MAf.c: a shown busy gauge
    in the infobar can now contain a small "X" button which will allow the
    BusySet() function to notify the calling function that the user wants to
    abort a certain operation. This allows now to not only abort the filtering
    action, it also allows to abort a manual index rescanning operation as well
    as other move/delete mail operations which are manually executed by the
    user. In fact, that new functionality should hopefully address a long
    existing nuisance in YAM.
  * YAM_UT.c, Splashwindow.c: moved the Update minimazation code to the
    corresponding Splashwindow class instead of doing the analysis with help
    of a static variable directly in the Busy() function.

2006-12-08  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c, YAM_main.h, locale/YAM.cd, locale/deutsch.ct: added menu item to
    delete all spam mails from the spam folder. This function will respect non
    spam mail that may still reside in the spam folder will keep them.
  * YAM_UT.c: upon deleting a users private directory the .folders file is now
    deleted, too.
  * YAM.c, YAM_COs.c: when the user was asked if the spam folder should be
    created in an already existing directory the case that the requester was
    cancelled was not really handled.

2006-12-08  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-12-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c, YAM_RE.c: The new "Check for spam" operation didn't show any Busy
    gauge while processing mails. Now it will correctly show and update a busy
    bar like the normal filter operation. In addition it will show a more specific
    message than just "Applying filters...".
  * locale/YAM.cd, deutsch.ct: changed new MSG_MA_SPAMCHECK phrase to be
    somewhat shorter as it is clear that it will be applied on mails. :)
  * include: updated MUI includes to very latest incarnations.

2006-12-07  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COs: added the possibility to use an already existing spam folder as
    standard spam folder when the spam filter has just been enabled, but without
    deleting the files in this existing folder.
  * locale/YAM.cd, locale/deutsch.ct: modified the messages to query a decision
    upon en/disabling the spam filter a little bit and added some new strings.
    Also fixed bug #1610004 again, as one string got into the repository by
    accident.
  * ReadWindow.c: added some extra checks if the spam filter is really
    enabled and made sure the window is closed after the last mail in a
    folder has been deleted.
  * YAM_FI.c, YAM_main.h: adapted the setStatusToAutoSpam() macro to do the
    right thing and not to clear too many flags.
  * MainMailList.c: added some extra checks if the spam filter is really
    enabled.
  * YAM_MA.c: added new menu item "Check mails for spam content" to check a
    complete folder for spam mails. Detected spam will be moved to the spam
    folder.
  * YAM_MA.c, YAM_CO.c: integrated dynamical adding/removing of the spam menu
    entries into MA_SetupDynamicMenus().

2006-12-06  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MI.c: removed unnecessary check during CRLF conversion.
  * YAM.c: removed a redundand statement for debugging purposes
  * YAM_COs.c: after deleting the spam folder when the spam filter was deacti-
    vated the folder structure is free()ed now and the statistics are updated,
    too (same misbehaviour as bug #1609972)
  * YAM_FO.c: added a missing DisplayStatistics() call after deleting a folder.
    This fixes bug #1609972.
  * locale/deutsch.ct: fixed some wrong german words (bug #1610004).
  * YAM_UT.c: before a sound object from a previous call of PlaySound() is
    disposed, its playback is stopped now. Maybe this fixes the freezes with
    MOS.

2006-12-05  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FO.c: added also some checks if the spam filter is active when the
    folder type and the folder images for a possibly spam folder are set up.
  * YAM.cd: fixed wrong id
  * UpdateCheck.c: fixed bug #1604415. If the update check results in either no
    available updates or an available update the last update time in the config
    window is updated. This does not happen in case of an error.

2006-12-04  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-12-04  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: fixed some typos
  * YAM_COs.c: added the same checks when creating the spam folder after the
    spam filter has been activated in the configuration window as upon startup.
    If something goes wrong the user is prompted with an error window and the
    spam filter is disabled again.
  * YAM_UT.c: added some more checks if the spam filter is active when the
    folder type and the folder images for a possibly spam folder are set up. An
    inactive spam filter will result in a standard custom folder in all cases
    now.
  * YAM.c, locale/YAM.cd: if a directory named "spam" already exists upon
    startup but is not the standard spam folder the user now gets asked what
    to do. The user has the choice to use this directory as spam folder and
    delete all existing files or to disable the spam filter. This should
    prevent unwanted loss of mails in case someone already has created such
    a directory without having the spam filter activated.
  * locale/deutsch.ct: fixed some bad german phrases.
  * YAM_FI.c: the user defined filters were not working anymore if the spam
    filter was not active, because YAM always wanted to obtain the spam folder,
    which does not exist without the spam filter being active.
  * YAM_FI.c: the last change was just nearly the complete thing. All new mails
    were correctly checked for spam content, but the NEW and UNREAD flags were
    always cleared. Hence one didn't really see that there was new spam (or even
    false spam!).

2006-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * locale/YAM.cd, deutsch.ct: small modifications to recently changes passages.
  * YAM_TR.c, YAM_COg.c, YAM_COs.c, YAM_CO.c: added the possibility to explicitly
    select the SMTP-AUTH method in the configuration of YAM. Some SMTP servers
    out there seem to report authentication methods on connect which they however
    do not support so that an automatic selection of the AUTH methods isn't always
    successfull. Now a user can override the automatic selection by explicitly
    selecting one of the supported SMTP-AUTH methods.

2006-12-03  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c: reworked the spam filtering a bit again. Now it should always work
    as expected.
  * locale/deutsch.ct: corrected some strings
  * YAM_COs.c: added the missing code to completely delete the spam folder if
    the spam filter has been deactivated.
  * YAM_UT.c: CheckboxRequest() always returned a negative value, even if the
    user selected all checkboxes and hit "Use" in the end.
  * YAM_FO.c, YAM_folderconfig.h: added new function FO_GetFolderTreeNode() to
    obtain the treenode which belongs to a folder structure. This will needed be
    needed to delete arbitrary folders without selecting them (e.g. the spam
    folder)
  * YAM_FO.c: when the creation of a new folder fails YAM tried to remove the
    newly created treenode from the folder tree, but passed the wrong pointer
    which made NListtree.mcc go crazy. Now it correctly passes a treenode
    instead of a folder structure.
  * YAM_UT.c: when a folder is deleted and has its own folder icon this icon
    file is not deleted aswell. Before the directory was still kept, because
    it was not empty because of the still existing .fimage file.

2006-12-01  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: small update again

2006-12-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: reworked the menu item enable/disable routine a bit to make it
    more clear under which conditions a menu item should be disabled/enabled.
    Also added the new MI_DELDEL which was missing and reworked the Spam
    menu item and toolbar item disable/enable routines to just disable it
    if there is no multiselection active.

2006-12-01  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: the attachment menu is now also disabled for empty folders
  * YAM_FI.c: the recent changes complete broke the spam filtering. Now new
    mails are checked for spam content (if enabled) and are moved to the spam
    folder.

2006-11-30  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: update to the latests changes

2006-11-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: the new CheckboxRequest() function now uses a proper alignment
    and returns -1 in case the requester was canceled. In addition, it now
    contains a cancel button and also use the phrase "Use" instead which should
    be more intuitive than just a plain "Okay" button.
  * YAM.cd: the new requester for disabling the Spam filter will now use a
    more intuitive message string and also uses an own string for the
    "Reset training data". Please try to avoid reusing strings and generate new
    ones instead.
  * YAM_COs.c: Change all configuration string IDs to use shortcuts so that
    the indention of the configuration paramaters in the .config file are
    not mixed up. Please try to avoid mixing up the indention of the
    used paramaters.

2006-11-30  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes and some minor
    fixes.

2006-11-29  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: minor update and typo fixing.

2006-11-29  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_COg.c, YAM_COs.c, locale/YAM.cd, locale/deutsch.ct: when disabling the
    spam filter the requester to ask for further actions now pops up when either
    the "Save" or "Use" button is clicked and no longer immediately.
    Additionally one can now choose exactly which data should be reset. The new
    CheckboxRequest() function is used for this purpose. Also adapted the
    catalog accordingly.
  * YAM_UT.c, YAM_utilities.h: added new function CheckboxRequest() which puts
    up a requester with customizable checkboxes and labels.
  * BayesFilter.c: the training data are now always written to disk upon exit if
    there are any tokens and if something has changed since the last flush.

2006-11-28  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_TR.c: ApplyFiltersFunc() now does all the work. That means
    that we are back to the old state (only one filter function). This single
    function is able to detect spam mails and (if desired) move them to the spam
    folder. By moving the spam recognition into YAM_FI.c there is no more delay
    upon downloading mails and checking each of them for spam contents right
    after downloading a single mail. Slow machines should benefit from this,
    especially when a mail contains quite large attachments. Future extensions
    should accept a list of mails to be checked for spam instead of iterating
    through all mails in the inbound folder.

2006-11-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_COs.c, misc: added a new "DisplayAllAltPart" config option
    to the [Advanced] section. With this option an advanced users might configure
    YAM to also display the normally hided alternative parts of a
    "multipart/alternative" mail. However, for an ordinary user this option
    shouldn't be changed.
  * BayesFilter.c: removed the check for an alternative part when tokenizing
    attachments as for a SPAM filter the differentiation between an alternative
    part and a normal part shouldn't be made.

2006-11-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: hasStatusNew() is not required as MA_CreateFullList() already
    assures that only new mail is selected.
  * YAM_FI.c: slightly reworked new ApplySpamFilterHook() by adapting it
    to the STYLEGUIDE. Please no plain Cut&Paste on new functions, go the
    clean way please :)

2006-11-27  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_FI.c, YAM_TR.c: moving automatic recognized new spam mails to the spam
    folder after download no longer relies on the existance of user defined
    filters but has an own function now.

2006-11-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_FI.c, YAM_ER.c, BayesFilter.c, ReadMailGroup.c: if the SPAM
    filter was turned on YAM may have thrown warnings on certain broken mail
    content which e.g. stopped the batched mail download. Now a new PM_QUIET
    flag is set on those actions where the mail transfer shouldn't be
    interrupted at any time.

2006-11-24  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: small update.

2006-11-24  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_CO.c, YAM_MA.c, MainMailList.c, ReadWindow.c: the spam menu items are
    now completely hidden if the spam filter is not activated. If the filter is
    enabled they will be created dynamically.
  * YAM_UT.c, YAM_utilities.h: added new function isChildOfFamily to check if
    a menu item is member of a menu strip.

2006-11-23  Jens Langner <Jens.Langner@light-speed.de>

  * ReadWindow.c: increased the window title limit to SIZE_SUBJECT which
    should be around 200 chars and way enough now for every need.
  * ReadWindow.c: fixed a NULL pointer access when trying to open a virtual
    mail due to flags checking for the SPAM folder.
  * YAM_TR.c: fixed incorrect usage of Hash entryCount check to skip certain
    operations in the FilterDuplicates() function.
  * HashTable.c: added a NULL pointer check to StringHashHashKey() to catch
    certain misuses.
  * YAM_TR.c: fixed another issue with the new UIDL management  where not all
    orphaned entries in the table were really properly removed.
  * YAM_TR.c: the new UIDL managment did only try to avoid duplicates if a POP3
    server was set to keep mails on the server. However, it also makes sense
    to check UIDLs on server where we delete all mails immediatley because it
    might have happend that the system crashed during the transfer or if the
    user aborted it unexpectly.

2006-11-23  Thore Böckelmann <tboeckel@gmx.de>

  * BayesFilter.c: the spam recognition was slightly broken when the filter was
    completely untrained due to some changes to make the source conform the the
    STYLEGUIDE. Without any good tokens a mail should always be treated as spam.

2006-11-22  Jens Langner <Jens.Langner@light-speed.de>

  * misc: addressed bug #1597189 by having totally rewritten the whole UIDL
    management from scratch. Now the new POP3-UIDL management for the
    "Avoid duplicates" funcationality will use the new HashTable functions
    for maintaining/checking the UIDLs of mails kept on the POP3 server.
    Previously YAM was very dumb in that manner by just adding the UIDL
    of each downloaded mail to the ".uidl" file and checking it via simple
    but slow string operations. Now a hash table is used for that purpose
    which should make UIDL lookups quite faster. In addition, the UIDL list
    will now be automatically cleaned up when saving it. All orphaned UIDLs
    which doesn't correspond to any mail found on a POP3 server will be
    removed. That also fixes the issue with an endless growing ".uidl" file.

2006-11-22  Thore Böckelmann <tboeckel@gmx.de>

  * HashTable.c,h: added new function HashTableEnumerate to walk through a hash
    table using a callback function for every single entry. See HashTable.h how
    to use this stuff.
  * SDI_compiler.h: removed the different defines for INLINE and left only the
    one which defines INLINE as "static".
  * BayesFilter.c: reverted the changes done this morning and defined both
    functions again as INLINE. Instead SDI_compiler.h needs to changed for
    vbcc.
  * BayesFilter.c: changed lngamma_asymp() and lnPQfactor() to be just static
    than inlined. vbcc chokes about this, because the definition of INLINE is
    different for vbcc and gcc. Somebody with a little bit more compiler
    knowledge (vbcc in particular) should take a look at this.

2006-11-22  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-11-21  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile.?: put the 'date' and 'expr' usage for calculating the
    various date expressions in separate makefile variables for more easily
    specifying own date/expr commands instead.

2006-11-21  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: hopefully fixed the problem that when calling RemoveMailFromList()
    and closing open read windows the temporary files in T: never got deleted.
    This happend because the window was only visibly closed, but the cleanup
    function was never called. Now YAM correctly closes the window and does a
    full cleanup.
  * YAM_RE.c: moved the clearing of rmData->mail after a possible closing of an
    open read window. This should enable the read window to do the necessary
    cleanup itself without leaving any temporary files.
  * YAM_COg.c, locale/YAM.cd, locale/deutsch.ct: when the spam filter is
    disabled the spam/not spam flags of *all* mails are also cleared, so that
    one can really start re-training the filter from the very beginning.
    Pressing the "Reset training data" button leaves the mail flag as they are,
    it just resets the training data. Therefore the confirmation question has
    also been adapted accordingly.
  * MainMaillist.c: the "set to spam/not spam" item in the context menus were
    not disabled if the spam filter was deactivated.
  * YAM_CO.c: when the spam filter in enabled or disabled the toolbars of
    opened read windows are now updated, too.

2006-11-20  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: updated according to the latest changes and some
    minor typo corrections.

2006-11-20  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c, YAM_utilities.h: transferred ReadUInt32() and WriteUInt32()
    functions from BayesFilter.c to here, because these two are no spam filter
    specific functions, but for arbitrary use.
  * BayesFilter.c,h, HashTable.c,h: introduced operation tables for the hash
    tables. This makes it possible to use the hash tables for arbitrary things,
    not just for the spam filter. A possible usage could be the management of
    the UIDL data to speed up the recognition of duplicate mails. Also threw in
    lots of comments to explain how things work.

2006-11-20  Jens Langner <Jens.Langner@light-speed.de>

  * BayesFilter.c, HashTable.c: got rid of the "goto" statements in our newly
    created code. Please note that "goto" are considered evil, so please try to
    avoid them wherever you can.
  * HashTable.c,h: got rid of the typedef definitions as they just obfuscate code.
    Please no typedef's.
  * HashTable.c: adapted sources to comply a bit more to the STYLEGUIDE.
  * BayesFilter.c: The ".spamdata" file will now respect the user's own maildir
    setting instead of being stored in PROGDIR:

2006-11-20  Thore Böckelmann <tboeckel@gmx.de>

  * VMakefile: applied changes supplied by Jools Smith.

2006-11-19  Jens Langner <Jens.Langner@light-speed.de>

  * BayesFilter.c,h: strongly adapted new sources to STYLEGUIDE.
  * HashTable.?, BayesFilter.?: added "Id" svn:keywords property to newly added
    files.
  * HashTable.c: fixed broken AmigaOS3 compilation due to unknown <sys/param.h>
    use.
  * QuickSearchBar.c: changed recently changed MatchMail() function to be
    at least a static function if some broken compilers really don't like the
    INLINE statement.
  * HashTable.c: fixed a possible uninitialized variable use.

2006-11-19  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: fixed bug #1597938.
  * ReadWindow.c: the toolbar is updated accordingly if a mail in the spam
    folder is reclassified.
  * HashTable.c: removed a warning because of comparing signed and unsigned
    values
  * BayesFilter.c: if the spam filter is globally disabled upon startup no
    training data will be read. If it is disabled on quit a possibly existing
    data file will be deleted.
  * YAM_COg.c, YAM.cd: when the spam filter is disabled the user is now asked if
    he/she wants to reset the training data.
  * MainFolderListtree.c: added missing new parameter to call to MA_MoveCopy()
  * QuickSearchBar.c: changed MatchMail() to a normal function instead of of an
    inline function. This fixes a compiling bug with vbcc.
  * AttachmentImage.c: only gcc seems to be able to intitalize constants with
    variables as sometimes used for TagLists. Changed OM_SETUP method to use
    only constants in the definition of iconCtrlTags and assign the variable
    parts later.
  * HashTable.h: included SDI_compiler.h, because some functions need the UNUSED
    definition.
  * BayesFilter.c: added definition of M_LN2 for compilers whose math.h doesn't
    define this number.
  * VMakefile, smakefile: added missing dependency lines for BayesFilter.o and
    HashTable.o

2006-11-18  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: deleted a printf() call for debugging purposes.
  * misc: all delete and move functions can be told to close a possibly open
    read window when RemoveMailFromList() is called. This should fix the
    complaints on the mailing list about an always closing read window when
    deleting mails. The behaviour is now consistent in that way, that all
    operations invoked from the read window will try to leave the window open
    and show another mail after the operation. All operations invoked from the
    main window will close an open read window affected by this operation,
    because from the main window one can perform this operation one more than
    one single mail. I hope this corresponds with most users' expectations. You
    should keep in mind that is not always possible to keep the read window open
    because of the invalid pointer problem.

2006-11-17  Thore Böckelmann <tboeckel@gmx.de>

  * misc: Too many changes to list each of them, but finally YAM got a working
    spam filter!!
    The supplied images in the nightly builds contain just a trashcan icon for
    everything concerning the spam filter, so these *really* need to be replaced
    by nicer ones.
    While implementing the spam filter two new buttons made it into the toolbars
    of the main window and of the read window. That also means you need new
    images for these two toolbars. The nightly build should contain updated
    standard icons. If not, ask me. At least I can supply nice glow icons, but
    still with lots of trashcans :) As long as we are stuck with ToolBar.mcc we
    will have to live with this inconvenience.
    By default the spam filter is inactive and has to be activated on the
    according page in the configuration window. After that it is very likely
    that *ALL* of your newly received mails will be marked as spam. That is
    absolutely normal, because the filter must be trained to distinguish between
    normal wanted mails and spam mails. Just mark these "false negatives" as
    normal mails and move them to other mail folders if you like. After a time
    YAM will become better and just filter out real spam. The other new items in
    then configuration window should be quite self explaining.
    Please try to stress the filter as much as possible. Hopefully it will make
    it in the 2.5 release if no major bugs make it a show stopper. Especially
    the possibility to (de)activate the filter while YAM is running is largely
    untested and I suspect it not to work 100%.
  * YAM_UT.c: bug #1460858 was only partly fixed by clearing the mail pointer
    in the struct ReadMailData directly after calling RemoveMailFromList(). But
    this did not cover the case that a mail was displayed in a read window
    while several mails were deleted at once, the one being displayed among
    them. In this case the read window was left open. If one switched to the
    next/previous mail after that YAM jumped to a random mail. Now a possibly
    open read window is also closed and the ReadMailData is cleaned up by the
    window itself.

2006-11-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed another issue with "multipart/alternative" mails which
    contain an aggregate "multipart/related" part, ending up in not hiding
    all non "text/plain" parts.
  * YAM_RE.c: fixed bug #1592829 where on some "multipart/alternative" mails
    a reply action ended up in an empty reply/edit window.
  * YAM_MI.c: fixed bug #1573693 where binary attachments were saved truncated
    in case the "autodetect cyrillic charsets" option was enabled.

2006-11-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: reworked/revised some of our raw POP3 data transfer functions to
    include some debug output as well as make sure all memory is immediately
    freed upon an error.

2006-11-14  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_UT.c: the info window after a mail download is opened in inactive state
    now to avoid the problem that this window steals the focus of other windows
    one is typing in.

2006-11-13  Thore Böckelmann <tboeckel@gmx.de>

  * ReadWindow, ReadMailGroup: after a call to either MA_DeleteSingle() or
    MA_MoveCopy() the pointer to the current mail in the ReadMailData must
    be invalidated, because these two functions call RemoveMailFromList()
    which free()s the mail data. Hence the pointer must not be used after
    such a call anymore. This should fix bug #1460858.

2006-11-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: minor optimizations and general styleguide fixage of the
    MA_DeleteOldHook. Now the statistics for a folder will only be updated
    after having scanned through all messages (should be faster) and
    without having to save the mail's folder pointer.

2006-11-13  Thore Böckelmann <tboeckel@gmx.de>

  * YAM_MA.c: the mail structure must not be accessed after a call to
    MA_DeleteSingle(), because it is free()ed in that function.
  * YAM_TR.c: after a bad reponse to the PASS command the password is over-
    written with 'X' chars to avoid that anybody else can read a password by
    accident. This fixes bug #1592268.

2006-11-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM.c: changed write window class to use the new NoStyle Export
    hook of TextEditor.mcc 15.19 as well as the ExportBlock method for
    more precisly identifying where the soft-style marker should be added.
    Now the Bold, Italic, Underline and Colored buttons/menuitems are fully
    mutual exclusive and work only wordwise. That means you are not allowed
    to set a soft-style only on parts of a word. In addition, only one
    soft-style at a time is allowed and setting a softstyle on more than one
    word will also not work anymore. This change should now make the whole
    non-standarized softstyle management in YAM more consistent and
    interoperatable with other non-Amiga mail clients. Please note that
    for the change to work the minimum required version of TextEditor.mcc
    has been bumped to 15.19.

2006-11-09  Thore Böckelmann <tboeckel@gmx.de>

  * locale/deutsch.ct: changed one string, because the old one was not really
    good german language.

2006-11-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: added a minor workaround for some broken Date: header lines
    comming from broken mail clients. In fact, some clients seem to encode
    the date not totally conform to RFC822. Now YAM will even try harder to
    still identify the date of the mail correctly by falling back to certain
    separator types and not only a single one.
  * YAM_MA.c, YAM_UT.c, YAM_FO.c: fixed some missing/incorrect TAG_DONE
    definitions necessary for SetAttrs().

2006-10-09  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: updated according to the latest changes and some
    minor typo corrections.

2006-10-07  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-10-07  Jens Langner <Jens.Langner@light-speed.de>

  * include/SDI_hook.h: updated to latest version and adapted our sources
    and genclasses accordingly.
  * AttachmentImage.c: forgot to explicitly draw the background right
    before doing the final Blit operation in MUIM_Draw and therefore mixed
    up the transparency display on attachment images when selecting them.

2006-10-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_WR.c: fixed a minor crash bug where under certain
    situations a reply operation caused a crash in MA_MoveCopySingle().

2006-10-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_UT.c, misc: upon recognition of multipart/alternative
    mails, YAM will now automatically decide which of the alternative parts
    to select for display and hide the others. This should make it more
    conform to RFC 2046 section 5.1.4. However, a user might still have
    a look at all alternative parts by using the normal "Display" operation
    in a read window. The attachment selection window will then show
    all hided alternative parts in italic style.
  * YAM_RE.c: added some minor workaround so that mails from some broken
    mail clients which do not properly add ';' separators for the
    content-type: paramaters still show up fine.
  * UpdateNotifyWindow.c: fixed bug #1568402 where the component history
    listview wasn't in the MUI tab cyclechain and therefore not useable
    via keyboard.
  * AttachmentImage.c, AttachmentGroup.c: finally fixed bug #1562791 where
    attachment images were always displayed without any transparency. Now,
    if the icon image contains a transparency bitmask it will be used and
    the image should show up with proper transparency. Please note that
    this feature requires icon.library v44 or newer.
  * YAM_WR.c, YAM_MA.c, misc: generally enabled the "Edit" toolbar, menu
    and context menu item and implemented a new "Edit as new" functionality.
    If a user uses edit now on received or sent mail not in the outgoing
    folder, YAM will now open a write window with the mail in question.
    However, as soon as the mail it is sent/saved/hold it will be a new
    mail and doesn't touch the existing mail. This should be more intuitive
    and allow to create a new mail out of an already existing one without
    having to move it into the outgoing folder. As for the outgoing folder,
    the "Edit" operation still works as a real edit operation and replaces
    the existing mail.

2006-10-02  Jens Langner <Jens.Langner@light-speed.de>

  * AttachmentImage.c, AttachmentGroup.c: changed the icon image selection
    behaviour to make a multiselection only by using SHIFT and the left
    mouse button like it is done on the workbench. This should be more
    intuitive than the previous behaviour of always assuming a multi-
    selection when clicking on an icon image.

2006-10-01  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-09-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, MainMailList: reenabled the Reply toolbar button and menu
    items even in SentMail folders. After having rethought on the behaviour
    it indeed makes sense to have the reply operations also active as
    a user might want to quickly reply to one of his own mails to e.g.
    send a corrected mail afterwards.
  * MainMailListGroup: changed the "Write window on doubleclick" feature
    to just popup a write window in case the embedded read pane is active.
    Otherwise a read window will be opened like it was with earlier
    versions. That should be more the intuitive than always forcing a
    write window.

2006-09-27  Jens Langner <Jens.Langner@light-speed.de>

  * deutsch.ct: the 'p' shortcut for the "Später senden" gadget of the
    write window was interfering with the AMIGA+P Shortcut of the window
    menu. Now 't' is used instead.
  * misc: removed unncesessary STDARGS definitions.
  * Makefile.#?: added new 'Makefile.depend' file which can now be
    generated via 'make depend' and carries all source file dependencies
    collected with a "gcc -MM" call over all files. This should hopefully
    improve the whole dependency handling with the YAM sources and prove
    usefull for further development.

2006-09-27  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: updated according to the latest changes.

2006-09-26  Jens Langner <Jens.Langner@light-speed.de>

  * C_c.sd, C_h.sd: fixed the mixed up const usage which broke compiles
    with GCC 2.95.3

2006-09-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_folderconfig.h, misc: added a new set of folder type macros
    for querying the folder type more easily and more intuitive so
    that menu items and context menus as well as toolbar images can
    be more easily setup to disable certain things upon the specific
    folder type.
  * MainMailListGroup.c: if doubleclicking on a mail in the outgoing
    folder, YAM will now popup an edit window instead of a read window
    as that is normally the more native action for the outgoing folder.
    All other folder types will keep their old behaviour and popup
    a read window instead.

2006-09-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #1549093 where some toolbar gadgets were
    kept ghosted under certain conditions due to the way NList handles
    the "active" and "selected" state.
  * QuickSearchBar.c: the search string now directly accepts return
    for initiating an immediate search. In addition, the autosearch
    delay is now increased to 500ms and will only be triggered after
    a minimum of two characters are entered. That should make the
    gadgets slightly more intuitiv in its behaviour.
  * deutsch.ct: updated german catalog to latest v6 version changes.
  * YAM.cd, C_c.sd, C_h.sd, misc: the OpenYAMCatalog() function
    checks now the version of the loaded native catalog against the
    version of the internal one. And if both are not matching it will
    popup a requester to the user upon startup. In addition, it will
    refuse to keep that outdated catalog translation to be activ. That
    should force/remind users of the fact that they might have an
    outdated catalog running in case they updated their YAM.

2006-09-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: YAM will not automatically switch to the outgoing folder
    anymore in case mail is going to be sent. That forced folder switching
    was somehow unnecessary and disturbing to the user. YAM will create
    the selection list internally now instead of relying on the main
    mail list NList object's selection.
  * YAM_TR.c, YAM_MA.c, misc: merged the MA_SendMList() function with
    the more intuitive usage of TR_ProcessSEND() which also accepts
    an array of mails to send.
  * YAM.c: fixed bug #1523160 where upon startup YAM could have asked to
    send waiting outgoing mail even if there wasn't really waiting mail.

2006-09-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: fixed bug #756805 where it wasn't possible to use a script
    which's intention is to modify the content of the write window right
    before the real message is generated (POSTWRITE). Now that's finally
    possible which should help spell checkers to hook into YAM more easily.
    However, please note that for an ARexx script, the "Wait termination"
    have to be turned on to let it immediately change the editor content.
  * YAM_UT.c, misc: reworked the ReqFile() functionality for popping up
    ASL FileRequesters. Previously all possible requesters were allocated
    right on the start of YAM. Now these requesters are dynamically allocated
    when they are needed. However, necessary information between usage of the
    same requester type (position, drawer, etc.) is now cached in a separate
    "struct FileReqCache" structure. Aside from a much nicer implementation
    that should also finally fix the long-standing "directory locking"
    bug #1114999 reported often.
  * extrasrc, YAM_UT.c: moved DoSuperNew() wrapper functions to our new
    place for Amiga-like wrapper functions.
  * YAM_UT.c: fixed bug #1424457 where #?.info files where always rejected,
    even if the accept/reject pattern wasn't matching them.

2006-09-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM_UT.c: the MIME configuration pane also carries now
    popup listviews whereever appropriate so that a user might use the popup
    gadget for seeing which options he can add to the mime viewer string
    gadget.
  * YAM_UT.c: fixed a bug in the Quoting_Chars() analysis function where it
    didn't return the correct number of skipable characters in case spaces
    where found in front of a quoted line with initials of the quoter.
  * extrasrc.h: removed the faking of PROTO_SOCKET_H as the update socket
    SDK doesn't require that anymore.
  * include/netinclude: updated whole netinclude SDK headers to latest
    RoadShow includes available which is also compatible to other bsdsocket
    based TCP/IP stacks.
  * YAM_COg.c, YAM.cd, misc: the macro scripts configuration now takes
    predefined "%p" parameter specification holders which will be evaluated
    during macro execution. That way macros can now be specified where the
    paramater will not always be appended to the command string and can now
    even be inserted in between a whole command sequence. This should make
    the whole macro scripts management a bit more intuitive and consistent
    on how other scripts/commands can be specified in YAM. In future a
    script may now even take multiple parameters if that becomes necessary.

2006-09-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM.cd: revised the naming of some config page titles as they
    weren't exactly named correctly/precisely.

2006-09-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, misc: added new PassphraseRequest() function which includes
    a separate checkbox for selecting a new option to remember the entered
    passphrase for a predefined amount of time. This should make the handling
    of large amounts of PGP mails much easier as YAM will remember the
    entered passphrase for a while and doesn't request it for every single
    operation. The predefined time is 10 minutes but can be changed in the
    YAM configuration.
  * VMakefile: updated according to patches provided by Jools Smyth.
  * extrasrc: minor fixes for VBCC build.
  * extrasrc.c: removed unnecessary #ifdef around check_abort() definitions

2006-09-18  Gunther Nikl <gni@gecko.de>

  * extrasrc/strlcat.c, extrasrc/strlcpy.c: New files.
  * Makefile.os3: Remove __USE_SYSBASE define.
  * Removed all (void *) casts from arguments to AppendToLogfile.
  * C_h.sd: Removed now superfluous include.
  * YAM.c (TC_Start, TC_Stop): No casts required here.

2006-09-15  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc.c: fixed the __check_abort() definitions for the various runtime
    libraries.

2006-09-14  Jens Langner <Jens.Langner@light-speed.de>

  * lib/os3/libmui.a: added and propagated to Makefile.os3
  * tools, genclasses: generated new 'tools' subdir and moved the whole
    extrasrc/genclasses dir to it. In future this directory should carry all
    kind of (build) tools. extrasrc should only carry source files which
    will be included conditionally by extrasrc.c.
  * all_#?.c, misc: removed all all_#?.c files and replaced it by a single
    extrasrc.c,h combo which contains a bunch of HAVE_XXXX defines instead.
  * UpdateCheck.c, YAM_COg.c: added missing <clib/alib_protos.h> for non-OS4
    targets still using amiga.lib.
  * Debug.c: repaired kprintf() macro for OS4 build. cleanup.
  * all_gcc.c: added missing HAVE_XXXX alternations which broke our main
    builds.
  * YAM_rexx_rcif.h: <rexx/storage.h> is required for 'struct RexxMsg'
    definition.
  * YAM_UT.c: fixed bug #1558215 where the PGP Id wasn't correctly stripped
    out of the keylist listview either in the config or addressbook window.

2006-09-14  Gunther Nikl <gni@gecko.de>

  * YAM_UT.c (MUIStyle2String): Remove cast.
  * YAM.c (Initialise2): Remove superfluous initialization.
    YAM_FI.c (GetFilterRule): Likewise.
  * YAM.c (main): Fix broken array pointer/usage (detected by SAS/C)
  * extrasrc/genclasses/gc.c (doargs): Use proper type.
  * C_c.sd (Open%bCatalog): Use void.
    YAM.c (StayInProg), YAM_TR.c (TR_GetMessageList_IMPORT),
    YAM_transfer.h (TR_GetMessageList_IMPORT): Likewise.
  * include/openssl/evp.h: Remove superfluous forward declarations.
  * include/openssl/ocsp.h (PEM_read_bio_OCSP_RESPONSE): Add missing space.
  * UpdateCheck.c, YAM_DI.c, YAM_ER.c, YAM_FO.c, YAM_MI.c, YAM_rexx.c: Add
    extra.h.
  * extra.h: add prototypes for strlcpy, strlcat, strtok_r when necessary.
  * Debug.h, Debug.c: Move kprintf stuff from .h to .c (only used there),
    trim headers.
  * Moved all proto/ headers to appropriate .c files. Removed duplicated
    headers and reordered some. Don't rely on ClassesExtra.h to provided
    required headers.
  * YAM_error.h, YAM_ER.c (ER_NewError): Remove STDARGS.
  * QuickSearchBar.c, ReadWindow.c: Use INLINE.

2006-09-12  Jens Langner <Jens.Langner@light-speed.de>

  * ImageArea.c: added somewhat more debug output to try to catch a still
    existing bug.

2006-09-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_ER.c: get rid of the last FormatString() use which, apart from the
    separate putCharHook usage was also prone to buffer overflows. Now vsnprintf()
    will be used instead.
  * YAM_UT.c, misc: removed the more or less unused and buffer overflow prone
    SPrintF() implementation and replaced all occurances with the more safe
    snprintf() equivalent.

2006-09-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_MAf.c: added somewhat more detailed debug information.

2006-09-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, HTML2Mail.l, YAM_mail_lex.l: mails with bold/italic/underline and
    color markers are now displayed with their actual style markers included. This
    should be more intuitive and should make it possible to cut&paste the text
    correctly from the texteditor. In addition, we enforce this way, that we don't
    mangle any incorrectly detected soft style markers. Furthermore, the
    possibility to directly insert the old-style <sb> and <tsb> markers with own
    menu items was removed as these markers are way too uncommon and should be
    considered obsolete - however, YAM will still show them as usual if found.
    But users should not be suggested to use them anymore. The soft-style
    toolbar buttons are now also working mutual exclusive to make the write
    window bold/italic/underline functionality somewhat more consistant to what
    YAM can/should allow to display. However, please note that TextEditor.mcc
    seems to be somewhat limited and needs some work to get the mutual exclusive
    nature of the soft style fully working under all conditions.
    Overall, this change should definitly make YAM more conform to other modern
    mail clients as all these soft-style additions are not really standardized
    via a RFC and a mail client should definitly not mangle any text display.
  * YAM_TR.c, misc: reworked the transfer window statistics to show more
    modern values and units like KB/s instead of cps. In addition, the transfer
    gauge is now based on the transfered time rather than on the bytes already
    transfered. This should e.g. work around bug #1555275 on systems with older
    non-fixed MUI versions.
  * YAM_MAf.c, YAM_UT.c: fixed an issue in the "Date:" header parsing routine
    where double-spaces as separators caused the MA_ScanDate() function to fail
    and return an incorrectly converted time.
  * classes/ReadWindow.c, YAM_RE.c: fixed bug #818863 where the requester asking
    to allow additional folder index reloading popped up way too frequently.
  * YAM_MA.c, YAM_EA.c: fixed bug #777363 where it might have happened that
    upon putting an address from a mail to the addressbook, a realname contained
    a "," character without quoting it correctly.
  * YAM_MAf.c, YAM_folderconfig.h: fixed bug #1553621, #1232127, #728100 where
    the index rescanning wasn't at all a mutual exclusive operation and may have
    caused several different problems in case a user tried to issue an index
    rescanning on multiple folders. Now only one single rescanning operation will
    be permitted at a time, while certain normal operations should normally not
    get blocked.

2006-09-07  Jens Langner <Jens.Langner@light-speed.de>

  * misc: applied VBCC compatibility patch kindly provided by Jools Smyth after
    some additional minor modifications. Now YAM should hopefully build with
    VBCC again, which should help us to find some issues hided due to our GCC
    bound compilation structure.

2006-09-06  Jens Langner <Jens.Langner@light-speed.de>

  * include/SDI_#?: updated SDI headers to very latest available versions which
    should fix compilation issues with VBCC and the VARARGS68K definition.

2006-09-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_locale.c,h, misc: changed the GetStr() localization function to
    return a "const char*" instead of a writeable char pointer. That should
    make a write operation to the read-only defined locale strings impossible
    and safe us for possible illegal memory accesses. Adapted the whole
    YAM sources accordingly and propagated more "const" changes resulting
    from the GetStr() change.

2006-09-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: as properly described in bug #1550417 there should be no reason
    to force OpenURL to open an URL in a new browser window because a user
    can perfectly configurate that himself via the OpenURL preferences. So
    we are back to open the plain URL via URL_OpenA() and let OpenURL handle
    the rest.

2006-09-01  Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: improved the html2mail converter to use better syntax rules
    with start/end conditions which should make the converter a bit more
    accurate. In addition, <a href=...></a> tags should now be converted
    by adding the relavant link in "<..>" brackets so that they always show
    up in the converted plain text.

2006-08-29  Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: we are catching HTML comment tags "<!-- -->" as well now.

2006-08-28  Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: all "&#XXX;" char interpretation abbrev. will now be handled
    dynamically instead of specifying them separately in our language file.
    This should sage quite an amount of parsing.
  * HTML2Mail.l: adapted HTML converter engine once more to take respect of
    all known HTML character abbreviations throughout described at
    (http://www.bbsinc.com/iso8859.html). In addition, the engine should now
    properly strip all kind of CSS definitions and take respect of <div>.

2006-08-27  Jens Langner <Jens.Langner@light-speed.de>

  * HTML2Mail.l: enhanced the html2mail converter to also convert most common
    "&XXXX;" sequences in a HTML mail.
  * YAM_MA.c, YAM_RE.c, ReadMailGroup.c: the HTML conversion will now be
    done in the MA_ReadInMessage() function for every single mail part instead
    of running it through the whole preparsed mail message. Aside a smoother
    conversion it should also fix bug #1547080.

2006-08-27  David Rey <tactica@users.sourceforge.net>

  * YAM_MA.c: corrected the fix for bug #806352 as the new shortcut
    was unusable on PC keyboards.

2006-08-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_MA.c: fixed bug #425212 once again because recent changes
    caused the 'Folder/Check account' corruption to show up again.
  * YAM_MA.c: fixed bug #1546144 where YAM didn't delete a temporary unpacked
    mail file in case a mail status change was performed right before the
    unpacking.
  * Makefile, misc: added -Wwrite-strings to all makefiles for forcing GCC
    to throw additional warnings about eventually existing ro-data accesses.
    As a consequence, we revisited all situations where warnings where thrown
    and added additional "const" statements wherever necessary.
  * YAM_UT.c, YAM_utilities.h, misc: converted the AppendToLogfile() function
    to a variable arguments function as that is what this function is all about.
    In addition, the AppendLog(), AppendLogNormal() and AppendLogVerbose()
    are now implemented as function macros instead.
  * YAM_UT.c, YAM_RE.c: fixed a problem when ClearMailList() was being called
    while a ReadMailData object was still referencing to one of the mails
    being cleared right away. This had the effect that upcon index rescanning
    the system may have access some undefined areas and therefore crashed the
    system right away.

2006-08-20  Jens Langner <Jens.Langner@light-speed.de>

  * misc: propagated the new html2mail converter to all kind of mail read
    functions and also added a new configuration options to enable/disable
    this new functionality.
  * HTML2Mail.c: implemented a first version of a simple, flex-based html to
    plaintext converter which accepts html infected text and automatically
    converts it to RFC822 conform mail text.
    Please note that this html converter is meant to kept simple with only a
    low amount of effort in properly converting all kind of HTML magic.
    Especially, things like HTML tables/frames/css etc. will never be supported
    by it. For displaying such complex HTML stuff a later version will contain
    the functionality of viewing such HTML via htmlview.mcc. So this converter
    is really only meant for simple stuff. So please, don't fire up your feature
    requests too fast :)
  * YAM_TR.c: instead of just showing the POP3 server's name in the window
    title of a transfer window we now show the full account name. This should
    make it easier to distinguish between different accounts on the very same
    POP3 server. Request #1543336
  * YAM.c: now that the most stable BetterString.mcc 11.8 was released we bump
    the minimum required version to 11.8 so that people work with the very
    latest stable build of it.

2006-08-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: now that the most stable TextEditor.mcc 15.18 was released we bump
    the minimum required version to 15.18 so that people work with the very
    latest stable build of it.
  * YAM_UT.c, YAM_RE.c: fixed bug #1540297 where YAM didn't delete all temporary
    files which are being created during unpacking of mail files of an XPK
    compressed folder. Now all temporary files should be correctly deleted on
    switching to another mail or by fully quitting YAM.

2006-08-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed another bunch of index variable mixups which may have caused
    some serious trouble when replying to mails.
  * YAM_MA.c: fixed a serious bug where upon replying on a mail a wrong index
    variable was increased and caused an illegal memory access to happen under
    certain circumstances.
  * YAM_UT.c: added some debug output to the MatchNoCase() function.

2006-07-06  Jens Langner <Jens.Langner@light-speed.de>

  * UpdateCheck.c: fixed a minor issue where upon an opened YAM configuration
    the "Search now" update processing didn't automatically update the
    last search date in case no update was found to be available.

2006-07-06  Gunther Nikl <gni@gecko.de>

  * ChangeLog, YAM.c, YAM_COg.c, YAM_MA.c, YAM_WR.c,YAM_UT.c,
    classes/AttachmentGroup.c, classes/QuickSearchBar.c,
    classes/UpdateNotifyWindow.c, classes/UserImage.c: Fixed spelling.

2006-07-04  Jens Langner <Jens.Langner@light-speed.de>

  * classes/UpdateNotifyWindow.c, YAM_COg.c, YAM_COs.c: fixed some issues
    related to the "Do not notify me on updates in future" checkbox in the
    UpdateNotifyWindow when the YAM configuration window was open during
    updatecheck processing. Now YAM should hopefully update the checkbox
    correctly and also the configuration in case the update window is
    closed.

2006-07-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: applied a patch kindly supplied by Andrija Antonijevic which
    fixes an issue where YAM always inserted an additional space on a new
    quoted line even if the previously line ended with a space.
  * YAM_COg.c, YAM_CO.c: the listview of the 'Scripts' configuration will now
    immediately show its active/inactive status instead of only showing it on
    a manual redraw operation.
  * YAM_rexx.c, YAM_MA.c: the fix for bug #667192 didn't work out as expected
    and introduced some other issues regarding the quoting of rexx/command
    strings with spaces involved. However, the issue should now be fully
    addressed at the right place and hopefully under all situations.

2006-07-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c, misc: fixed bug #585174 where the Bounce/Forward addressbook
    popups didn't allow to directly select a recipient by double clicking.
  * classes/SearchControlGroup.c: the additional string gadget right beside
    the selection cycle gadget will now be hidden instead of just disabled
    in case something other than "Other field:" is selected. This should
    make the look of that searchcontrolgroup more intuitive.

2006-06-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #1230324 where YAM didn't correctly update the
    transfer window in case a subsequent POP server was about to be checked.
  * YAM.c: fixed bug #1211693 and changed YAM to not delete the autosave file
    immediately after having added its content to a write window. This may
    have been critical in the event YAM immediately crashes again after having
    recovered the content from the autosave file. Now the autosave file will
    automatically overwrite after the specified autosave time period and
    deleted when closing the opened write window.
  * YAM_WR.c: fixed a crash issue in case the "WRITEQUEUE" arexx command is
    used on hidden write windows. This seems to be due to a MUI bug with
    setting MUIA_Group_ActivePage in a closed window. Now YAM will properly
    check if the window in question is open. In addition, the WR_NewMail()
    function will now check whether the window in question is a virtual/hidden
    window and process the function in quiet mode instead.

2006-06-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx.c: fixed bug #667192 where rexx scripts with a space in a
    filename couldn't be executed properly via the "Execute script..." menu
    item. However, please note that the involved fix only works on systems
    with rexxsyslib.library version >= 45 as previous versions can't be
    instructed to take care of files with spaces included.
  * YAM.c: fixed bug #1241268 where the Splash window was closed after having
    opened the main mail list which in turn may have kept the splash window
    open way too long and may have been irritating for the end user.
  * YAM_FI.c: fixed an issue with the context menu display of the find
    result window where a user was able to override the default of having
    NO context menu for the find window which in fact wasn't expected and
    resulted in the context menu to perform weird operations. Now YAM makes
    sure that no context menu can be enabled for the simple find window.
  * classes/MainMailList.c, misc: due to the fact that the addressbook lookup
    in the DisplayHook and CompareHook of the main mail list is quite a time
    consuming operation - especially on slow systems and/or with large
    addressbook, the generally enabled lookup is now disabled by default
    and a user might enable it in the Configuration->Lists setup. However,
    as most mails today carry a suitable real name this option would hardly
    bring any benefit and may serve best in kept disabled.
  * misc: reworked/fixed a large portion of code due to a fix for bug #1251072
    where YAM wasn't able to correctly filter/find mails by a Reply-To:
    if the mail in question had multiple ReplyTo: addresses involved. The
    problem was, that YAM wasn't able to deal with "Reply-To:" header
    lines where more than one recipient was specified. The same applied also
    to "From:" headers where for multiple recipients wasn't checked as well.
    Somehow YAM didn't even allow to specify a "From:" address with multiple
    persons involved even if that is clearly allowed (see RFC2822)
    Unfortunately, that fix/change required a quite large amount of changes to
    make YAM aware of From:/Reply-To: header lines with multiple addresses
    in mind. Therefore, testers are highly encouraged to test all kind of
    mail forwarding/replying/re-editing as well as mail find/filter routines
    again, so that the adapted functions will be properly verified before the
    upcoming 2.5 release...

2006-06-25  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: updated according to the latest changes.

2006-06-23  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AttachmentGroup.c: fixed bug #1327203 where upon dropping a #?.info
    file as an attachment onto a workbench drawer, a separate .info file was
    also put beside the icon object. This more or less was redundant and not
    necessary. Unfortunately the used UpdateWorkbench() function seems to be
    only available on AmigaOS4 that's why YAM will only check on OS4 for the
    .info and then notifies the workbench afterwards so that the drawer will show
    the info file immediately. On all other systems the workbench drawer may
    require a simple refresh to show the icon.

2006-06-22  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadWindow.c: fixed bug #1374262 where YAM did close and dispose a
    read window on each "MUIA_Window_Open, FALSE" which in fact caused it to
    loose eventually opened read windows in case MUI itself instructs a read
    window to close due to a settings change.
  * classes/YAM.c: YAM will now listen for the MUIA_Application_Active attribute
    and set the application to sleep accordingly.
  * classes/MainMailList.c: fixed bug #1347064 where YAM didn't take respect of
    an addressbook resolved mail address when sorting the main mail list by
    the recipient/sender or by the ReplyTo address.

2006-06-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: reworked the WR_AddArchiveFunc() to be somewhat more clear and less
    error prone in case something goes wrong. In addition, the strsfn() use is
    now obsolete, hence our own implementation was removed from our sources. All
    in all, the "Pack & Add" functionality of YAM should now be a bit more safe
    and flexible.
  * YAM_WR.c: fixed bug #1412251 where YAM didn't output any warning to the user
    in case he tries to add a read protected file as an attachment.
  * misc: the folder, foldergroup and mail status-based highlighting is now
    user configurable in the hidden [Advanced] section of the YAM configuration.
    A user might now perfectly specify the soft-style which should be used
    in case a folder carries unread mail. The same applies for the mail
    highlighting in case a mail is considered to be new. Please note that
    this configuration is hidden on purpose as an ordinary user might not be
    interested in changing the defaults. However, in one of the next versions
    we might probably introduce a GUI based configuration as well.
    For changing the soft-style, YAM currently recognizes the following tokens,
    whereas they can be combined with a ':' char:

    b  - bold
    i  - italic
    u  - underline
    $X - where X can be between 2-9 and represents the pen number to use

2006-06-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: reworked the ExtractAddress() function to also take care of
    quoted and escaped realnames as well as realnames with multiple nested
    parenthesis.
  * classes/UpdateNotifyWindow.c: fixed an issue where in case an application
    was iconified while an update-notification window was opened caused the
    application to enter an endless loop if the application was signaled to
    un-iconify again.

2006-06-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: replaced all memcpy() uses in rfc2047_dec_callback() with
    memmove() as the src and dst areas may overlap under certain conditions
    which in fact may cause certain undefined problems. Thanks to Thore
    Böckelmann for reporting the issue as it certainly wasn't an easy bug
    to find.
  * italino.ct: updated italian catalog translation kindly provided by Luca
    Longone.

2006-06-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_TR.c, YAM_MAf.c: applied minor cosmetic optimizations/changes
    to the routines extracting a recipient address so that debugging of those
    related functions should be more easy and intuitive in case something
    goes wrong.
  * YAM_WR.c: fixed bug #1505424 where we did issue additional empty lines to
    the sender information and therefore left the mail content somehow
    malformed.
  * YAM_UT.c, YAM_FO.c: reverted the change on all our modal requesters where
    a modal requester will always be opened relative to the current mouse position
    which isn't as intuitive as I expected. In addition, the initial window
    position where the window is opened is now back to be fully under user
    control.
  * UpdateCheck.c: YAM will now also send information about all used third
    party library versions as well as all used MUI .mcc versions to the
    update server so that it may check if a newer version of that component
    is available and inform the user of that.
  * YAM_RE.c: fixed a minor issue which was introduced by the latest bugfix
    of bug #1464538 and caused YAM to throw "unexpected multipart" errors
    or didn't correctly extract all MIME information of a mail.
  * YAM_WR.c: fixed bug #1505068 where YAM didn't put MIME parameters which
    are not encoded into quotes and therefore might left a MIME parameter as
    invalid according to the RFC.
  * YAM_UT.c: minor rework of the CloneSearchPath()/FreeSearchPath() functions
    to make them more compliant to MorphOS/Ambient environments.
  * YAM_RE.c: fixed bug #1504359 and #1464538 where YAM did append additional
    phantom newline characters to mails with attachments and therefore caused
    problems with e.g. plain text attachments not fully matching the file
    which was attached by the sender.

2006-06-13  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes, plus
    some minor changes.

2006-06-09  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadMailGroup.c: fixed a minor bug in the header list compare hook
    definition which may caused an illegal access to a non-existing readmaildata
    structure due to the fact that the hook wasn't defined in each INST_DATA
    of a readmailgroup object.
  * UpdateCheck.c: fixed bug #1503244 where while parsing the received update
    data, YAM didn't strip eventually existing leading/trailing spaces.
  * YAM_MA.c: fixed a bug where quickly multiselecting mails might still have
    triggered that the embedded read pane was left with some content. This was
    caused by a missing stopping of an already existing READPANEUPDATE timer.
  * classes/ReadMailGroup.c: in case a ReadMailGroup object contains no content
    the context menu in question will be completly disabled now.
  * YAM_MA.c: minor optimizations to the MA_ChangeSelected() function.
  * YAM_UT.c: all modal requester windows in YAM will now have the same layout
    with a MUII_RequesterBack background and a Group object combining the
    actual requester content. That should make the function of the window more
    obvious and intuitive. In addition, modal windows will now always open at
    the current mouse position which should reduce the required time to move
    to the actual requester buttons.
  * YAM_FO.c: on a doubleclick at the folder listtree the edit folder settings
    window will always become the frontmost window.

2006-06-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed bug #1487409 where executing a command in synchron mode
    caused YAM to provocate a crash in dos.library due to freeing the PathNode
    specified with "NP_Path" value after the command manually.
  * YAM_AB.c, misc: fixed bug #1469130 where the addressbook search was
    slightly broken. In addition, the recursive use of AB_FindEntry() wasn't
    required at all, so it is now removed, which should slightly reduce
    stack usage on large addressbooks.
  * YAM_MA.c: fixed bug #806352 where the new menu shortcuts for the mail
    status changes rendered the shortcut for the 'Execute script' menu
    item of the main menu useless. In addition, slightly reworked the whole
    MA_SetupDynamicMenus() to act a bit more save on possible object
    creation failures as well as removed an unneeded strdup() which caused
    minor memory leaks to occur.

2006-06-07  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AddrBookListtree.c, YAM_AB.c: fixed bug #1032625 where manually
    sorting the addressbook was a hard job as well as searching through
    the addressbook didn't work as the user normally expected. Now an
    addressbook search is always a substring search instead.
  * classes/ReadWindow.c: fixed bug #1380548 where a subsequent use of a
    toolbar gadget caused the static Notify value to get overwritten.
  * src/YAM_EA.c: fixed bug #1458223 where in case a non image file had been
    specified as a user image, the UserImage class crashed. The same happend
    in case a directory was specified instead of a real image file.
  * src/YAM_MA.c, classes/ReadWindow.c, classes/ReadMailGroup.c: fixed a
    long-standing bug #724517 where the enable/disable status of some toolbar
    gadgets weren't quite consistent of what the read window and its
    menu items presented.
  * src/YAM_EA.c, misc: removed all user gallery download code as the photo
    download functionality is considered to be obsolete since we moved
    to a new main webserver and nowadays other mechanisms should be
    preferred to exchange images between users.
  * classes/Aboutwindow.c: added forgotten OpenURL link and description
    as a used third party component.
  * locale/YAM.cd, locale/*.ct: added the 'CC' and 'BCC' shortcuts to the
    respective gadget texts so that identification of those special fields
    is more intuitive and the standard way.

2006-06-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: enhanced the MIME type/file recognition routines to also try
    to identify a filename in case no user defined MIME type was found. This
    should fix problems where in case a mail contains attachments of content
    type "application/octet-stream" but the file extension suggests a valid
    and existing user defined MIME type, the defined MIME viewer didn't open.
    Now YAM will fallback to trying to identify the file type via the file
    extension in case no user defined type for the specified attachment
    content-type was found.
  * YAM_UT.c, YAM_MAf.c, Debug.c, YAM_COs.c: fixed all strpbrk() uses where
    we use the function as replacements of strtok() and did iterate not
    entirely conform.
  * YAM_MA.c, YAM_main.h: fixed a minor bug where not all menu items and
    toolbar gadgets were disabled in case a folder group is set to the
    currently active folder.
  * classes/ReadMailGroup.c, all: implemented request #1501579 and optimized
    the mail text and header display such that only the necessary areas will
    be refreshed instead of always the whole readmailgroup.
  * YAM_MAf.c: an enabled embedded read pane will now be automatically
    disabled in case a folder group is selected as the active folder. In
    addition, in case a real folder is reactived, YAM now also makes sure that
    it refreshes the read pane correctly with the last active mail of that
    folder.
  * Debug.c: fixed a minor bug in the env-variable parsing routines.

2006-06-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: a FolderRequest() window will now open with a relative height
    instead of always the minimum height.
  * classes/ReadMailGroup.c: if a user doubleclicks on the headerlist
    display, YAM will now switch between the "Short Header" and "Full Header"
    view respectively.

2006-06-02  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadMailGroup.c: the header display in a read window/group is
    now automatically sorted according to the order of the search tokens
    in the header name pattern field in the YAM read configuration. Please
    note that YAM will only sort the header display in the "Short headers"
    mode, which means a user must have enabled it to have the automatic
    sorting of the header display activated. This was a long overdue
    feature and might become handy to the end-user.

2006-06-01  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadMailGroup.c, classes/ReadWindow.c: finished up the new
    ContextMenu for the embedded read pane. Now a user can use the right
    mouse button on an embedded read pane and apply the similar operations
    via a context menu like he/she can do when using the standard menuitems
    of a read window.
  * YAM_COg.c, YAM_MAf.c: moved the PO_InitFolderList hook to YAM_COg.c
    where it belongs to be static only and removed the non-sense "Cancel"
    entry which was added per default. The popup can perfectly be
    canceled with the pop button instead which in fact is also more
    intuitive.
  * YAM_UT.c: fixed a .rodata access where the YAMMUIRequest() function
    did modify the supplied title and gadget text for parsing it correctly.
    Now it will use local buffers instead which should fix the crash bug
    in case no catalog file at all is used.
  * Makefile.#?: modified the makefiles to always generate binaries with
    full symbol information (-g) embedded and just strip the debugging
    relevant symbols on link time via the 'strip' tool. This should make
    bug reports from users definitly more transparent.

2006-05-31  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_UT.c, YAM_utilities.h: fixed bug #1496905 where the time
    and date expand string (%t) did return the time/date relative in UTC
    rather than in the actual timezone of the original message.

2006-05-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, misc: replaced the very last uses of the plain sprintf() in our
    FormatSize() function with calls to the buffer overflow safe snprintf().
    Now YAM should be completly sprintf() free and therefore a bit more stable
    against potential buffer overflows.
  * YAM_UT.c, misc: changed all DateStamp2String() and TimeVal2String()
    conversion routines to carry an additinal "dstlen" parameter which allows
    to use buffer overflow safe snprintf()-like functions.
  * YAM_RE.c: fixed parts of bug #1497278 where certain messages caused YAM
    to process a NULL pointer via strcmp(), causing an illegal access.

2006-05-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped the minimum required version of codesets.library to 6.2 as
    the new cyrillic auto-detection requires that version.
  * icons/std/#?.toolbar: updated all toolbar images to latest PNG versions
    supplied by Martin Merz.
  * ReadMailGroup.c: implemented a ContextMenu for the standard ReadMailGroup
    object which will be used for the embedded mail pane and which will
    implement all main mail related functionality a normal read window's menu
    will also provide. Please note that not all functions are implemented yet
    and that we need to rework some parts.
  * YAM_WR.c: fixed a bug in the recentyl revised MIME parameter encoding
    where an unencoded parameter was outputted without any parameter name.

2006-05-28  Jens Langner <Jens.Langner@light-speed.de>

  * misc: replaced the strtok() and strtok_r() use wherever possible with
    proper strpbrk() uses as strtok()/strtok_r() is known to be unsafe due
    to the fact that it modifies the content of its first argument. Therefore
    the use of strtok() is highly discouraged and it shouldn't be used
    in future anymore.
  * YAM_MI.c, misc: finally implemented the RFC2231 compliant MIME parameter
    encoding routine and changed the mail compose functions to use this new
    function rather than encoding MIME parameters via RFC2047. This in fact
    should now make YAM fully conform to RFC2231.

2006-05-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_utilties.h, misc: replaced the redundant ISpace() macro by the more
    standardized isspace() equivalent which should remove the confusion and
    mixed use of both functions/macros in the source code.

2006-05-26  Gunther Nikl <gni@gecko.de>

  * Updated fd files and MorphOS inline files.

2006-05-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: removed some obsolete functions and did some preparations for
    the upcoming RFC2231 encoding support.
  * UpdateNotifyWindow.c: the update notification window size and location is
    now fully under user control. That means a user can now save its position
    and size so that it remembers its position/size accordingly. In addition,
    the "Do not notify in future" checkbox should as well work as expected now.

2006-05-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: we limit the string gadget for specifying a MIME type/subtype
    to only accept valid characters which are [0-9][a-Z][+-/].
  * YAM_RE.c: removed some redundant rfc2047_decode() calls as we have a
    general rfc2047 decoding done in MA_ReadHeader().
  * YAM_MI.c, YAM_mime.h, YAM_RE.c: added RFC2231 MIME parameter decoding
    support. Now YAM will automatically identify if a MIME parameter contains
    a RFC2231 encoded sequence and decode it accordingly. Otherwise it will
    use the formerly only supported RFC2047 decoding even if that is not
    fully standardized - but it is common sense that many mail clients
    still encode MIME parameter with RFC2047 instead. Now only RFC2231
    encoding support is missing to have the whole MIME parameter encoding
    issue fixed.

2006-05-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed a minor memory leak where we didn't free the name
    component of each new content parameter.
  * YAM_MI.c: changed the internal "audio/x-mpeg" to use the IANA conform
    "audio/mpeg" instead.
  * YAM_RE.c, YAM_read.h: revised the MIME content value parameter parsing
    routine for the upcoming RFC2231 conform parameter decoding. The
    extracting of the parameter names and values are now done in the new
    ExtractNextParam() function which also perfectly takes respect of
    quoted strings. It should also reduce the number of required operations
    until we have separated the names/value of all MIME parameters. In
    addition, the whole "struct Part" CPar#? members are now dynamically
    allocated instead of modifying the ContentType member directly.

2006-05-22  Jens Langner <Jens.Langner@light-speed.de>

  * classes/MailTextEdit.c: there was no real reason to bother a user with
    an error requester if TextEditor.mcc failed a minor operation (e.g.
    no undo/redo was able due to the buffer borders.) Now YAM will issue
    a simple DisplayBeep() instead which should be more appropriate,
    especially if the user doesn't want to get interrupted during writing an
    email.
  * misc: readded the formerly removed cyrillic auto-detect codeset stuff
    after having added/revised the CodesetsFindBest() function in
    codesets.library. Now a new checkbox is available in the YAM config
    to select that cyrillic-specific auto-detect feature. If enabled,
    CodesetsFindBest() is used right before each CodesetsConvertStr() use
    to identify/guess the correct cyrillic codeset via codesets.library.
    Please note that this old/new feature is still highly experimental and
    requires a stil experimental 6.2 version of codesets.library. As soon as
    a cyrillic user verified that it works as expected, we will bump the
    mimimum required version of codesets.library to 6.2, of course.

2006-05-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: reactivated the statistical file content analysis right before
    we are going to ask datatypes.library for identifying a file. Now YAM
    will read the first 512 bytes of a file and try to do a statistical
    analysis on it for identifying if the file is a binary or text file.
  * YAM_MI.c, YAM_mime.h, YAM.cd: added a whole bunch of additional,
    internal MIME types together with their known file extensions. This
    should hopefully increase the flexibility of YAM in case a user hasn't
    configured all MIME types on his own.
  * misc: moved the hardcoded, internal list of MIME types to YAM_mime.h,c
    and unified the previously two structures into one. Also reworked the
    mechanism on how the internal MIME types are searched for identifying
    a certain file. In addition, the popup lists in the configuration and
    write window will now also take respect of that change and especially
    the write window will now show a complete list of MIME types either
    the internal (hardcoded) or the user defined one.

2006-05-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: revised the automatic identification of the content-type of a
    file and adapted the routines to the new IdentifyFile() API.
  * YAM_UT.c, YAM_RE.c: fixed a crash bug in the recently reworked mimetype
    identification routines. In addition, the RE_DisplayMIME() function will
    now only use IdentifyFile() in case the supplied content-type is NULL or
    empty as the function is only for identifying a missing content-type which
    only rarely happens nowadays.
  * misc: reworked the whole MIME type management/recognition to work more
    intuitive by first scanning the user definable MIME type list, then falling
    back to try to identify a file via internal methods and last by using
    datatypes.library for querying general file information to construct an
    artifical MIME type as a fallback. In addition, the previous limit of a
    maximum of 100 user definable MIME types was removed. Now a user might
    specify an unlimited amount of MIME types in addition to specifying a short
    description for each type which will be later displayed right beside an
    attachment file. Also removed the obsolete "IdentifyBin" option which just
    caused confusion and wasn't particular usefull.
  * locale/YAM.cd: renamed the various "Extension" uses by "File Extension",
    which definitly is a better naming for it. Translations should adapt to
    that change.

2006-05-19  Alexandre Balaban <abalaban@free.fr>

  * locale/francais.ct: updated according to the latest changes.

2006-05-16  Jens Langner <Jens.Langner@light-speed.de>

  * UpdateNotifyWindow.c: made the NFloattext which displays the changelog to use
    MUIV_Font_Fixed instead so that a preformatted changelog will show up more
    structured.
  * YAM_global.c: the __YAM_BUILDID define doesn't have to carry any leading "-"
    sign anymore. This should make the updatecheck script less complicated and
    more intuitive.

2006-05-15  Jens Langner <Jens.Langner@light-speed.de>

  * UpdateCheck.c: finalized the updatecheck mechanism together with the updated
    nightly build script and PHP-based updatecheck mechanism. Now YAM should
    automatically inform a user in case a newer version is set to be available
    on the main update server http://update.yam.ch/

2006-05-12  Jens Langner <Jens.Langner@light-speed.de>

  * UpdateCheck.c, UpdateNotifyWindow.c: reworked the whole update protocol once
    more to be compatible to the new PHP-based update script which is still under
    development and will notify YAM about latest software updates.

2006-05-03  Gunther Nikl <gni@gecko.de>

  * src/VMakefile, src/smakefile: Update.

2006-04-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: fixed a bug in the filter configuration GUI where on systems
    without any defined filters, the "Compare" register didn't correctly layout
    and therefore caused trouble in the whole YAM configuration GUI handling.
  * classes/UpdateNotifyWindow.c, UpdateCheck.c: added a new Update notification
    window which will be used to display a list of found components where newer
    updates are available after having checked via internet. Please note, that
    the automatic notification is still disabled as we are still not 100%
    finished. Please keep patient, its almost finished...
  * YAM_UT.c: added an URL_NewWindow to our URL_Open() call for using openurl
    which in fact will force it to always open an URL in a separate browser
    window.
  * misc: replaced all SimpleButton() uses by our own MakeButton() function
    as the MUI's SimpleButton() doesn't specify any CycleChain and therefore
    make it harder to navigate by keyboard through the various GUI objects
    in a window.

2006-04-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: adressed bug #1464538 once more as I didn't fix the reported
    problem of disappearing newlines at the end of a mail in all cases. In
    fact, the issue wasn't that particular easy like I first thought. The main
    fix of the problem lies in the RE_ConsumeRestOfPart() function where we
    have to use fgets() directly instead of GetLine() so that we can find out
    if we have to add a newline to our raw mime part files or not. Now that
    long-standing issue of disappearing/reappearing newlines at the end of
    re-edited mails should hopefully finally be fixed.
  * YAM_RE.c: messages with inlined uuencoded text will keep it when the mail
    will be re-edited, rather than converting it into a proper MIME attachment.
  * YAM_WR.c: YAM allows the user now to also directly insert a file as an
    UUencoded text passage within the write window via a new menu entry. This
    should make life easier for people wanting to inline a UUencoded file in
    their actual message part in case they are not able to use the normal MIME
    attachment routines of YAM (e.g. due to a mailing list stripping all
    additional MIME parts). However, please note that inlining UUencoded text
    within the main text part of a mail isn't particular standardized and its
    up to the mail clients to decide what to do with it. Therefore, inlining
    UUencoded text should always be considered wisely and should never be
    necessary under normal conditions. But it may become handy in case all other
    attachment methods fail even if other mail clients may simply ignore those
    inlined attachments.

2006-04-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: fixed bug #1470662 where we forgot to ghost some gadgets in case
    the optional SMTP-AUTH settings are disabled by the user.
  * YAM.c, UpdateCheck.c, misc: added a new timer for supporting the new online
    update-check facility. Now, YAM will automatically check for updates in
    case the predefined update-check interval is due. It will then check for
    update via internet - however, it will still not notify the user in case
    there are updates available as we still have to do some work on that stuff.

2006-04-21  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: updated according to the latest changes.

2006-04-20  Jens Langner <Jens.Langner@light-speed.de>

  * misc: added&changed some more code for the upcoming routines to perform
    a direct and more advanced update check via internet. Please note that we
    are still not finished and currently nothing will happen.

2006-04-19  Pär Boberg <pbobbenb@spray.se>

  * locale/svenska.ct: made some very minor changes

2006-04-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_utilities.h: revised our own "struct TimeVal" fallback structure
    definitions to also be defined on older OS4 SDK's.
  * locale/svenska.ct: updated swedish catalog translation kindly provided by
    Pär Boberg.

2006-04-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COs.c: worked around bug #1469136 which occured with MUI 3.8 system
    and where it did happen that portions of the TCP/IP configuration page
    didn't get correctly enabled.
  * YAM_TR.c: fixed bug #1418384 where the network interface online check
    routines were broken and always returned that the interface is up&running
    even if it wasn't. Also enhanced the routines a bit and implemented
    specific interface checking routines based on the bsdsocket v4 interface
    used by the RoadShow TCP/IP stack.

2006-04-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_UT.c: removed our own strtok-alike "StrTok_r()" function
    and replaced it by the standard, reentrant "strtok_r()" wherever
    appropriate.

2006-04-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #1464538 where upon editing a mail in the outgoing
    folder lead to always stripping the very last linefeed character and
    therefore malformed the original mail.
  * YAM_MI.c: fixed a bug in the strippedCharsetName() function where we did
    truncate the charset name under certain situations.
  * YAM_UT.c: added proper "SYS_Error" specifications to all our SystemTags()
    calls so that the error output filehandle is correctly specified on OS4
    as well.
  * Makefile.os4: set 'newlib' as the new default C runtime library for the
    native OS4 builds. Future versions of YAM for OS4 will expliclitly use
    newlib.library instead of clib2 from now on. However, clib2 builds are
    still possible by overriding the "CRT=" option of the makefile.
  * YAM_TR.c: slightly reworked the buffer management for the DIGEST-MD5
    authentication method. Apart from the more robust buffer management
    this change should also fix a buffer truncation due to the recent change
    from sprintf->snprintf.

2006-04-04  Jens Langner <Jens.Langner@light-speed.de>

  * misc: changed all "struct timeval" uses by "struct TimeVal" and
    introduced an own definition of it to YAM_utilities.h. That way future
    clashes of the POSIX' "timeval" and the new AmigaOS' "TimeVal" should
    be prevented and make it now possible to compile for clib2 and newlib
    out-of-the-box.

2006-04-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: added some first non-functional GUI elements for the new
    upcoming update-check facility. more to come...
  * YAM_RE.c, classes/AttachmentGroup.c: fixed a bug in the 'SaveAll'
    attachment export routines, where YAM didn't allow to save all
    mail attachment parts if the mail in question just contained an
    attachment as its major mail part.
  * YAM_TR.c: fixed a minor bug in the preselection window's display hook
    where all mail sizes > 0 were flagged as being highlighted due to a
    warning size even if it was set to zero in the configuration.

2006-04-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, classes/WriteAttachemntList.c, classes/ReadWindow.c,
    classes/AttachemnetGroup.c, classes/Recipientstring.c,
    classes/Splashwindow.c: changed all DisplayBeep() uses to just work
    on the Screen YAM is actually running wherever possible.
  * classes/AttachmentImage.c: fixed a bug in the Attachment Drag&Drop
    operations where YAM did even perform a workbench drop operation in
    case it was running on its on screen. Now it will skip that operation
    instead.

2006-04-01  Jens Langner <Jens.Langner@light-speed.de>

  * misc: replaced all strcat() uses by proper buffer-overflow safe
    strlcat() function uses.
  * YAM_MA.c, YAM_MI.c, classes/YAM.c, classes/AttachmentImage.c, YAM_CO.c,
    YAM_UT.c, YAM_FI.c, YAM_MAf.c, YAM_RE.c, YAM_TR.c: replaced all error
    print strncpy() uses by its buffer-overflow safe strlcpy() counterpart.
  * ReadWindow.c, MainMailList.c, YAM_UT.c: replaced all strncat() uses
    by strlcat().
  * misc: replaced all strcpy()/stccpy() uses wherever possible by
    the more robust and buffer-overflow safe strlcpy() function use.
  * STYLGUIDE: updated the coding styleguide to mention that certain
    functions known to cause buffer overflows are considered obsolete and
    should be replaced by proper buffer overflow safe variants.

2006-03-31  Gunther Nikl <gni@gecko.de>

  * src/VMakefile, src/smakefile: Update.
  * src/extrasrc/dice.c: Remove unused stubs.

2006-03-30  Jens Langner <Jens.Langner@light-speed.de>

  * misc: replaced all possible sprintf()/vsprintf() uses by their buffer
    overflow safe variants snprintf()/vsnprintf(). This should hopefully
    make some passages a bit more crash robust as often sprintf()/vsprintf()
    is to blame when it comes to possible buffer overlow conditions.
  * Debug.c, Makefile.os4: reworked the _DPRINTF() debugging function to
    not use any KPutFmt() function anymore so that the obsolete (on OS4)
    libdebug.a link library is not required anymore.
  * YAM_UT.c, misc: modified our own MUI_Request() replacement function
    to always make sure the application will be automaticall uniconified
    in case a requester is raised by YAM. This should fix the issue where
    upon starting YAM with "HIDE" didn't popup any warning/error requester.
  * YAM.c, classes/YAM.c: moved the G->HideIcon loading routines to the
    main application object' initialization routine. That way YAM might
    immediately use the icon instead of setting it during runtime.

2006-03-29  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c: modified debugging output to always output messages of class
    DBC_ERROR and DBC_WARNING.
  * YAM_MA.c: fixed bug #1431331 where a hold mail with an empty body, but
    with an attachment couldn't be reedit in the outgoing folder.
  * classes/MainMailListGroup.c: fixed a bug where upon switching to
    the quicksearch maillist the mail listview couldn't be controlled with
    the keyboard anymore.
  * YAM.c: fixed a recently introduced bug where the default AppIcon when
    iconifying YAM wasn't set to the YAM diskicon anymore.
  * YAM_global.c,YAM.c,YAM_UT.c,YAM_FI.c,YAM_MAf.c,YAM_TR.c: reverted most
    of the "#if defined(__NEWLIB__)" uses as YAM can now be compiled with
    newlib since we don't use our own netincludes anymore.
  * include, Makefile: moved the bsdsocket based netincludes to a
    subdirectory of our private include path. This makes it possible now
    to use the standard OS4 SDK's netincludes instead of our own ones
    by just ommitting to add -I./include/netincludes to the makefiles.
    This should also hopefully fix the 'struct timeval' issues when comping
    YAM with newlib.

2006-03-28  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile.os4,YAM_global.c,YAM.c,YAM_UT.c,YAM_FI.c,YAM_MAf.c,YAM_TR.c:
    added support for making it possible to compile YAM for AmigaOS4 with
    newlib runtime library support. However, please note that per default
    YAM will still be compiled with clib2 for OS4 until we sorted out
    every bit and byte of the newlib compatibility. But at least for testing
    purposes compilation with newlib support might be a good idea and we
    therefore temporarly keep all those "#if defined(__NEWLIB__)" defines.

2006-03-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: increased the minimum required version of codesets.library to
    6.1 to prevent users from using an older, buggy and not supported
    version anymore.

2006-03-27  Gunther Nikl <gni@gecko.de>

  * src/VMakefile, src/smakefile: Update.

2006-03-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: minor cosmetic source change more properly dealing with
    using the output buffers.
  * YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM.c, locale/YAM.c: a manual override
    of the timezone and DST settings is now possible even if locale library
    and/or an AutoDST tool was found active. That way a user might perfectly
    override the autosettings of YAM. However, in case YAM finds a difference
    in the YAM config setup compared to the system's default settings it will
    popup a warning requester to the user, reminding him of the difference,
    asking how to proceed. This should make the timezone/DST setup a bit more
    intuitive than just disabling the cycle/checkbox, especially in case a
    user wants to override the system's defaults.

2006-03-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: modified the base64encode_file() routine to make sure it
    doesn't add a redundant newline character to the end of the base64
    encoded text making the MIME encoding a bit more slim.
  * YAM_WR.c: slightly altered the default pattern for generating the
    MIME boundary ID. By adding 2 additional "-" chars to the front the
    probability of malforming/misinterpreting the boundary border should be
    limited. In fact, using this kind of pattern should be more 'standard'
    like what we generated before.
  * YAM_MI.c: fixed a bug in the RFC 2047 encoding routines where we did
    issue a CRLF sequence in case our encoded string gets passes the maximum
    allowed length defined in the RFC2047 standard. Please note that even if
    the standard clearly defines "CRLF<SPACE>" as the proper separation char
    sequence, using just "LF<SPACE>" is definitly better as otherwise clients
    may get confused and think that this sequence is the sign of a starting
    body text, resulting in a malformed mail display. So using just an LF
    seems to be definitly more appropriate here and should fix the reported
    problems where mails from YAM show up malformed on Outlook&Co.
  * locale/italian.ct: update italian catalog translation kindly provided by
    Luca Longone.
  * locale/francais.ct: updated french catalog translation kindly provided by
    Alexandre Balaban.

2006-03-21  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AddrBookListtree.c, classes/StatusIconGroup.c, classes/InfoBar.c,
    classes/MainMailList.c, classes/TransferMailList.c, MainFolderListtree.c,
    misc: moved all MakeImageObject() creations into the corresponding instance
    data of the objects they belong to. This should not only make things
    cleaner, it should also fix a recent bug where we did reuse a very same
    instance of ImageAreaObject in multiple objects causing images not to
    be visible at all. Also adapted all related source accordingly.

2006-03-20  Jens Langner <Jens.Langner@light-speed.de>

  * ImageCache.c, YAM.c: moved the initialization of the image cache back
    after the initialization of the root object. That way eventually required
    warning requester would use MUI instead of intuition.library.
  * locale/YAM.cd, YAM_CO.c: added a BusyText() call to the configuration
    window setup routines to inform the user that configuration popup may
    require some time.
  * YAM.c: fixed a minor bug where upon trying to start YAM twice the
    second instance crashes caused by an uninitialized xpkPackerList.
  * icons/std/status_group: slightly improved the transparency looking of
    the "group" status image.

2006-03-19  Jens Langner <Jens.Langner@light-speed.de>

  * icons: converted all default config_#?, status_#? and folder_#? images
    to the PNG file format and set the transparency of all files correctly.
    Please note that the PNG file format should from now on be considered the
    default image format for the internal images of YAM:Icons. So please all
    image/icon designers adapt your image files accordingly.
  * Debug.c,h: added new DBF_IMAGE debug flag.
  * classes/BodychunkImage.c: removed because new ImageArea class replaces
    it.
  * classes/ImageArea.c: implemented an new image class which is derived from
    MUIC_Area and uses the new datatypes-based ImageCache facility for
    loading/requesting all different image files required in YAM. In fact,
    this new imageclass/cache facility is based on some code kindly taken
    from SimpleMail and allows Users now to use all kind of image file formats
    (PNG, JPG, etc.) in YAM:Icons instead of just plain ILBM files. Now all
    image data will be loaded via datatypes.library instead of loading it
    manually which also had some drawbacks in terms of transparency support
    and such. However, successfull loading of the image data is therefore
    also now dependent on the correct installation of the datatypes system.
  * ImageCache.c, misc: implemented a new datatypes.library based image
    cache facility which provides functions to load images via datatypes
    library and caches its datatype object in case a second instance will
    be requested.
  * extrasrc/genclasses: minor cosmetic changes to the generated source
    layout.

2006-03-14  Jens Langner <Jens.Langner@light-speed.de>

  * charsets: removed all charset translation files as they are now
    obsolete since the use of codesets.library.

2006-03-13  Jens Langner <Jens.Langner@light-speed.de>

  * misc: adapted all relevant source code to the new tabulator char
    forbit rule from our coding styleguide.
  * STYLEGUIDE: added a new developer document explaining the various
    coding styles used in the source code of YAM. Every YAM developer
    should definitly read at least once through the document and
    adapt his coding style to the one described in the document.
    Especially the rule on using TABs (0x09) characters should be
    mentioned here as we had too much trouble in the pasted with them
    and therefore consider them forbidden within our code.

2006-03-12  Alexey Ivanov <AmiS@amiga.org.ru>

  * src/YAM_utilities.c, src/YAM.c, src/YAM_UT.c: removed some unused
    code.

2006-03-12  Jens Langner <Jens.Langner@light-speed.de>

  * src/YAM_CO.c, src/YAM.c, src/YAM_COg.c: updated the config
    images with new versions kindly provided by Martin Merz. Also
    added a bunch of new larger config images which will be
    displayed in parallel to the small ones in the YAM config
    window. However, please note that these images are still under
    construction and work in progress. However, they should give
    a first grasp look on design changes which YAM is currently
    undergoing.
  * src/YAM_CO.c, src/YAM_COg.c: added a new 'update' preferences
    page to the configuration window which will be used for the
    upcoming "update check" facility to directly check for
    version updates.
  * src/YAM_CO.c: implemented a warning requester for warning the
    user in case no correctly installed AmiSSL v3.5+ installation
    was found during startup. Then either the user may exit
    immediately or ignore the warning. This should make the switch
    from AmiSSLv1 to v3 more obvious.

2006-03-11  Jens Langner <Jens.Langner@light-speed.de>

  * src/YAM.c, src/YAM_TR.c: now that AmiSSL v3 is also available
    for m68k machines, we adapted YAM to the new AmiSSLv3 SDK and
    dropped the AmiSSLv1 support. However, minor changes will be
    needed to address things like certificate checking and such in
    future.

2006-03-10  Jens Langner <Jens.Langner@light-speed.de>

  * src/YAM.c, src/YAM.h, src/YAM_COg.c, src/Debug.c, src/Debug.h:
    moved the XPK packerlist loading routines to startup of YAM.
    This should hopefully speed up the popup of the configuration
    window now that all page groups are directly generated rather
    than loading it on display of each page.


2006-03-05  Jens Langner <Jens.Langner@light-speed.de>

  * locale/italian.ct: updated italian catalog translation kindly
    provided by Luca Longone.
  * YAM_UT.c: added #?.msg extension to the recognized extension
    for a mail import requester.
  * misc: now that sf.net supports subversion repositories we
    switched our whole repository from CVS to SVN and restructured
    our directory layout. In fact, now that we are using
    subversion, we are finally able to move files and directories
    without loosing history. All in all, by using subversion, our
    project should be more manageable now.

2006-03-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_COg.c: did some more cosmetic changes to the
    configuration window of YAM. Now a subtitle will be shown on
    each configuration pane together with a short descriptive
    text on the actual subject of the shown pane. Please note
    that we will also add a small icon/image to that subtitle
    as soon as we have received them from our favourite image
    designer, Martin Merz :)

2006-03-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c,YAM_MI.c,YAM_WR.c: fixed a bug in the localCharset
    routines when generating/reading mails which codeset names
    containing whitespaces. Now YAM will strip them accordingly.
  * YAM_CO.c: removed the on-the-fly config pane generation and
    exchange mechanism via MUIM_Group_InitChange() because this
    was the reason for the window messup which occurred to the
    config window while switching preference panes. Also slightly
    did some cosmetic changes to the configuration window to make
    it look more consistent and doesn't mix up the NListview.
  * classes/Aboutwindow.c: added FlexCat and 'flex' to the list
    of used third party tools.

2006-02-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: non-mulipart mails containing only one not printable
    mail part (e.g. a jpg attachment) didn't make the attachment
    group show up and therefore seemed to be just empty. YAM should
    now treat these mails correctly and also show the attachment
    icon as soon as the mail is selected. However, we are only
    able to identify such mails as mails containing attachments
    right at the time when we load it (user selects it) - therefore
    the attachment icon will still not be shown right after the
    mail was received or the index was rescanned.

2006-02-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: merged the two separate content parameter parsing
    routines as they are used more or less equally.
  * YAM_RE.c: dropped the unused 'JunkParameter' member of the
    multipart structure as the purpose of it is really doubtable.
  * YAM_RE.c: fixed a minor memory leak where we forgot to free
    the allocated unquoted copy of each mail boundary string.
  * YAM_WR.c: updated the static warning texts include the MIME
    information as well as the PGP information text.

2006-02-25  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Aboutwindow.c: updated About window to carry an updated
    list of third party components used by YAM.
  * YAM_COs.c: an application signature will now be written to each
    saved config file to make it easier to identify which version
    generated the config file.
  * misc: dropped the "Codepage Autodetect/Translation" functionality
    from YAM as it should not be required anymore since the use of
    codesets.library. The library may be the better choice for adding
    such properitary codepage translation routines. YAM should now be
    able to automatically identify the correct charset/codeset and
    convert/translate into the local charset if necessary.
  * YAM_RE.c, YAM_MI.c: dropped the whole "x-www-form-urlencoded"
    content-type related decoding routines as they seem to be somewhat
    never used and there exist no RFC where such a content-type is
    mentioned in combination with email. This seems to be a content-type
    for HTTP transfers only. So we are better off saving the processing
    time than supporting a content-type that is never really used in
    emails.
  * YAM.c: changed the warning/error requesters in case a library was
    wasn't found or was found to be of an old version. Now YAM will also
    advice the user to visit the correct webpage for updating/installing
    the library. This should make YAM even more intuitive as the user
    just have to visit the webpage for installing the component.
  * misc: dropped the whole manual 'TranslationTable' functionality in
    favour of a much more sophisticated use of the newly available
    codesets.library. (http://www.sf.net/projects/codesetslib/)

    Now, YAM will do all the common charset translation/conversion
    automatically without having the user to create a very own translation
    table. This and the use of codesets.library enables YAM now not only
    to perfectly decode UTF-8 mails to the local charset for display.
    But also provides direct conversions between codesets like ISO-8859-1
    and KOI8-R fully automatically. However, in case a charset isn't
    internally supported by codesets.library, a user may still generate
    an own charset translation table file in a standarized format and
    put it into the PROGDIR:Charsets directory.
    (see: http://www.unicode.org/Public/MAPPINGS/)

    NOTE: Please note that this change renders _ALL_ previously stored
    translation tables from PROGDIR:Charsets obsolete! So either users
    remove them manually, or YAM simply ignore them from now on

2006-02-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: replaced the unput() uses in our ParseEmailText()
    function with calls to yyunput() instead. This in fact should fix
    problems with the latest version of flex 2.5.31.
  * includes: updated all OpenURL dependant includes with the very
    latest ones.
  * extrasrc/NewReadArgs.c: replaced all AllocVec/FreeVec uses by
    the more general malloc/free combos.
  * locale/francais.ct: updated french translation according to
    patch #1407592 with some minor modifications/updates.

2006-01-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: replaced the AllocMem/FreeMem uses to allocate and free
    resources for the multiple TimerIOs in YAM with calls to
    AllocSysObject/FreeSysObject if compiled for AmigaOS4. These
    functions should give the OS a better way to free the data in case
    the application crashes.

2006-01-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #1413103 where importing of certain DBX files
    caused the '\r' stripping routines to fail and cause YAM to eat up
    all memory.
  * YAM.c: modified the DoStartup() function to be compatible to the
    general SMTP-after-POP3 behaviour of YAM in case bot SMTP and POP3
    during startup is selected.
  * YAM_TR.c: replaced the NOOP command use for the POP3 KeepAlive
    messages by the STAT command. The NOOP command seems to be ignored
    by some POP3 server and therefore STAT may be the better choice to
    keep the POP3 from dropping a connection.

2006-01-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #1258940 where using the Export function on
    folder groups caused YAM to crash.
  * YAM.c: removed the temporary local event loop which is used during
    startup if preselection of mails is the selected transfermode. It
    prevented that the KeepAlive interval also worked on the very first
    mail check operation in case mailchecking during startup was enabled.
    Now the main event loop will manage all that stuff instead.
  * YAM_TR.c: implemented a POP3 KeepAlive facility which makes sure that
    a POP3 server doesn't drop a connection while the preselection window
    is in use. In fact, a timer is now issued as soon as the preselection
    window is open and will send 'NOOP' commands in a predefined and
    configurable interval (30s per default) to let the POP3 server know
    that the client is still listening.
  * YAM_MA.c: modified MA_ChangeSelectedHook/Func to check if the previously
    selected mail is the same one and if so doesn't issue any mail info
    and embeeded read pane update. This should eliminate some unnecessary
    readpane updates in case a mail is viewed while somethin in a folder
    changes.
  * Aboutwindow/Splashwindow: updated the about and splash window
    accordingly to the latest copyright catalog changes.
  * locale, YAM_global.c: splitted the copyright information text formerly
    placed in each single catalog translation into a part that stays in
    each translation, but the actual copyright text and years are now
    internal strings only like it should have been right from the start.
  * locale/deutsch.ct: updated the german catalog to match the very latest
    YAM.cd changes.

2006-01-20  Jens Langner <Jens.Langner@light-speed.de>

  * locale/italian.ct: updated italian catalog translation kindly provided
    by Luca Longone.
  * YAM_RE.c: fixed a bug in the ConsumeRestOfPart() function where it couldn't
    deal with messages containing "\r\n" sequences instead of just plain
    "\n" ones.
  * Debug.c,h: added DBF_IMPORT debugging class.
  * YAM_TR.c, YAM_MA.c: reworked the whole mail import routines of YAM to be
    more robust and borrowed some code passages from SimpleMail to import
    DBX compliant mail files. Now YAM is able to import raw mail archives
    generated by 'Outlook Express'. In addition, the import routines also support
    importing of plain RFC822 mail files containing only single messages. Overall,
    this change should greatly improve the import facility of YAM.
  * YAM_TR.c, YAM_MA.c: removed the transfer-only variables of 'struct Mail' and
    put them into a separate 'struct MailTransferNode' structure which we
    manage in exec lists. This should save some RAM and hopefully increases the
    stability of the transfer/import functions of YAM in general.

2006-01-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c: locale/#?.ct,cd: removed all \e8 color specification ocurrances in
    all NList title texts as they seem to overwrite the default ones a user
    might have set via the NListviews settings. See bug #1365834.
  * locale/francais.ct: updated french catalog kindly updated and provided
    by Jean-Marie COAT.

2006-01-09  Jens Langner <Jens.Langner@light-speed.de>

  * housekeeping: bumped the copyright year to 2006 now that a new year has
    begun. Lets see how fast we can proceed this year so that we will see
    a new full release hopefully in Q1 of 2006.

2005-12-17  Jens Langner <Jens.Langner@light-speed.de>

  * classes/MainMailListGroup.c: now the column widths of the normal mail list
    is always copied over to the quickview one and vice versa. This should sync
    both listview a bit better and also fix the problem where one objectID for
    both listview's caused problems in permanently saving the column width.

2005-12-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_RE.c, YAM_rexx_rxif.c, classes/ReadWindow.c: fixed another
    bug in the Arexx command window handling code which caused that a mail
    which was previously opened with an Arexx command couldn't be opened
    in a separate read window anymore.
  * classes/AttachmentGroup.c: fixed a possible crash bug which occurred when
    using Arexx functions to open a readwindow in "QUIET" mode. There the
    group was querying _font(obj) which in fact wasn't valid at that time.

2005-12-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: another minor twirk to the URL recognition routines of
    YAM. Now it also successfully recognize URI locators ending with a "=".

2005-12-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: fixed bug #1369169 where an URL with a hexadecimal
    escape sequence at the end wasn't correctly identified as such.
  * YAM.c,YAM_CO.c,YAM_global.c: fixed bug #1378621 where we did incorrectly
    use "Application" instead of "ApplicationBase" for the basetype of
    application.library. This caused the compilation to fail with the public
    OS4 SDK available.
  * YAM_MI.c: fixed a serious bug in the uuencoding/decoding routines where
    we used way too small buffers for handling uuencoded text. This caused
    memory areas to be overwritten, resulting in an unstable/crashing YAM.

2005-12-11  Jens Langner <Jens.Langner@light-speed.de>

  * locale/YAM.cd, locale/cleanup.sh: added a small shell script
    for searching for orphaned catalog strings in the YAM.cd file. It will
    automatically strip these orphaned strings off the YAM.cd file causing
    the resulting binary of YAM to be significantely smaller afterwards.
    Please note however, that the script still needs to be adapted to also
    search through the *.ct files, stripping off not required strings.
  * YAM_RE.c, YAM_MI.c: YAM will now display even partly base64 decoded MIME
    parts if they are considered as readable text. This may be the case
    where base64 encoded mail parts have been malformed. However, YAM will
    throw out a warning to the user to let him know that not everything
    of the mail may show up (correctly).
  * YAM.c: bumped minimum required version of TextEditor.mcc to 15.17 to
    make sure the users don't use a buggy version of TextEditor.mcc
    causing unnecessary bugreports to be sent to the YAM project.

2005-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: as some mail clients seems to misinterpret RFC 2045 and send
    mails with a content-transfer-encoding of type "plain", YAM always
    throwed an error about that. Now YAM will interpret that as a 7bit
    encoding instead and keep silent.

2005-11-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_FO.c: fixed minor bug in the DisplayAppIconStatistics()
    function where no folder statistics where calculated when the workbench
    AppIcon was disabled and just the docky icon was active.
  * YAM.c, misc: YAM is now using application.library v50+ in case it
    is compiled for and running on AmigaOS4. It automatically registers
    to application.library upon startup which will bring up a DockyIcon
    in AmiDock if enabled. Also the WorkbenchAppIcon mode can now be
    explicitly enabled and disabled upon user request. YAM should
    also take respect of certain application.library messages like
    Quit, ForceQuit, NewDoc, etc. and react upon them. Overall, this
    should give a way better OS4 integration.

2005-11-23  Gunther Nikl <gni@gecko.de>

  * YAM.c, YAM_CO.c, YAM_FI.c, YAM_MA.c, YAM_MAf.c, YAM_MI.c, YAM_RE.c,
    YAM_TR.c, YAM_UT.c, YAM_WR.c, classes/AttachmentGroup.c,
    classes/InfoBar.c, classes/MainMailListGroup.c,
    classes/QuickSearchBar.c, classes/ReadMailGroup.c,
    classes/Recipientstring.c: Fix spelling errors.
  * VMakefile: Add MainMailListGroup.o and QuickSearchBar.o to $(CLASSES).
  * smakefile: Likewise.

2005-11-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, QuickSearchBar.c: fixed a minor bug in the main window's
    hotkey management where even on an active QuickSearchBar search
    string, the folder was changed if a numerical key has been pressed.
  * YAM.c: cleaned up the INITLIB() macro to make it possible to use
    other interfaces than just the main interface of an OS4 library.
    Also slightly cleaned up the InitLib() function and removed the
    obsolete close argument.
  * YAM_utilities.h: replaced strncpy() usage with memcpy() which might
    be faster in that case.

2005-11-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed a minor bug in the quoted-printable encoding
    routines.
  * classes/QuickSearchBar.c: implemented the missing "To or Cc" and
    "Entire Message" search modes and also added a new "Find In Message"
    mode which just searches in the actual mail content without headers.
  * classes/MainMailListGroup.c: fixed another bug in the maillist
    switching procedure, where it might have happened that upon a switch
    no mail was flagged as being Active&Selected. Also revised all
    classes to properly use TAG_IGNORE in the OM_SET method to signal
    certain tag values to be ignored by the supermethod call afterwards.

2005-11-12  Jens Langner <Jens.Langner@light-speed.de>

  * classes/MainMailListGroup.c: when switching the QuickSearchBar back to
    'normal' mail view mode, YAM will now ensure that the mail that was
    last active will be the new active one again.
  * YAM_mail_lex.l: fixed bug #1346784 where the HOSTNAME flex pattern was
    slightly wrong and caused the URL highlighting to fail and misinterpret
    text with "ftp" and "www" as URLs.
  * classes/QuickSerchBar.c: make sure that on a MUIA_Disabled really only
    the necessary GUI elements are disabled/enabled.
  * extrasrc/genclasses: fixed the hash generation code for 64bit systems
    which caused the automatic tag generation code to fail and generate
    a defective YAM when compiled on 64bit systems. Also modified the whole
    tagvalue generation code to just generate tag values that are between
    TAG_USER (0x80000000) and the MUI's one (0x80010000) because otherwise
    we might run into problems.

2005-11-11  Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed/removed another bunch of unnecessary casts due to the
    continously fixed OS4 SDK.
  * classes/QuickSearchBar.c: finalized a first working version of the
    new 'QuickSearchBar' which should mimic the same behavour than the
    main window's search bar in Thunderbird. It allows to quickly select
    view and search criterias for displaying mails of a folder. This way
    large portions of mails shoule be more easily manageable in YAM as
    the search and view routines allow to only display mail that matches
    these criteria. Later on the criterias may be user defineable like
    in Thunderbird, but for the moment the predefined critera should do.
    Pleas note however, that not all criterias are yet completly
    implemented, especially the "Entire Message" and "To Or Cc" search
    criteria as they might require some more work as we have to actually
    load the whole mail instead of just checking the folder index data.
    Also this new functionality might not act as expected right from
    the start, so if you encounter any problems/flaws please let us
    know ASAP. In addition, please note that this might be the last
    big change before a stable 2.5 release. Next we will concetrate on
    bugfixed/minor stuff which is required for the final 2.5 release.
  * misc: moved certain functionality from our old code passages to the
    new classes system, wherever possible. In 2.6 we definitly have to
    get rid of most of the old code and port it to the new internal
    MUI classes system as this is now definitly an error prove path
    which should get YAM more and more stable/flexible as we move on.

2005-11-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: adapted the search window to use the new MainMailList
    class instead of directly using NList and adapted the GUI to not
    automatically select the currently active mail in the main
    window. This has to be done on an explicit request now.

2005-11-06  Jens Langner <Jens.Langner@light-speed.de>

  * extrasrc/genclasses: exported text will now be placed before the
    generated MUIP structures because it may contain type definitions
    required by the MUIP structures.

2005-11-05  Jens Langner <Jens.Langner@light-speed.de>

  * classes/MainMailList.c: moved the Display&Compare Hook of the main
    mail listview from YAM_MA.c to this file.
  * classes/MainMailListGroup.c: implemented a new custom class which is
    derived from the PageGroup class and should carry multiple NListview
    object for easily switching them for the quick searchbar implementation.
    It replaces the single NL_MAILS object in YAM_MA.c and should automatically
    forward all relevant method calls to the currently active NList object.
  * classes/QuickSearchBar.c: implemented a first version of a new quick
    searchbar for more easy and direct search in the main window.

2005-10-26  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AttachmentGroup.c: fixed bug #1338712 where upon use of the
    Save All option in the AttementGroup, the ASL requester was always
    opened on the Workbench screen no matter if YAM was running on its
    own public screen.

2005-10-12  Jens Langner <Jens.Langner@light-speed.de>

  * includes/libraries/mui.h: updated the mui.h include to not include
    the clib file directly anymore as this is not supported with the
    latest OS4 SDK anymore. Also had to adapt YAM_global.c,h accordingly
    to that change so that e.g. IntuitionBase stays invisible.
  * misc: fixed some more incorrect cast operations due to the continous
    OS4 SDK API fixes.

2005-08-16  Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed a whole bunch of incorrect cast operations which were just
    added unluckily added due to some buggy API changes in the OS4 SDK.

2005-08-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: even more fixes/changes to the flex text highlighting
    engine so that we now check if an URL doesn't end with a punctation
    character which is normally used to close sentences. Also increased the
    flex compressing mode from -Cem to -Cfe which should normally perform
    better (at the cost of larger tables) according to the flex documentation.
  * YAM_mail_lex.l: fixed URL highlighting once more to also allow the anchor
    character "#" in http URLs.

2005-08-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: In accordance to the bugfix of bug #1255562 the whole
    bunch of text highlighting lexer rules were completly reworked from
    scratch and adapted to the official BNF form of URLs, documented in
    RFC 1738. Now YAM should hopefully match all kind of different URLs
    correctly and highlight them accordingly. However, the new rules
    might contain some minor glitches, so please report any URL which
    is not completly/correctly hightlighted as soon as possible.

2005-08-03  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c,h: fixed incorrect use of KPutFmt() on MorphOS machines in
    accordance to the changes in TextEditor.mcc. Now our debug output show
    hopefully also work on MorphOS.
  * YAM.c: updated all minimum required .mcc version numbers to the latest
    available ones to prevent people from reporting bugs caused by old,
    buggy .mcc versions.

2005-08-02  Jens Langner <Jens.Langner@light-speed.de>

  * catalogs: added missing keyboard shortcuts for the attachment request
    buttons to all our catalogs.
  * YAM_UT.c: fixed bug #1240960 where the AttachmentRequests' NList didn't
    always get the main keyboard focus. Now also the very first item in
    the list will be automatically selected if the requests is created.
  * Debug.c, YAM.c, YAM_CO.c, classes/YAM.c: replaced all getenv() usages
    by the more native GetVar() calls to check for environment variables.
  * misc: fixed some more GCC4 relevant pointer signedness warnings due to
    minor API changes in the latest OS4 SDK.
  * includes/mui/#?: updated all mcc includes with their latest versions
    available. No functional change, but it's always good to be uptodate :)

2005-07-26  Jens Langner <Jens.Langner@light-speed.de>

  * Makefiles: moved the generic sections of all makefiles into a new
    "Makefile.include" file which will be automatically included by each
    platform specific Makefile. Also renamed our target Makefiles to
    the more common scheme like Makefile.[os3|os4|mos].

2005-07-04  Gunther Nikl <gni@gecko.de>

  * YAM_MAf.c: Remove casts of mailFile. There must be a better way to
    deal with those dreaded GCC4 warnings.

2005-07-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_ER.c: changed the Error window to use a NFloattext class object
    instead of a pure MUI's Floattext object so that the text within the
    floattext object can be selected/marked with the mouse and automatically
    copied to the clipboard.
  * YAM_ER.c: changed the ER_NewError() function to be a variable argument
    list function. This allows now to use error messages with an unlimited
    number of parameters. Also adapted all sources to get rid of the
    previously required "NULL" placeholders if ER_NewError() was used
    with too less parameters.
  * YAM_FO.c: fixed bug #1231670 where upon a folder move operation YAM
    always tried to move the .index file and throwed a warning if it
    couldn't move that file aswell. However, due to how YAM manages
    the .index file generation, an .index file not always exists. Now
    YAM takes respect of that as well as moving an eventually existing
    .fimage folder image aswell.
  * misc: fixed a whole bunch of GCC4 relevant compiler warnings about
    incorrect pointer signedness.
  * YAM_UT.c: fixed a minor bug in the text quoting functions where YAM
    did recognize some text passages as quotes if the contained a ">"
    character if they wasn't meant to represent quotes at all (HTML tags
    for example). Now YAM tries to be a bit smarter in recognizing a
    found ">" character as a quoting character.

2005-07-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed a minor problem with the automatic file extension
    recognition where YAM didn't analyze the content-type of the main
    letterpart and therefore couldn't identify the proper file extension
    for it.
  * classes/ReadWindow.c: fixed bug #1229432 where YAM didn't close the
    open read window in case the current mail in the window is the one at
    the bottom or top of the mail list and the current browse direction
    would suggest that the browing has to end. Now YAM will properly close
    the read window under such a situation like it was done in the 2.3
    series also.
  * YAM_FO.c: fixed bug #1231479 where a moving the contents of a whole
    folder directory including deletion of the source folders caused
    an error if the source directory was a undeleteable volume path. Now
    YAM will not evaluate the return value of the DeleteMailDir() call
    and as such proceeds if a mailfolder is moved around. It will also now
    print out a warning if some other operation didn't success during the
    move folderdir process.
  * YAM_MAf.c: took respect of bugreport #1230272 where some users got
    confused why YAM was always showing y+1 in the x/y busy gauge during
    an index rescan operation. In fact what YAM was actually showing was
    the number of ALL files found in a folder directory during index
    rescan including an existing .fconfig file (the .index was anyway
    previously deleted prior to the index rescan). Now that's why YAM
    was always showing y+1 in the busy gauge. However, to stop some confusion
    YAM will now always substract the found filecount by one, assuming all
    folders having an .fconfig file. However, please note that even after
    this change the busy gauge may be different to the real number of mails
    found in a mail folder.

2005-07-01  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadMailGroup.c, classes/ReadWindow.c: fixed a crash problem
    with virtual mails of content-type "multipart/mixed". In case YAM has
    to remove an attachment status icon due to a missing real attachment
    a crash ocurred because it did try to refreh the listview information
    even if that mail is a virtual mail. Now this operation should be safe
    and also refresh the statucIconGroup of the particular read window.

2005-06-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_MAf.c, YAM_main.h: added a special message flag for
    identification of "message/partial" mails. Now YAM will use the
    "status_error" status icon to indicate that a mail is of content-type
    "message/partial" as discussed in RFC 2046 (5.2.2).
    Please note that due to this change an index rescan of all folder is
    highly suggested or otherwise existing mails could show incorrect
    mail status icons. However, do not force an index rescan as we are still
    in development. So anyone using a developer build should take care of
    that himself.
  * YAM.c, classes/MailTextEdit.c: removed our own wheelmouse handling code
    as the latest 15.13 version of TextEditor.mcc now properly comes with
    direct newmouse based wheelmouse support. This of course required to
    increase the minimum version to 15.13 in YAM.c which in fact also
    automatically fixes other problems if users are trying to use older
    and buggier versions < 15.13.

2005-06-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed a bug in the edit mode of YAM where it always added a
    newline character to the end of a message due to the fact that
    MA_ReadInMessage() always adds a newline to the end of a mail.
  * YAM_RE.c: fixed a minor bug in the recently added automatic LetterPart
    finding routines where upon undoing a certain part of a mail could have
    ended up in displaying the wrong MIME part as the main letter part of
    a mail.

2005-06-22  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Recipientstring.c: fixed a problem where an active recipientstring
    object always swallowed all wheelmouse/keyup/keydown events instead of
    checking if the particular addrmatchlist window is open or not.
  * YAM_MA.c, YAM_main.h, YAM_rexx_rxif.c, classes/MainMailList.c,
    locale/YAM.cd: implemented an addition menuitem to make it possible to
    quickly set the status of ALL mails in a folder to read. This is in fact
    a very common option which should really be a frequently used operation
    and now the new menuitem+shortcut easily enables an user to switch
    the status of all mails to the read status.
  * YAM_RE.c, YAM_WR.c, YAM_mainFolder.h, YAM_read.h: added an automatic
    letterpart recognition to the MIME routines of YAM. Previously, YAM
    did always assume that the MIME part number 1 (or the one configured
    in the 'LetterPart' configuration) is the actual readable, main letter
    part. However, even if this is the common sense, there seems to exists
    some strange mailers out there which do add their attachments right
    at the beginning of a mail, followed by the real mail text/contents.
    This in fact confused YAM and led to situations where YAM did
    supress the attachments at the beginning, but showed the real mail
    text as an attachment. Now YAM takes the first non binary MIME part
    as the real "letterpart" and should display such mails correctly.

2005-06-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l,h: added "file://" as a valid URL specification so that
    YAM will automatically highlight "file://" URL specs in a displayed
    mail.

2005-06-15  Gunther Nikl <gni@gecko.de>

  * VMakefile: Remove YAM_debug.h dependencies. Add StatusIconGroup.o
    and SearchControlGroup.o to $(CLASSES).
  * smakefile: Likewise.

2005-06-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: even if a "|" is not officially supported as a proper
    delimiter for file extensions, previous YAM versions were able to
    distinguish them properly. Therefore, the new file extension
    recognition code now also properly recognizes a "|" as a valid
    delimiter. However, its use is highly discouraged. bug #1218176
  * YAM.c: added a warning requester to the Login() routines in case
    Genesis/AmiTCP is used and YAM wasn't able to automatically identify
    the proper YAM user. Previously YAM did just exit without any warning
    which in fact was very unintuitive.

2005-06-13  Gunther Nikl <gni@gecko.de>

  * classes/MailTextEdit.c (MUIM_HandleEvent): Use integer math in the
    wheelmouse scrolling code.

2005-06-08  Jens Langner <Jens.Langner@light-speed.de>

  * includes/SDI_#?.h: updated SDI headers to latest reincarnation and dropped
    SDI_lib.h from our includes directory because we won't need it anyway and
    the "sditools" sf.net project does now serve as the main development
    platform for the SDI_#?.h headers.

2005-06-07  Gunther Nikl <gni@gecko.de>

  * includes/SDI_hook.h: Added changes from Frank Wille and Guido Mersmann.
  * YAM.c (TC_Prepare,TC_Start,TC_Stop): Minor changes.
    (TC_Prepare): Fix debug message.

2005-06-06  Gunther Nikl <gni@gecko.de>

  * classes/StatusIconGroup.c (OM_NEW): Rewrote icon initialization.

2005-06-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: added a workaround for mails containing an empty "content-type:"
    headerline which in fact triggered YAM to suppress the display of any
    main viewable textpart of these mails. Now YAM will automatically fall back
    to "text/plain" for such emails and will display it no matter which real
    content these mails really carry.

2005-06-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: modifies the RE_Export() function to take also respect of the
    now identifyable filename extension. This in fact allows to place proper
    fileextensions to Save attachments routines as well.
  * YAM_RE.c: modified YAM to automatically identify a file extension of an
    attachment and appends it to a temporary filename instead of using ".tmp"
    if the mail part in question is going to be decoded. In fact, YAM uses its
    own MIME settings for identifying the proper filename extension and if non
    is found, it still falls back to ".tmp".
  * YAM_RE.c: slightly optimized the RE_DecodeStream() usage and added a check
    if a decoding operation for a certain mail part is really required. If not,
    then YAM will just rename the file which in fact should hopefully speed up
    the loading of mails with large letter parts which in fact are not encoded
    in any form.

2005-05-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: changed signature configuration to use a FixedFont TextEditor
    gadget for editing the signature. Furthermore, the "Use Signature" checkbox
    does now disable/enable all relevant fields.

2005-05-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_CO.c, misc: as announce previously, YAM is now checking the
    existance of ".autosaveX.txt" files during startup. If such a file is
    found it will remind the user that this file was saved in a previous
    session and that this may due to a crash/reboot. The user now has the
    choice to either open that autosaved file in a new write window, to
    delete it or ignore that warning. Now that this autosave feature is
    completely implemented, the autosave interval configuration was also
    moved from the previously hidden area to the [write] configuration page.
  * YAM.c, YAM.h, YAM_CO.c, YAM_MA.c: reworked the whole timerIO facility
    in YAM to take care of the status of a timer request instead of querying
    it with a CheckIO/AbortIO combo during the GetMsg() event loop checking.
    This completely rewritten timer.device functionality should hopefully fix
    the recently observed loss of timer requests under certain circumstances.
  * YAM_WR.c: upon successfully closing a write window YAM does now
    delete its ".autosaveX.txt" file instead of keeping it for no particular
    reason. Now only a feature is missing to recognize those autosave files
    and popup a warning to the user about a found autosave file.

2005-05-28  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Readwindow.c: fixed some minor bugs in the status update
    routines where it happend that a mail status was set to read even if
    the mail was not really showed to the user due to a autoclosing read
    window.

2005-05-27  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Splashwindow.c, YAM_US.c: added possibility to exit the
    splashwindow when it is in user selection mode by pressing the ESC key
    instead of selecting a user.
  * classes/Splashwindow.c: fixed some possible crashes while using the
    keyboard on a select user and/or password request within the splashwindow.

2005-05-25  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadWindow.c: fixed the SwitchMail() and DeleteMail() methods
    to behave like the old methods prior to the read window rewrite. In fact,
    the read window is now finally closed of the start or the end during
    those operations is reached. This should make YAM a bit more keyboard
    friendly again.
  * YAM_FI.c: removed the additional FlushIndexes() call which caused YAM to
    always save all indexes after some mail was successfully moved via a
    filter operation. Especially on large folders this caused an undesirable
    delay.
  * classes/ReadWindow.c: moved the statusIcon handling to an own separate
    MUI class (StatusIconGroup) and implemented it to use an own LayoutHook
    for displaying/managing the status Icons correctly. This should in fact
    fix bug #1200076 which mainly manifested itself under OS3 only.

2005-05-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: changed the TimerIO timerequest allocations to use MEMF_SHARED
    instead of MEMF_PUBLIC on AmigaOS4.
  * YAM_UT.c: changed the Clone/FreeWorkbenchPath() functions to use v44
    features of workbench.library, if available. This way cloning the WB's
    search path should be way more intuitive and safe.

2005-05-12  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadWindow.c: in case a status_#? image is not available the new
    status image display in the ReadWindow accessed some possible NULL ptr.
    Now these basepage accessed is hopefully fixed.
  * YAM_UT.c: added some additional error checks to the FileToBuffer() and
    FileToEditor() functions.
  * supportfiles/icons/std: to potientally speed up loading of the image data
    YAM has to load during startup, all default images have been reduced to
    their minimal palette colors. However, this speed up should only be really
    worth on slow machines (m68k).

2005-05-10  Jens Langner <Jens.Langner@light-speed.de>

  * misc: in accordance to the new icon layout and mail status management YAM
    is now taking respect of the new images/icon layout of the YAM:Icons
    directory. As the new layout is slightly different from older dir layouts
    YAM is now checking for an ".imglayout" file in YAM:Icons which contains
    the current version of that directory. This should make it easier to change
    the layout again in future as YAM is now automatically reminding the user
    if the layout of the directory is incompatible. Furthermore, YAM is now
    checking if the loading of the images and icons succeeded without an error,
    allowing the user to override eventually existing warnings either by
    ignoring the warning during startup or by specifying an "NOIMGWARNING"
    option either in tooltype or as a CLI option.
    Please note that the latest image directory layout is version 3, which is
    mentioned in the ".imglayout" file.
  * supportfiles/icons: adapted icons and images to the new status and config
    icon layout. This new layout not only comes with slightly modified status_#?
    images to reflect our new more flexible mail status management introduced
    several month ago, but also comes with config_#? images which replace the
    images used in the configuration window of YAM.
  * supportfiles/icons: put the std and std8col icon and images back in place
    as these directories represent the current default icons and images which
    will also be shipped as the new default set in future versions. Having to
    grab them from other places simply doesn't make much sense. However, please
    note that the 8 color icons/image are not finished yet and need a new proper
    design to match our default 256 color icons.

2005-05-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: added some SetIoErr() calls to make sure the dos error codes are set
    correctly upon an exit due to an occurred error. Also change the return values
    in the exit() and return() calls to use the dos RETURN_WARN/RETURN_ERROR etc.
    codes instead.

2005-05-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: as of change request #1190842 YAM is now more tolerant in accepting
    RFC2047 encoded header lines in accordance to the "=?" recognition. That means
    that it will try to decode header lines with "=?" occurances also if no
    linear white space is put in front of it (as defined in RFC2047).
  * classes/AttachmentImage.c: fixed a bug in the icon dragging routine where it
    could have happened that MUIM_DoDrag was called even if the mouse was not
    located within the object boundaries.
  * classes/AttachmentImage.c: adapted "DeleteDragImage" method to use
    WhichWorkbenchObject() on AmigaOS4 to find the correct dropPath on a drag
    operation.
  * classes/AttachmentImage.c: added ICONDRAWA_Transparency tag definition to make
    sure even icon.lib v51+ is always drawing the icon completely opaque.

2005-05-01  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AttachmentImage.c: modified the tagitem handling of the DrawIconStateA()
    calls to eventually fix problems on systems using icon.library >= v44. Also
    increased the ordWidth/Height by one to make sure our destination bitmap is
    huge enough.

2005-04-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: modified the FlushIndexes function to make sure all indexes fo all
    folders are saved to disk, no matter if the index of a folder is really flushed
    or not. This way a user can make sure to definitely have all indexes saved to
    disk by using the "Flush indices" menu item.
  * YAM_MAf.c: fixed the automatic folder index rescanning routine where upon an
    outdated/missing .index file YAM always did rescan a folder upon startup instead
    of taking respect of the LoadAllFolders option.

2005-04-14  Jens Langner <Jens.Langner@light-speed.de>

  * starter.c,  Makefile.MorphOS: removed starter.c which is anyway not used
    anymore on MorphOS distributions.

2005-04-09  Jens Langner <Jens.Langner@light-speed.de>

  * ReadMailGroup.c, YAM_MA.f, YAM_MAf.c: slightly improved refresh handling where
    upon an update of a readmailgroup the texteditor content should be clear prior
    to placing the anyway more or less same text to the texteditor again. This should
    hopefully fix/improve some flickering situations.
  * includes/SDI_hook.h: updated to latest version which doesn't use the MorphOS
    specific emultraps for hooks anymore.

2005-04-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c: removed another "-repeat" specification on a del key operation which
    might be dangerous.

2005-04-06  Jens Langner <Jens.Langner@light-speed.de>

  * ReadMailGroup.c: fixed a possible crash bug where an already used read window or
    group object wasn't correctly cleared upon initialization of a new mail. This
    should fix some crashes that may have occurred on mails with attachments where
    the attachmentgroup still referred to some mail part pointer which in fact
    where already freed upon the redisplay of the mail (bug #1170937).
  * YAM_RE.c, YAM_UT.c, AttachmentGroup.c: added some more debug output to different
    areas which in fact should make the new readwindow/attachmentgroup stuff more
    debugable.

2005-04-04  Jens Langner <Jens.Langner@light-speed.de>

  * Debug.c,h: reworked the whole debug output management in YAM and replaced it
    by a more sophisticated and modern runtime debugging framework.
    This new framework allows our developers now to specify a special debug flag on
    which this particular debug output should be displayed. An environment
    variable (ENV:yamdebug) can then be used to enable/disable certain debug
    information prior to the start of YAM. The currently available debug classes
    and flags are:

    debug classes:
    -------------
    @ctrace      - function tracing (ENTER/LEAVE)
    @report  (*) - user reports (SHOWVALUE/SHOWSTRING)
    @assert  (*) - error assertions (ASSERT)
    @timeval     - profiling time evaluations
    @debug   (*) - standard debug output (D)
    @error   (*) - error message output (E)
    @warning (*) - standard warning output (W)
    @all         - matches all of the above

    debug flags:
    -----------
    always   (*) - output should always be present
    startup  (*) - startup/shutdown output
    timerio      - timer.device & timerIO dependent output
    config       - configuration management output
    filter       - filter management output
    folder       - folder management output
    mail         - mail management output
    mime         - mime encoding/decoding output
    gui          - GUI management output
    rexx         - rexx management output
    net          - network management output
    util         - helping utility functions/methods
    all          - matches all of the above.

    Debug flags and classes marked with a (*) are enabled by default if YAM is
    compiled with the standard DEBUG define. All the other flags and classes can
    be enabled by specifying them in the ENV:yamdebug environment variable.
    Please note, that classes have to be specified by a "@" as the first character
    and that also a negation of debugging flags can be done by specifying a "!".
    So for example, setting yamdebug as follows:

    1> setenv yamdebug "@all all"

    will enable ALL debug classes and ALL debug flags output, which in fact is the
    maximum debug output you can get. And specifying:

    1> setenv yamdebug "@ctrace !startup"

    will enable the function/call tracing output as well as disabling the startup
    debug output. Also note, that there is an additional "ansi" token that can be
    specified to enable fully ANSI-color compliant debug output in case your
    serial debug terminal can display these colors.
    This totally new debugging framework hopefully increases our possibilities
    to track down problems and allow users of nightly builds to send us more flexible
    and helpfull problem/debugging reports.

2005-04-02  Jens Langner <Jens.Langner@light-speed.de>

  * Splashwindow.c, YAM_US.c: moved the authentication request for password
    protected users to the Splashwindow instead of using a separate requester.
    This does not only integrate the startup process a bit better, but also fixes
    a crash bug that occurred when using a StringRequest() during startup.
  * YAM_UT.c, misc: replaced all MUIM_Application_Input usages by proper NewInput
    usages which should work a bit more efficent regarding to the MUI documentation.
    Also checked all NewInput usages that they are used correctly as per MUI
    documentation.

2005-03-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed a very strange bug (perhaps a GCC3 bug?) that caused menu items
    with a shortcut string of just "0" to appear as "9" in the menu, which in fact
    caused some menus to contain items with the exact same shortcut. Somehow it seems
    that the previously placed 'char *key = "-repeat 0"' was the reason for that and
    changing it to 'char key[] = "-repeat 0"' somehow solves the problems?!?

2005-03-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_FI.c, YAM_WR.c, SearchControlGroup.c: fixed a minor bug in
    the ExecuteCommand() calls where the command to call was always
    embedded in quotes which in fact caused some executions of a command to
    fail.

2005-03-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c, misc: slightly enhanced the filter management once more to allow to
    specify an ulimited amount of rules per filter instead of the previously static
    amount of only 2 rules per filter. Now a user can theoretically specify unlimited
    rules for each filter. This should allow to combine certain filters which were
    required to be separated because of the previously existed 2 rules limitation.
    Now the whole filter/rule managment should be totally unlimited in size and
    amount like it should have been for ages.
  * YAM_COg.c, YAM_CO.c, ConfigPageList.c: modified main configuration window to use
    a NListview instead of a plain MUI Listview for the config page view.

2005-03-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed a possible bug/flaw in DescribeCT() function where a passed NULL
    pointer could have caused problems due to the used stricmp() function. Also
    returning a NULL pointer doesn't seem to be a wise solution here based on the
    usage of DescribeCT(). This hopefully fixes some crashes in the AttachmentGroup
    where no content-type were found for some attachments.
  * YAM_MAf.c, YAM_UT.c: fixed a crash bug in the index rescanning routines where
    the file date function wasn't called with the full path, which in fact caused
    it to fail and pass a NULL pointer to the DateStamp2TimeVal() function afterwards.

2005-03-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c, misc: implemented an unlimited filter functionality where exec lists
    are now used instead of a static array to manage all filters. This in fact
    allows now to break the 100 filters barrier. Now a user can perfectly specify
    a theoretically unlimited amount of filters in their setup. Please note that
    due to the rework filters are handled now not only some GUI/internal functions
    changed, but there might still be some flaws lying around which we are going
    to kill until the final 2.5 release.
  * YAM_global.c: removed the IExec definition as the latest clib2 runtime library
    contains such a reference now.

2005-03-06  David Rey <tactica@users.sourceforge.net>

  * Install_YAM: fixed bogus "(confirm 2)" parameter when copying MUI
    custom classes. Thanks to Detlef Wuerkner for the heads up!
    Also updated version string for the upcoming 2.5 release.

2005-03-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed a bug where the main mail nlist wasn't cleared previous to an
    index rescan operation. This had the effect that it actually happend that the
    NList was still trying to access data which was already freed during the
    rescanning process. This actually caused a crash under certain situations. So
    index rescanning operations on folders containing mails should hopefully be
    safer now.

2005-03-04  Gunther Nikl <gni@gecko.de>

  * YAM_global.c (yam_stack_size): Added required final '\n'.
  * smakefile: Made YAM_global.o the very first object to get $STACK
    into the first 1k of code hunk. Added missing dependencies for new
    classes.

2005-03-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: fixed a recently introduced bug in the mail filtering routines where
    we forgot to advance through our patternList correctly, which in fact caused
    YAM to end in an endless loop if a pattern list was used in a filter.
  * YAM_MAf.c: slightly adapted YAM to be somehow more compliant to RFC 2046 in
    which unknown/unsupproted multipart subtypes should be treated as
    "multipart/mixed" parts. This should in fact fix problems with not correctly
    recognized "multipart/related" mails.

2005-03-02  Gunther Nikl <gni@gecko.de>

  * YAM_utilities.h (xget): Replaced INLINE xget with a statement
    expression to avoid including <proto/intuition.h> here.
    This xget "inline" should go to a better place probably using again
    INLINE then.
  * YAM_global.c: Unify library base declarations.
  * YAM_TR.c (TR_OpenTCPIP): Don't compare "TRUE" against NULL pointer.

2005-03-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: fixed bug #798798 where upon using the recipient string
    features of the forward/bounce string objects on the filters, their content
    wasn't actually saved at all due to an incorrect MUI notification.
  * YAM_WR.c: fixed bug #834213 where a stored mail in the sent folder could
    not be edited and "send later" as expected.
  * YAM_RE.c: fixed bug where upon replying/forwarding based on a virtual mail
    didn't work as expected because the FreePrivateRMData() call did free all
    data, even the virtual mail during the reply/forward phase.
  * YAM_RE.c, YAM_read.h: unfortunatly I had to touch the unique ReadMailData
    ID generation code for creating temporary files once again as it still
    was not as unique as expected when dealing with private ReadMailData.
    However, now we have that generation code in one single macro which
    could be quickly adapted if it is still not unique enough :)
  * YAM_RE.c: fixed bug where an attached "message/rfc822" part could not
    be opened because a CleanupReadMailData() call cleaned up the virtual
    mail directly before trying to display it in an own read window.

2005-03-01  Gunther Nikl <gni@gecko.de>

  * includes/extra.h: Remove getft() prototype and unused access() stuff.
  * VMakefile (all_vbcc.o): Removed extrasrc/access.c dependency.
  * all_vbcc.c: Removed extrasrc/access.c from file list.
  * all_dice.c: Removed DICE support. (DMakefile is already gone...)
  * YAM_UT.c (FileExists): Simplify.

2005-02-28  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Recipientstring.c: fixed a long standing bug #746811 in the
    recipientstring handling code where upon usage of the backspace key one
    character was deleted too much out of the betterstring object. Also fixed
    another bug where replacing one recipient out of a whole recipient list
    did clear the whole string instead of just replacing the single entry.
  * classes/Recipientstring.c: slightly restructured/cleaned up.
  * YAM_FI.c, YAM_MAf.c, ReadMailGroup.c: replaced all v45+ only NewMinList()
    usages by NewList() equivalents.
  * YAM_utilities.h: put back <time.h> inclusion as it is required for
    the GetDateStamp() prototype.
  * YAM_global.c: reverted the USED_VAR usage for the static $STACK
    string as discussed.

2005-02-28  Gunther Nikl <gni@gecko.de>

  * includes/inline/bsdsocket_protos.h: New.
  * VMakefile: Added new class objects.
  * YAM_config.h, YAM_MA.c, YAM_global.c: Removed unused CManager stuff.
  * YAM_MA.c (MA_GetAddress): Cleanup after CManager removal.
  * YAM.c, YAM_MA.c, YAM_UT.c: Removed dead assignments.
  * classes/ReadWindow.c/OM_NEW: Fix argument for MUIA_Toolbar_Description.
    NewMail: Don't construct array on declaration.
    GrabSenderAddress: Likewise.
  * classes/Recipientstring.c/rcptok: Make STATIC.
  * Makefile, Makefile.MorphOS, Makefile.OS4, VMakefile: Make YAM_global.o
    the first object linked to place $STACK into the first 1024 bytes of
    hunk to allow automatic stackallocation through shell v45 or later.
  * YAM_FI.c (FI_MatchListPattern): Use "SearchPatternNode".
    (FreeSearchPatternList): Likewise.
    (FI_GenerateListPatterns): Use sizeof() for buffer handling. Replace
    calloc with malloc().
  * YAM.h, YAM.c: Change arguments for TC_Start() from ULONG to int.
  * YAM_utilities.h (StrTok_R): Replace argument 'brk' with 'sep'.
    Remove "#include <time.h>".
  * include/SDI_compiler.h: Correct INLINE for VBCC. Cleanup __GCC__ case.
  * YAM_global.c: Removed silly USED_VAR uses. Move platform section
    infront of version stuff to have $STACK first.

2005-02-27  Jens Langner <Jens.Langner@light-speed.de>

  * classes/ReadMailGroup.c: regrouped the attachmentgroup object into a separate
    vertical group with the MailTextObject. This should slightly improve the
    way YAM is weighting the attachmentgroup if the balance objects are moved
    around.
  * misc: replaced all isspace() usages by calls to our own ISpace() macro.
  * extrasrc/stpblk.c: replaced all stpblk() function usages by TrimStart() calls
    as these two function are totally redundant.
  * extrasrc/stcgfn.c: removed as not used anymore.
  * extrasrc/stch_i.c: removed as not used anymore.
  * YAM_RE.c, YAM_read.h: fixed bug #1074783 where overlong MIME boundary
    header lines caused an internal buffer to overrun which in fact caused
    YAM to either do weird things or even crash entirely.
  * YAM_RE.c: The temporary filename generation was still not as unique as I
    thought before. Hopefully now each unique readmail operation will trigger
    an unique temporary file generation.
  * misc: replaced the whole "struct Data2D" usages by proper exec list usages.
    The formerly used structure including the AllocData2D/FreeData2D calls was
    way too error prone and uncommon to handle such two dimendional data. Please
    note that the main use of "struct Data2D" was the management/parsing of
    mail header lines which was done in a single global variable throughout
    the whole YAM application. After dropping the whole "struct Data2D" stuff
    now each mail part contains its own private header list which should make the
    parsing routines more safe and probably also a bit faster was we don't have
    to parse the headers out of files multiple times before displaying them to
    the user. Also future multithreading capabilities should not have to worry
    about that global variable anymore.

2005-02-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: fixed library base definitions by separating them due to
    the different target platforms. The recent YAM_utilities.h change broke
    the OS4 build due to an incorrect IntuitionBase definition.

2005-02-24  Christian Hattemer <krille@users.sourceforge.net>

  * smakefile: Fix overlong command lines and wrong YAM_locale.h
    dependency. The latter caused all sources using localized strings to
    be rebuilt every time.
    Also added stuff to create objdir only when neccesary and moved
    YAM_global.o near the beginning of the OBJ list to make the $VER
    string appear at the beginning of the binary.
  * YAM_utilities.h: Add intuition proto to fix SAS/C build.

2005-02-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: slightly updated MIME warning message to suggest Thunderbird for
    all platforms in favour of i.e. Eudora, because it might be better to
    suggest another GPL flavoured client that is quite common ;)
  * YAM_RE.c: forgot to clear the PGP signed/encrypted flags of a readmaildata
    structure in the CleanupReadMailData() function which caused that even no
    PGP mails got scanned for a signature upon mail switching.
  * classes/ReadMailGroup.c: fixed bug in the PGP signature checking functions
    where the readmailgroup object was passed to the MUI_Request() function
    instead of the window of that group.
  * YAM_MAf.c: fixed bug #681110 where an CC: or BCC: header still triggered
    the mail to show up as a multiple receipient mail even if it contained
    no real receipient at all.
  * classes/Addrmatchlist.c: fixed bug #805686 where SetAttr() was used on
    some window tags while the window was open and therefore caused that
    the adrrmatchwindow did not always follow the main window positions.

2005-02-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_CO.c, YAM_COg.c, YAM_MA.c, misc: added two new expansion
    patterns "%c" and "%z" for the  reply/forward mail quotation operations.
    While %z will just print out the timezone in a common format (+0000),
    the %c pattern will print out the whole RFC2822 conform date&time string
    of the original mail header.
  * YAM_RE.c: fixed bug #1109409 and #1144691 where YAM did issue a
    MUI_DisposeObject() on a read window directly instead of using
    MUIM_Application_PushMethod which caused crashes under certain
    circumstances.
  * YAM_CO.c, YAM_MI.c, misc: implemented a system default charset
    recognition method where YAM will try to check the configured charset
    of the system it is running on and compares it to the LocalCharset
    settings of the YAM configuration. If YAM then finds out that the
    system charset doesn't match the localcharset it will put up a warning
    requester where the user can choose to either change the local charset
    or ignore the requester.
    However, please note that a proper system charset identification is only
    fully implemented in AmigaOS4. On all other platforms YAM will try
    to find a CHARSET environment variable which contains the currently
    active charset of the system.
  * YAM_MI.c: fixed bug where the source charset specification was used
    in the RFC2047 encoding routines, instead of the destination charset
    which fixes bug #1107821
  * YAM.c: the "mark new mail as unread" upon startup feature did still
    calculate the amount of unread/new mails slightly incorrect.
  * classes/ReadWindow.c, misc: fixed bug where YAM wasn't able to save the
    vertical weights of the headerlist and texteditor group anymore.
    Also revised the way YAM will save the different weights of GUI elements.
    Previously YAM did save the orientation of all GUI elements upon quiting
    the application. Now YAM will only save these settings if the window
    is "snapshotted" via the MUI window snapshot option. So if you want to
    save either the GUI elements setup in the main or read window you have
    to use the MUI snapshot option instead of having to quit the whole
    application to make YAM save these settings.

2005-02-19  Jens Langner <Jens.Langner@light-speed.de>

  * classes/AttachmentImage&Group.c: make YAM save the diskobject of an
    attachment if the attachment is dropped onto a workbench drawer.
    This should also fix the notification problems/issue already reported
    as bug #1138672.
  * classes/Splashwindow.c: fixed bug #1084418 where the progress gauge
    were not correctly displayed under certain situations because of
    refeshing problem in the main window class of MUI.
  * YAM_MA.c: fixed bug #1098671 where upon moving/deleting a mail through
    a filter didn't update the folder statistics correctly.
  * classes/AttachmentGroup.c: added some _mtop/_mleft checkings to make
    sure no text is drawn outside our rastport. This should hopefully fix
    bug #1123850
  * YAM_RE.c: YAM was not only closing an open read window while getting
    iconified, but also cleaning up the whole read mail data which results
    in a lost read window after reopening the application.
  * YAM.c: fixed bug where the amount of new mails was not correctly resetted
    to unread when the UpdateNewMail feature was enabled for YAM startup
    processing. Now YAM should show all folder statistics correctly after
    startup.
  * YAM_MA.c, YAM_RE.c, ReadWindow.c: fixed bug where YAM didn't close an
    open read window on a Delete/Move operation even if no mail was left in
    the corresponding folder. Now YAM should close the read window after the
    last mail has been deleted/moved out by the user.

2005-02-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_utilities.h: reverted the evaluation of the return value of GetAttr()
    as part of our xget() inline function. It seems that with some attributes
    (e.g. MUIA_Selected) MUI always returns FALSE. However, setting b=0
    right before the GetAttr() call should catch cases in which the attribute
    really doesn't exist.
  * AttachmentGroup.c: fixed a bug where upon a mail switching the
    image object weren't cleaned up correctly which caused YAM to crash if
    it was brought back from an iconify state.
  * Makefile, extrasrc/dice.c: minor changes to make YAM easier compileable
    with a vanilla OS3.9 NDK.
  * YAM_debug.h: put the NOP statements back into as there is no real reason
    for not having them. They increase the security, are supported by all
    common gcc versions and are anyway removed during optimization. And if
    a properitery compiler doesn't support it, please do add a separate
    #ifdef for that case. Just removing them for the sake of supporting
    other compilers isn't an alternative.
  * ReadMailGroup, misc: renamed all internal "Photo" ocurrances to
    "Image" because that name is used all over the place in YAM for the
    SenderImage.
  * AttachmentImage.c: fixed a possible buffer overrun

2005-02-16  Gunther Nikl <gni@gecko.de>

  * classes/AttachmentImage.c: replace calloc() with malloc().
  * classes/AttachmentImage.c: wrap DB statement of else-case into {}.
  * YAM_debug.h: revert previous change (NOP addition).
  * Makefile: revert LDLIBS change.
  * classes/AttachmentImage.c: use non-varargs function.
  * classes/AttachmentGroup.c: use non-varargs functions and require v44
    (OS 3.5) only.
  * extrasrc/dice.c: add stubs for icon+wb v44
    (these should be in amiga.lib but ...)

2005-02-16  Alexey Ivanov <AmiS@amiga.org.ru>

  * ReadMailGroup, misc: added 'image only' mode to show sender image in
    read window without other sender infos.

2005-02-16  Jens Langner <Jens.Langner@light-speed.de>

  * AttachmentGroup, WriteAttachmentList: implemented the missing drag&drop
    functionality of the new attachment images. Now a user can drag&drop
    an attachment image directly into a workbench drawer (v45+ workbench)
    or to an attachment listview of a write window. YAM will then
    automatically export/copy the attachment in question to the selected
    destination.

2005-02-15  Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed a bug in the temporary file handling where it happened
    that due to the limited way the filenames of the tempfiles were
    generated, some undefined behaviour in mail handling occurred
    such that the wrong attachments were opened after mail switching.

2005-02-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, misc: slightly reworked the ReadInMessage() routines to not
    show attachments inlined generally anymore because the new attachment
    group is now the replacement for that. However, if the user selected
    that he/she wants to display textbased attachments inlined, then YAM
    still shows these attachments as before.
    Also adapted the general mail flags a bit to better reflect the
    different multipart types in future. However, please note that this
    change required to bump the .index version to make sure all indexes
    are rescanned properly.
  * classes/AttachmentImage&Group: implemented two new internal MUI
    custom classes for showing a separate attachment group object in
    every readmail object of either the read window or the embedded
    mail view. This attachment group displays images for every attachment
    found in a mail. These images are either obtained with the help
    of DefIcons or due to icon.library operations and dragable.
    The images are clickable to select attachments for later operations
    like saving, printing etc. In addition, context menus are enabled
    in this group and allows to directly start these operations.
    The group is implemented auto-sizable, which means that the images
    for attachments are automatically grouped in columns. However, if the
    space for the group doesn't fit all attachments it will automatically
    be resized to make it possible to fit all attachments in the group.
    In addition to the images also some rough information about the
    attachments is displayed.
  * YAM_debug.h: put some NOP ((void)0) statements in the empty
    parts of our debug defines. This should fix some problems where
    else branches with single debug statements caused some troubles if
    YAM was compiled without any debugging turned on.

2005-02-05  Jens Langner <Jens.Langner@light-speed.de>

  * UserImage.c: fixed bug #1115135 where the user image wasn't
    always displayed correctly on all machines which seem to be
    cause by the missing BMF_MINPLANES flag for the AllocBitMap()
    call.
  * YAM_COs.c: the checkmark status for the status delay change
    wasn't saved in the .config file at all. That should be fixed
    now.

2005-02-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: fixed a bug in the timerIO evaluation routines where the
    additional CheckIO/WaitIO combo seemed to have cause that some
    timer events were get lost under certain circumstances. Hopefully
    the whole emitting and receiving of the timer events should be
    more rock proofed now.
  * YAM_MAf.c: slightly modified the folderlist highlighting once more.
    Now YAM will not use the highlighting pen anymore and use two
    different ways of highlighting folders with new and/or unreaded
    mail. In fact, if a folder contains new mail the folder name will
    get bold and if it just contains unread mail it will also turn
    gray to signal that this folder just contain unread, not newly
    downloaded mail. Also the amount of unread/new mails will be
    appended to the folder name in case the corresponding column
    is not turned on. This whole change should give the user a more
    easy way of quickly finding out which folder carries new and unread
    mail.

2005-02-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, ReadMailGroup.c: fixed bug #1114873 where a multiselect
    operation during an enabled embedded mail pane acted a bit
    strange from a users point of view. Now YAM will clear up the
    read pane in case a multiselect operation is underway.
  * YAM_MAf.c, YAM_MA.c: slightly modified the folderlist to not
    use the MUI highlight pen for signaling that a folder group
    has folders with new mail in it. Also adapted the mail list
    to show unread/new mails using bold text as this might be
    a better approach for easily finding unread/new mail in the
    list. However, lets see how users like that little change
    which is similar to what Thunderbird is actually doing.
  * YAM_CO.c: changed the default embedded mail pane display
    delay to 200ms as this might be a more reasonable value and
    also renamed the option to "EmbeddedMailDelay" which should me
    more intuitive.
  * YAM_UT.c, YAM_utilities.h, YAM_WR.c: renamed our properitery
    strtok_r() to carry some uppercase letters so that it may not
    conflict with the strtok_r() function available in newer clib2
    runtime library versions. However, in future we might better
    rewrite our function to carry the same function prototype than
    the standard strtok_r() function.
  * ReadWindow.c: removed another bunch of "-repeat" key definition
    to prevent a continious deletion of mails by holding down the
    delete key.

2005-02-01  Jens Langner <Jens.Langner@light-speed.de>

  * UserImage.c: another minor change to the UserImage custom class
    where the PDTM_SCALE method call has been replaced by bit a more
    widely available BitMapScale() call. This should drop the
    requirement of an installed picture.datatype v45. In addition
    the minimum height calculation of the user image has been altered
    so that it is still possible to resize the attached NList object
    to its minium values. This should make the userimage fit a bit
    better into the overall layout of the ReadMailGroup object.

2005-01-31  Jens Langner <Jens.Langner@light-speed.de>

  * UserImage.c: fixed bug #1113084 where the proportional image
    scaling routines where such "proportional". Now the user images
    should be perfectly scaled taking respect of their width/height
    proportion. I also tried to fix another flaw in the user image
    display where a small space is displayed below the image.
    However, this is currently hard to resolve and points more towards
    a possible MUI bug. Lets see if we can work around it later on.

2005-01-30  Jens Langner <Jens.Langner@light-speed.de>

  * misc: renamed the previously named "mail preview" to the more
    intuitive name "embedded read pane" because in fact the new GUI
    element is not only showing just a preview, but act as a full
    embedded read window.
  * classes/UserImage.c: implemented a new internal custom class which
    manages the images of the addressbook users and displays it in the
    read window or embeeded mailview, instead of the formerly used
    Dtpic.mui class. Also implemented a small scaling routine which
    uses the PDTM_SCALE method of picture.datatype to scale down
    the image proportional if it exceeds the limit of 64x64 pixels.
    This should also fix bug #1109541.

2005-01-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: removed "-repeat" from the DELETE key definition that is
    used to delete a mail from the main mailwindow. As deletion is a
    very dangerous part it might be a good idea to not allow to hold
    the delete key which would cause the continious deletion of several
    mails if the user holds down the del key for too long.
  * YAM_MA.c: fixed crash that occurred when trying to open a virtual
    mail in a separate window.
  * YAM_RE.c: fixed bug #1108922 which caused a crash upon closing the main
    window if no embedded read pane was enabled and YAM was exited immediately
    after the startup.
  * YAM_RE.c, YAM_TR.c : fixed bug #1110862 where switching the embedded read
    pane on/off could have left the user with the wrong or no mail displayed in
    the embedded read pane. Also reworked some of the embedded read pane
    generation code to be a bit cleaner.

2005-01-27  Gunther Nikl <gni@gecko.de>

  * YAM.c: Simplify timer functions, eg. use TC_Stop in TC_Start and
    TC_Exit. Remove tabs und superflous casts.

2005-01-26  Jens Langner <Jens.Langner@light-speed.de>

  * misc: added new StatusChangeDelay functionality to YAM that changes
    the status of a NEW/UNREAD mail to READ only after a configured
    time interval passed. This should increase the usability of the
    previously introduced embedded read pane because YAM will now only change
    the status of a mail after that short interval passed. However, for
    doubleclicking a mail the behaviour hasn't been changed as that
    user operation should be certain enough to tell that the user really
    wanted to read that particular mail.
  * ReadWindow.c, ReadMailGroup.c: the mailtextedit object will again be
    the default object if a new read window is created.
  * YAM_stringsizes.h: slightly modified the string sizes for the filename
    and path buffers again.
  * ReadMailGroup.c, YAM_UT.c: fixed a minor bug in the user image display
    routines which caused unexpected crashes and behaviour when switching
    between messages that cause YAM to display the appropriate user image.
    Also slightly modifed the display of those user images so that they
    are aligned to the top and don't use a scrollgroup anymore which make
    them a bit more compact.

2005-01-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: used the modular functionality of our new internal readmail
    classes to integrate an embedded mail read pane similar to others found
    in mail clients like Thunderbird&Co. This pane always shows the currently
    selected mail which allows to read the mail without having to open any
    separate window. However, as this is a new major feature the pane can
    be disabled in the main YAM configuration to ensure the old behaviour
    without any pane.
    In addition, to make the browsing in the mail list a bit smoother, the
    pane will only load the new selected mail after a specified short time
    interval which can however be altered in the hidden configuration of YAM.
    Per default this timeinterval is 100ms, which means that if the user
    hasn't moved on in the mail list for 100ms YAM will load and display the
    last selected mail into the embedded mail pane.
  * YAM_RE.c, ...: reworked the whole ReadWindow related codebase, separated
    the window code from the readmail code and integrated it into own
    internal custom MUI classes. This, aside from the more modular and
    safer approach for reading mails, allows now to put an unlimited number
    of readmail objects whereever required.
    In fact, YAM does now support to open an unlimited number of read window
    instead of just the old possible maximum of 3 simultaneous opened read
    windows when the "Multiple windows" option is enabled in the YAM config.

      ATTENTION: Please note that due to the heaps of changes in the
      development of this new object-oriented readwindow facility, some
      features dependent on the old behaviour might be broken. This can
      include, but is not limited to, Arexx commands previously expecting/
      serving only for up to a maximum of 3 possible read windows. So if you
      stumble over a problem with the new readmail facility, please don't
      hestitate to bring it to our attention so that we can fix it immediatly.

2005-01-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_stringsizes.h: increased the SIZE_FILE buffer length define
    to 107 and the SIZE_PATH define to 1024. This does not only fix
    problem when trying to add files as an attachment if their filename
    is larger than 30 chars, but also should make YAM a bit safer when
    dealing with huge directory path lengths.
  * YAM_MAf.c: YAM does now check the archive bit of the folder
    directory and the .index file as well before issuing an automatic
    index rebuild. This should prevent YAM from rescanning all folders
    after a backup program has set all archive bits in a folder
    directory and therefore modified the directory timestamp as well.
  * extrasrc/getft.c: converted function to FileTime() function
    in YAM_UT.c and removed it completly.

2005-01-18  Jens Langner <Jens.Langner@light-speed.de>

  * classes/MainFolderListtree.c: added an additional contextmenu item
    which allows to expunge all mails in the deleted folder and which
    is only available if used on the deleted folder.
  * YAM_global.c: Changed the application wide copyright string to
    reflect the new year.
  * YAM.c: improved the expiration and developer version requesters to
    show the new internet addresses for further reference.

2004-11-25  Christian Hattemer <krille@users.sourceforge.net>

  * supportfiles/contrib/Gfx/Matt_Chaput/#?: Add toolbar graphics by
    Matt Chaput with his permission.

2004-11-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: modified MessageID and BoundaryID generation code to
    generate somewhat more unique IDs. The MessageID generation code
    was not so unique as we thought and the BoundaryID code wasn't
    conform to RFC2045. Now we should be very well on the safe side
    in generating world-unique IDs. Noticed by Krille.

2004-11-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAN_AB.c, extrasrc/atcsma.c: applied patch #1071505 which requested
    to remove the obsolete use of the astcsma() function which was a
    duplicate of the MatchNoCase() function in YAM_UT.c.

2004-11-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: fixed a minor bug in a MUIM_MultiSet notify connection
    where the argument counts were too low which could have caused some
    unexpected trouble.

2004-11-19  Alexey Ivanov <AmiS@amiga.org.ru>

  * YAM_COg.c: fixed bug #773860 - Charset gadget not fully disabled
    if Autodetect is on.

2004-11-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed a minor bug in the mail status handling which didn't
    allow a user to manually set/unset a mail to/from the HOLD status.
    Modified all HOLD status handling accordingly.

2004-11-14  Jens Langner <Jens.Langner@light-speed.de>

  * misc: fixed bug #1052533 where mail couldn't be move to a simple
    password protected folder. Also reworked the whole folder mode
    handling during this fix and renamed the "XPKType" parameter of
    folder configurations to "Mode" and replaced the internal flag
    handling with a more proper enum variable for handling the folder
    modes (normal/simple/compressed/crypted).

2004-11-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_main.h: fixed bug #1062983 which didn't clear the Error flag
    of a mail upon a successfull sent operation.

2004-11-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug in the message disposition notification reply
    routines where a mail status update call was placed slightly wrong,
    which caused crashes under certain situations.

2004-11-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, YAM_COg.c: implemented full SMTP SSLv3 compatibility and
    added a possibility to directly select the secure connection method
    for SMTP connections in the configuration. In contrast to TLSv1, the
    SSLv3 method directly connects to the specified port and initiates the
    secure connection without previously querying the mail server via the
    STARTTLS command, which is quite common for some SMTP-SSL servers out
    there. Noticed missing by Krille.
  * misc: replaced all GUI based "APTR" occurances with proper "Object *"
    types. This is no functional change but should make the source better
    maintainable in future.
  * YAM_rexx.c: minor changed to the ReadArgs() calling mechanism of YAM's
    ARexxPort implementation to conform a bit better to the documented
    standard.

2004-10-18  Jens Langner <Jens.Langner@light-speed.de>

  * Splashwindow.c: replaced all MUIA_ShowMe usages by proper
    MUIM_Group_Init/ExitChange calls to hopefully fix the window corruption
    due to the dynamic adding/removing of objects.
  * YAM_MAf.c: reworked the index scanning routines a bit so that they
    will now ask the user if an unknown file in a folder directory should
    be considered a normal mailfile instead of just ignoring it. This
    makes it a bit handier for people wanting to quickly copy a mailfile
    to a folder directory without having to explicitly use the import
    functionality of YAM.
  * YAM_MI.c: fixed another bug in the base64 file decoding routines where
    attachments with lots of whitespaces caused YAM to through an error
    message instead of simply skipping them.

2004-10-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: simplifies the copy/move routines in the TransferMailFile()
    function and also squeezed a bug which didn't correctly move/copy
    files from/to a XPK compressed/encrypted folder.
  * YAM_UT.c, YAM_MA.c: changed the return values the TransferMailFile()
    function returns, resulting in a slightly improved possibility to
    return error conditions. Also added an additional error message if
    the XPK compression/uncompression failes because the XPK library
    returned an error value itself.
  * YAM_MI.c: fixed a minor bug in the base64 encoding routines where it
    could have happened that YAM wrote too much encoded data at the end
    of a file and therefore produced mails with corrupted attachments

2004-10-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, misc: reworked DateStamp2String() function to not work
    with a static variable because it happend in the past that routines
    used it incorrectly, resulting e.g. in the maillistview displaying
    wrong or cutted timevalues.
  * YAM_MAf.c, YAM_FI.c: fixed some buffer overflows which were caused by
    some unterminated strncpy() usages and resulted in messages showing
    a size of -1.

2004-09-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_TR.c: introduced new MoveFile() function which allows
    to move a file from one partition to another and adapted the
    TransferMailFile() function accordingly. Now folders don't have to
    be stored on the same partition for being able to exchange mail files.
  * YAM_CO.c: fixed bug in the socket options configuration parsing
    routines where YAM didn't recognize an existing "SO_RCVTIMEO"
    option correctly.

2004-09-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CL.c, YAM_classes.h: removed source files as all the old custom
    classes has been moved to the new class system now.
  * ConfigPageList.c: moved CL_PageList to new classes system as
    "ConfigPageList" class.
  * BodychunkImage.c: moved CL_Bodychunk to new classes system as
    "BodychunkImage" class.
  * WriteAttachmentList.c: moved CL_AttachList to new classes system as
    "WriteAttachmentList" class.
  * MainFolderListtree.c: moved CL_FolderList to new classes system as
    "MainFolderListtree" class.
  * MainMailList.c: moved CL_MainList to new classes system as
    "MainMailList" class.
  * AddrBookEntryList.c: moved CL_DDList to new classes system as
    "AddrBookEntryList" class.
  * AddrBookListtree.c: moved CL_AddrList to new classes system as
    "AddrBookListtree" class.
  * MainWindow.c: moved CL_MainWindow custom class implementation to
    the new classes system as the "MainWindow" class.

2004-09-23  Jens Langner <Jens.Langner@light-speed.de>

  * MailTextEdit.c: moved CL_TextEditor custom class implementation
    to the new classes system as "MailTextEdit".

2004-09-22  Jens Langner <Jens.Langner@light-speed.de>

  * misc: added some missing MUI_DisposeObject() calls on some
    requesters. This might have caused that YAM ate more memory
    during a long usage period than necessary.
  * extrasrc/NewReadArgs.c: fixed bug in NewReadArgs() function where
    tooltype-less icons like the PNG icons of PowerIcons caused a
    basepage access if used as the application icon of YAM.
  * YAM_MI.c: slightly modified the RFC 2047 decoding to recognize
    also encoded-words which are surrounded by " chars as more than
    one emailer out there seems to encode such words. However, please
    note that such encoded-words are not compliant to the RFC 2047
    standard and are now just accepted for convienence.

2004-09-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: reworked and redesigned the old "About" window parts
    and splitted them into two separate custom classes "Aboutwindow"
    and "Splashwindow". As the name implies the first one is only
    to display information if the user selects the "About" menu
    item from within the main application. In contrast, the
    second one is now the new startup (also called "Splash")
    window when YAM loads/initializes all main data.

2004-09-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: fixed recognition of Importance: and Priority:
    headerlines after it has been broken during the rework
    of the status handling.
  * YAM_global.c: fixed $STACK: definition as it had been
    removed by the gcc3 optimizer. Also added a proper
    __stack_size definition for clib2. This should hopefully
    fix some stack related problems while using YAM on OS3 and
    OS4.

2004-09-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: added rfc2047 decoding to the MIME content-type
    and content-disposition subheader fields so that the
    filename, description and name of those fields get
    automatically decoded upon mail reading.
  * YAM_MA.c, YAM_MAf.c, YAM_TR.c: now that the new status
    handling is implemented I finished my work on the "Status:"
    and "X-Status:" headerline handling stuff when importing
    or exporting mails from/to MBOX formatted files.
  * YAM_UT.c: convered all Examine()/ExNext() usages to proper
    ExAll() calls which slightly increases the performance
    in traversing through directory entries.
  * YAM_UT.c: removed the not required stccat() function.
  * YAM_rexx_rxif.c: fixed bug where a "MAILSTATUS O" didn't
    work anymore after the recent mail status changes.
  * YAM_RE.c: changed read window title formating to include
    three dots "..." at the end of the text if it was too huge
    to put it into the buffer and therefore was cut.

2004-09-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed a minor bug which caused that with the
    new mailfile naming scheme YAM wasn't able to display the
    RAW text of a mail because the mailfile name changed.
  * YAM_MA.c, YAM_RE.c, YAM_TR.c, YAM_UT.c: reworked the
    FormatSize() invocation a bit and removed a unnecessary
    strlen() call as we anyway call this function mostly to put
    stuff at the start of the string. This change also works
    around a tempoaray problem with the clib2 runtime library
    which seem to be broken with empty sprintf() calls and
    caused problem with the size display in the read window.

2004-09-08  Jens Langner <Jens.Langner@light-speed.de>

  * Mail filenames: in accordance to the change in the mail
    status handling I took the oppurtunity to rework the mail
    filename handling aswell as this was anyway a pending
    issue. Now YAM uses a totally different scheme in how it
    names mail files (abutted to the maildir format).
    As it has been always a bad idea to use the amiga specific
    file comments for storing mail META data like status and
    transfer time, YAM does now store this information in the
    mail filename only, making it possible to place those files
    on file systems like NFS.
    The new scheme it uses now is as followed:

      XXXXXXXXXXXX.001,RAFNQHSDME

    where the first 12 chars (X) are used for the base64 encoded
    transfer date followed by a dot (.), then followed by a
    3 chars long control variable followed by a comma (,),
    then followed by the currently available 10 possible status
    flags:

      [R] - SFLAG_READ
      [A] - SFLAG_REPLIED
      [F] - SFLAG_FORWARDED
      [N] - SFLAG_NEW
      [Q] - SFLAG_QUEUED
      [H] - SFLAG_HOLD
      [S] - SFLAG_SENT
      [D] - SFLAG_DELETED
      [M] - SFLAG_MARKED
      [E] - SFLAG_ERROR

    Please note that this change required to increase the index
    version so that all folders will be automatically reindexed,
    including renaming of all mail files to the new used scheme.

      ATTENTION: On the first use of this version, YAM will
      convert all mail files to the new scheme, which of course
      makes them slightly incompatible to any earlier version.
      This means that if you have converted all of your folders
      with this version there will be NO easy way back in using
      any older version - so please consider making a raw backup
      of all your folders first.

  * Statushandling: totally reworked the way YAM deals with mail
    statuses. Previously YAM was very limited in dealing with many
    different status flags and only used a hand full of statuses where
    not all of them could be combined and which weren't quite enough
    for our future development. Especially if we want to implement
    IMAP in future or other highly status relating things.
    YAM now uses very common and standard status distinctions like:

      READ      - mail was read by user
      REPLIED   - mail has been replied by user
      FORWARDED - mail has been forwarded to another user
      NEW       - mail is marked as a new incoming mail
      QUEUED    - mail is scheduled for delivery
      HOLD      - mail is locked
      SENT      - mail has been sucessfully sent out
      DELETED   - mail is flagged as deleted
      MARKED    - mail is marked by user
      ERROR     - an error occurred on the mail transfer

    Please note that YAM can now theoretically combine all of
    those flags, but it uses some masking to flag out statuses
    which doesn't make sense if they are both set at the same time
    (i.e. NEW and READ).

2004-08-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, YAM_MA.c: started working on Status: and X-Status:
    export/import support when I realized that the whole mail
    status handling in YAM seems to be a total mess. So this is
    just a partial checking leaving the Status: headerline
    support yet unfinished until I have completly reworked the
    mail status flags handling.

2004-08-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_MI.c: rewrote the inline based UUdecoding
    recognition/processing to use the new optimized UUdecoding
    routines instead of the old unbuffered ones. Dropped the
    old routines accordingly.

2004-07-31  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: rewrote the last major MIME routine (UU decoding)
    from scratch. By using the same approach like for the other
    rewritten MIME encoding/decoding routines, the decoding of
    UUcode attachments seems to be dramatically faster now (~3MB
    in less than a second compared to 6 seconds previously). So
    the MIME encoding/decoding routines seem to be working very
    instantly now. However, there are still two minor routines
    missing which we will address during the next few days. Then
    we can move on to other parts that require our attention.

2004-07-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: rewrote the UU MIME encoding routines from scratch.
    Introduced separate input and output buffers like with the
    other new reworked MIME encoding routines. This sped up the
    encoding process to only 1/3 of which the original old
    unbuffered routines took. Now only the UUdecoding routines
    are missing and then all MIME routines are completly fresh :)

2004-07-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: slightly modified the rfc2047 quoted-printable
    decoding routines to use the global lookup table instead of
    extensive string functions. This should perhaps speed up the
    routines once more.
  * YAM_MI.c, YAM_RE.c: also rewrote the quoted-printable decoding
    routines from scratch and reimplemented everything according to
    RFC 2045. Also this new routines have full input and output
    buffers now which increases the decoding performance on large
    files dramatically.
  * YAM_MI.c, YAM_WR.c: completly rewritten and optimized the
    RFC 2045 quoted-printable MIME encoding routines from scratch.
    The encoding is now done fully buffered which results in a
    greater performance during encoding of large attachment if the
    quoted-printable encoding is used.

2004-07-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed another minor bug in the RFC2047 decoding
    routines which caused encoded-words not to be decoded if they
    were embeeded in RFC822 style comments delimited by ( and ).
  * YAM_FI.c, InfoBar.c: modified all major gauge displays to only
    refresh themself in respect to a maximum given refresh time
    - twice a second. This has for example the result that on fast
    machines the message find mechanism is dramatically faster now,
    because YAM doesn't have to refresh the gauge all the time.

2004-07-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c, YAM_WR.c: completly rewrote the RFC2047 MIME encoding
    routines which were quiet broken and didn't really work as
    expected/documented in the official RFC paper. Along with this
    the whole RFC2047 mime encoding/decoding process has been
    syncronized and should perfect a bit better than the old routines.
    Of course, these new routines still need testing to get them
    stable for every case, but they should hopefully already
    perform quiet good.

2004-07-05  Jens Langner <Jens.Langner@light-speed.de>

  * SDI_#?.h: added the new SDI_lib.h and SDI_stdarg.h special
    macro definition headers which allow to use macros/defines
    for variable arguments support functions instead of cluttered
    #ifdef constructs. Also the added SDI_lib.h allows to
    define library functions and library vectors in an operating
    system independent fashion, too. In fact, those two new
    headers should make some code better readable and backward
    compatible in future.

2004-06-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed a bug in the base64 file decoding routines
    where it happened that the selected temporary output buffer
    had been to low and cause some unexpected crashes.

2004-06-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: to make the index rebuilding process upon start of
    YAM a bit less painfull and memory consuming, the rebuilt
    index will now be immediatly flushed so that several
    successive index rebuilts should not consume all available
    memory anymore.

2004-05-27  Jens Langner <Jens.Langner@light-speed.de>

  * os4: removed the OS4 dependent ASM stub again as the OS4
    kernel starting from version 51.4 finally supports m68k<>ppc
    cross calls.

2004-03-30  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: in analogy to the new base64 encoding routines I
    again reworked the base64 decoding routines and introduced a
    seperate I/O buffer. By using this buffer it was possible to
    increase the overall performance of the decoding by ~300%.
    Aside from this great speed up, the decoding should be much
    more afer and accurate than before.

2004-03-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_AB.c: correctly fixed the DoubleClick and OpenFunc Hooks
    where within the change on 14th February the default cases
    had been specified incorrectly which caused different
    problems in using the addressbook.
  * YAM_MI.c, YAM_WR.c: completly rewrote the base64 file encoding
    routines to use the recently new introduced base64encode()
    function. Aside from the effect of having a more robust base64
    file encoding routine now, this increased the performance
    especially with large files to about 150% of the old retired
    function. Now only the old UU and quoted printable routines
    have to be rewritten to have all MIME I/O functions to be
    uptodate and also hopefully sped up.

2004-03-25  Alexey Ivanov <amis@amiga.org.ru>

  * YAM_AB.c: fixed "Address Book double click" bug, introduction
    since 14.02.2004.

2004-03-16  Jens Langner <Jens.Langner@light-speed.de>

  * all: fixed a bunch of SAS/C dependent compiler warnings which
    stopped YAM from compiling out-of-the-box.
    Please note that a compilation with the old SAS/C compiler
    is considered obsolete now. That means that future compilations
    will be based on the gcc compiler builds. As a consequence,
    future SAS/C compatibility will not ensured anymore. So this
    is probably the last SAS/C compatibility change. This means
    that if future versions will not build with SAS/C we are not
    going to dig our heads deeper into those SAS/C dependent stuff.
    So please move to gcc compilation if you are compiling YAM from
    source.

2004-03-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: moved the compiler information specification
    from YAM.c to YAM_global.c,h as this is really a better place
    for it. Also reverted the previously introduced
    -m68020-60 CPU identification behaviour as this has been
    changed in the latest gcc 3.3.3 68k version now.

2004-03-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_global.c: changed version string CPU information to
    place a simple [68k] string to the $VER: string if YAM was
    compiled with either the -m68020-40 or -m68020-60 option.
  * added support for specifying socket options in the .config
    file within the hidden section. Per default no additional
    socket options are specified, so the TCP/IP stack defaults
    are used. However, in some cases it may increase the
    transfer speed and probably reduce the latency of connections.
    Please note that the syntax for specifying socket options in
    the hidden section is similar to specifying socket options
    in Samba. For example, with LAN based connections it may make
    sense to specify the "SocketOptions" option as:
    "SO_KEEPALIVE TCP_NODELAY IPTOS_LOWDELAY SO_SNDBUF=16384
     SO_RCVBUF=16384"
    In addition to that, the options "SO_SNDTIMEO=x" and
    "SO_RCVTIMEO=x" may be usfull in cases where connections are
    stalled and an automatic timeout for transfers are required.
    To be more precise, documentation follows ASAP.
  * added support for directly specifying the buffer size for
    the TCP/IP routines of YAM in the hidden configuration
    section. Per default a "TRBufferSize = 8192" is used, which
    should be sufficient for most jobs.

2004-03-07  Jens Langner <Jens.Langner@light-speed.de>

  * retired the old socket library includes in favour of the new
    bsdsocket.library interface of Roadshow. This doesn`t mean you
    need Roadshow for a working YAM, but it will allow us to use
    special features of Roadshow in future as this is going to be
    the default TCP/IP stack of future AmigaOS versions.
  * YAM.c: added compiler version to compile information of the
    about/splash window. As YAM can be compiled with different
    versions and types of compilers it`s probably a good idea
    to have an information about that in the about window.
  * all: fixed some more compiler warnings which occurred by
    introducing the -W compiler option. Now xget() is defined
    as an inline function and used everywhere throughout the
    sources so that the type-punned gcc warnings of gcc3
    disappear.

2004-03-02  Jens Langner <Jens.Langner@light-speed.de>

  * all: fixed some compiler warnings which are mainly caused by
    unused parameters and so on.
  * Makefiles: added -W option to get out more detailed warning
    messages from the gcc compiler.

2004-02-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c: fixed recently introduced bug in base64decode_file()
    routines and changed alogrithm to use pointer-arithmetic instead
    of direct array access methods.

2004-02-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c, YAM_RE.c, YAM_UT.c: fixed a bug in the
    base64decode_file() routines where the routines where unable
    to deal with base64 encoded strings that weren`t a multiple
    of 4.
  * YAM.c, YAM_TR.c, YAM_UT.c: retired the YAM_compat.h header in
    favour of some preprocessor macro sets. Sorry Gunther, but your
    intention to use the DCE feature of the compiler is a bit unwanted
    here. It makes it impossible to compile a debug version of YAM
    because if the optimizer of the compiler is disabled, the unused
    parts of YAM produce a unresolve symbols error on linking. And IMHO
    it is anyway a better solution to use preprocessor macros here.

2004-02-20  Gunther Nikl <gni@gecko.de>

  * YAM_compat.h: OS4 compatibility header.
  * YAM.c, YAM_TR.c, YAM_UT.c: Use it.

2004-02-15  Jens Langner <Jens.Langner@light-speed.de>

  * smakefile: adapted SAS/C makefile to also put all object
    files in a separate object directory like the gcc makefiles.

2004-02-14  Jens Langner <Jens.Langner@light-speed.de>

  * fixed a whole bunch of gcc dependent compiler warnings. Now
    it should compile without any warning if gcc 2.95.3 is used.
  * Makefile.OS4/MorphOS: modified and improved makefiles and
    synced them with the latest changes done to the main Makefile.

2004-02-13  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile: modified and improved. Now it omits the compiler
    command line and puts the object files in a separate directory.
  * OS4: final changes to get a first working native PPC version
    for AmigaOS4. Now it at least seems to popup the GUI and
    doesn't crash on exit anymore. Let's see if it also works
    reliable for others now.

2004-02-12  Alexey Ivanov <amis@amiga.org.ru>

  * MOS: generate correct ppcinline. Change makefile for MorphOS.

2004-01-31  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: enhanced the text quoting routines once more. Now
    they also take care of indentions and should work more
    accurate now.

2004-01-24  Jens Langner <Jens.Langner@light-speed.de>

  * OS4: some more modifications to get YAM working on AmigaOS4.

2004-01-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: slightly modified InitLib() to correctly set the library
    base from the pointer that is provided as an argument. Previously
    only the local pointer was set and returned, which was not
    exactly my intention in first place ;)

2004-01-22  Jens Langner <Jens.Langner@light-speed.de>

  * OS4: finally YAM compiles and links with the AmigaOS4
    cross compiler and the standard SDK. Added the OS4 new
    style GetInterface/DropInterfac calls throughout the whole
    sources. Now it's time for some tests because there are surely
    still some OS4 dependant problems we have to solve before
    we can consider this OS4 port stable.

2004-01-21  Jens Langner <Jens.Langner@light-speed.de>

  * OS4: more adaptions to the includes and some sources to get
    more AmigaOS4 compatible.

2004-01-18  Jens Langner <Jens.Langner@light-speed.de>

  * Makefile.OS4: added first version of AmigaOS4 aware makefile.
    In the event of preparing a first OS4 version some includes
    has been altered in the includes directory and sources were
    adapted were necessary. The OS4 version still doesn`t compile
    yet, but lets hope we can sort the problems out soon.

2004-01-17  Jens Langner <Jens.Langner@light-speed.de>

  * updated all sources and locale files to reflect the year 2004
    within the copyright messages.
  * YAM_UT.c: after receiving some bug reports about some screwed
    up text while replying mails, I realized that the quotation
    functions of YAM were somehow totally broken and way to
    complicated/slow.
    Therefore I totally rewrote the functions for generating
    quoted reply texts as well as applying an automatic wordwrap
    if some text passages exceed the specified text width. Like
    anything new, this needs some more testing before these new
    routines can be considered stable, but the first tests with
    some complicated mails look good and promising that this new
    functions work way better than the previous more or less
    cryptic version.

2004-01-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: reworked the PlaySound() function to not use any
    temporary signals to get noticed when the sound is finished
    with playing. This should fixed the reported lock ups which
    sometimes happens if another audio channel is currently in
    use. In addition, YAM plays the sound now totally asyncron,
    which means the GUI doesn`t go to sleep while the sound is
    playing.

2004-01-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: modified the error checking routines of the POP3
    routines. This fixes a bug that caused YAM not reporting
    any error if the POP3 server immediatlely terminates the
    connection directly after an emitted connect.

2004-01-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: as promised before, I totally reworked the
    DIGEST-MD5 authentification routines. Previously it wasn`t
    working at all and now seems to perfectly conform to
    RFC 2831.
    Also exchanged the authentification priority to first check
    for a possible DIGEST-MD5 authentification as this type of
    authentification is per definition more secure than the
    CRAM-MD5 variant.

2004-01-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: reworked the whole SMTP AUTH routines to work
    more accurate according to their respectify RFC. This should
    also hopefully fix the newly introduced problems with the
    PLAIN and LOGIN authentification.
    During the tests on all authentification methods I also
    realized that the whole DIGEST-MD5 auth implementation seems
    to be broken by design. This really requires a complete
    rework as the current implementation doesn`t work at all like
    it should.

2003-12-29  Alexey Ivanov <amis@amiga.org.ru>

  * YAM_FO.c, YAM_MA.c, YAM_folderconfig.h added custom
    WriteIntro and WriteGreetings phrases for every folder.

2003-12-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_Cog.c: fixed the MakeInteger() function to
    generate a integer dependent string gadget with maxlen+1
    instead of just maxlen. This fixes flaw #862238.
  * Recipientstring.c: moved back the dipose of the Matchwindow
    to the OM_DISPOSE method because the MUIM_Cleanup method is
    also called upon an iconification request of the application.
    This caused enforcer hits when windows with existing
    recipientstring object has been iconfified by MUI. This
    fixes the reported bug #865081.

2003-12-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed recently introduced CRAM-MD5/DIGEST-MD5
    authentication bug, where YAM stripped too much of the
    received MD5 challenge ID which caused the authentification
    to fail on server which just return "\n" instead of "\r\n".

2003-12-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MI.c, YAM_RE.c: rewrote the base64 file decoding routines
    to use the new base64decode() implementation. This should not
    only increase the base64 MIME decoding a bit, it should also
    increase the security if something went wrong during the
    decoding phase.

2003-12-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: fixed a recently introduced bug where the use of
    the new base64decode() function while decoding the transfer
    date from a file comment caused the mail structure to get
    overwritten. The new base64decode() routine does always
    set a final NUL-byte, so we had to use a larger buffer for
    the decoding.
  * YAM_UT.c, YAM_utilities.h: replaced the more or less
    short isSpace(), isGraph() and isAlNum() functions by
    macros which should perform a bit better.
  * YAM_UT.c, YAM_RE.c: replaced the MatchTT() stub function
    by direct calls to the MatchNoCase() function.
  * YAM_MI.c: removed obsolete from64txt() base64 decoding
    routine. The functionality is now fully covered by the
    new rfc2047 and base64decoding routines.
  * YAM_MAf.c, YAM_MI.c, YAM_RE.c: YAM wasn`t at all RFC 2047
    compliant and the decoding routines RE_ProcessHeader where
    way to crippled and recursive. I totally reworked the RFC
    2047 decoding routines and added them to YAM_MI.c where now
    a sophisticated callback function based mechanism is used
    to correctly decode and translate the charsets.
    Verified that correct function of the new routines with tons
    of mails and the examples from the RFC 2047 document. We
    should be RFC 2047 compliant now.

2003-12-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: replaced the from64txt() call by a call to the
    new reworked base64decode() function. This allows to introduce
    a more sophisticated failure checking and probably also leads
    to a slightly increase of performance during index rescanning
    of large folders.
  * YAM_MI.c: started reworking the MIME encoding routines.
    Optimized the base64 string encoding/decoding functions to
    be a bit faster and also provide a better interface for
    error reporting during decoding/encoding phase. Adapted
    other sources to use the new reworked base64 string functions.

2003-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: changed MUIA_Listview_ScrollerPos of translation
    table popup gadgets to carry a scrollbar at the right, instead
    of forcing the user to use his keys to scroll around.
    This was obvious the change AmiS wanted to achieve.
  * YAM_WR.c: reverted AmiS`s changes which were nonsense.

2003-11-27  AmiS <amis@amiga.org.ru>

  * YAM_WR.c: popup gadget of the translation table doesn`t support
    any scrollbar. Fixed.

2003-11-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed tiny flaws within the test parsing routines
    that caused YAM not to display any mail text if a message part
    had zero size.
    Also increased the error checking a bit so that error
    conditions while reading the data of a part are better checked.

2003-11-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed small bug where upon an occurred PGP Error the
    logfile has been deleted even if the error messages states to
    refer to that logfile.

2003-11-16  Jens Langner <Jens.Langner@light-speed.de>

  * Recipientstring.c: fixed a possible enforcer hit on recipient
    string not having attached a FromString or ReplyTo string and
    were a recipient list had been inserted.
  * Recipientstring.c: changed the OM_DISPOSE method to be a
    MUIM_Cleanup method instead. This is necessary because the used
    macro _app(obj) is per definition only allowed within the context
    of MUIM_Setup/MUIM_Cleanup and could cause problems if used
    elsewhere.

2003-11-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: enhanced the error checking functions within
    the index loading routines a bit.
  * YAM_CO.c: once again enhanced the gadgets enable/disable
    functionality of the filter action gadgets.

2003-11-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c: the action gadgets of the filter rules will now be
    ghosted as soon as the corresponding checkmark is disabled.

2003-11-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: added "7-bit" and "8-bit" to the recognizable transfer
    encoding strings as bugreport #771917 mentions cases where mail
    clients seem to send mail with transfer encoding strings of that
    type. However, even if "7-bit" and "8-bit" isn`t RFC 1521 compliant,
    it doesn`t harm to recognize these acronyms.
  * YAM_RE.c: fixed bug #834133 where a quote-printable encoded text
    was stripped if it contained a "=00" which caused the displayed
    text to contain a NUL byte.
    Now YAM will automatically replace these NUL-bytes within a
    displayable text by spaces, so that at least the text is correctly
    showed.

2003-10-03  AmiS <amis@amiga.org.ru>

  * Debug.h, Makefile.MorphOS, YAM_debug.h, includes/extra.h:
    improved MorphOS compilation.

2003-09-28  AmiS <amis@amiga.org.ru>

  * YAM_RE.c: Added autodetection of russian codepages and
    converting names of attached files to system codepage during
    saving them to disk. (Only for Codepage Autodetect/Translation = On)

2003-09-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM_UT.c: reworked the .index loading routines a bit
    to make them a bit more robust against not enough memory conditions
    or errors while loading the index files.

2003-08-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed the BusyText display while transfering data
    from a POP server. Now YAM will even show a message within the
    InfoBar that the transfer is in progress, even if the transfer
    window is disabled.
  * YAM_TR.c: fixed the Transfer Status routines once more. I forgot
    to make sure that the status display is updated correctly at
    least at the end of each mail transfer. That should make the
    whole transfer progress a bit smoother.

2003-08-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: reworked the Transfer Status routines once more to not only
    speed up the overall processing time while exporting mails. YAM
    will now update the TransferStatus only at a maximum of twice a
    second at every operation using the Transfer window.
    That increases now also the performance of the the POP3/SMTP transfers
    especially with fast connections that would update the transfer
    stats quite often. Tests have shown that this can decrease the
    overall transfer time by a factor of ~1.6.

2003-07-08  David Rey <tactica@users.sourceforge.net>

  * YAM_global.c: replaced the copyright symbol with "(C)" to be
    friendlier with charsets where this symbol is not available
  * classes/YAM.c: likewise
  * locale/YAM.cd: likewise

2003-07-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: applied a patch for the mail export functions of YAM which
    increase the performance of a export session by a factor of ten.
    The gauge refreshing routines took to much time from the whole
    export functionality, so YAM was busy with refreshing the GUI all
    the time. Thanks to Olaf Barthel for supplying this patch.

#### YAM 2.4p1 RELEASE ####################################################

2003-05-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_WR.c: fixed a bug in the save routines for decrypting
    PGP messages. Previously YAM was not correctly saving a decrypted PGP
    message to a compressed folder.
  * YAM_RE.c: fixed bug in PGP signed routines where YAM didn`t give the
    user the possibility to check the signature even if the message was
    correctly signed.

2003-05-24  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c, YAM_UT.c: fixed bug were a mail import to a compressed or
    encrypted folder didn`t work as expected. YAM simply didn`t save the
    mail compressed or encrypted, which caused some trouble later.

2003-05-23  David Rey <tactica@users.sourceforge.net>

  * YAM_MA.c, YAM.cd: replaced MSG_MA_CROPREQUEST_GADS with MSG_YesNoReq2
    to avoid reinventing the wheel every time. MSG_AB_NOYAMADDRBOOK_GADS
    should also be dropped in YAM2.5+ in favour of the new string.

2003-05-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: fixed bug #730474 where YAM didn`t uniconfiy the application
    via a created MUI appicon if the HIDE option was used upon the
    startup.
  * YAM.c: fixed bug #727871 where it wasn`t possible to quit YAM while
    it was iconified and a confirmation requester need to pop up. Now
    YAM will automatically uniconify to request the user to answer to
    this requester before quitting. Only a "QUIT FORCE" arexx command will
    exit YAM the hard way and skipping all further user input while
    quitting.

2003-05-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c: fixed bug where the FOLDERINFO arexx command
    returned the wrong identifier for a "sent and received" folder
    type. Now FOLDERINFO will return the exact same id value for each
    folder like it is saved in the .fconfig file.
  * YAM_MA.c, YAM_RE.c, YAM_main.h, YAM.cd: added a warning requester to
    the attachment crop routines because otherwise people could loose
    attachments if they used that option on accident.

2003-05-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c: fixed bug #739139 where YAM didn`t refresh the mail listview
    upon a folder type change. Also the refresh was done slightly wrong
    which should be fixed now.
  * YAM_FO.c: fixed bug #729366 where YAM ignored the Cancel button of the
    password entry window while creating/changing a folder.
  * YAM_FO.c: fixed bug in the folder config loading routines where YAM
    always created a "outgoing" folder if the folder directory was missing
    while starting up.

2003-05-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c, YAM_COs.c, YAM_UT.c: as many people were confused by the
    fact that YAM 2.4 wasn`t automatically resizing the main listview
    columns anymore, a new hidden option "AutoColumnResize" to the .config
    file has been introduced.
    By default this variable will be set to Yes, to stop confusing people
    with the non autoresizing feature of YAM 2.4+. So, all those people out
    there whining about a slow folder switching if they have >1000 mails
    in their folders should now explicitly modify their .config file and
    use "AutoColumnResize = N" to stop YAM from using the autoresizing
    feature of NList which significantly slows down a NList refresh.
    Following that, those people should also know that they need to have
    their columns fixed if AutoColumResize is set to No.
  * YAM_UT.c: YAM will now suppress any DOS requester from popping up while
    trying to save the MUI object information to the ENVARC:mui/YAM.cfg file
    upon the exit of YAM. This should prevent people from whining about the
    fact that YAM wants to save the whole object information while quiting.
    Please note that YAM doesn`t only save the NList column widths in that file,
    but also saves information like the object weights informationm which is
    quite important for the layout manager of MUI.

2003-05-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: the ASL_ATTACH filerequesters will now show a "~(#?.info)"
    pattern as default to make living with them a bit easier ;)
  * YAM_TR.c: fixed bug in MBOX export function where YAM didn`t correctly
    export & import file depending on the "mboxrd" specification found at
    http://www.qmail.org/man/man5/mbox.html

2003-05-06  Jens Langner <Jens.Langner@light-speed.de>

  * fixed the temporary filename generation once more to generate real
    unique files depending on the YAM instance that is currently running
    and also fixed a bug where a tempfilename from OpenTempFile()
    shouldn`t be longer than SIZE_MFILE.

2003-05-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug in Popupmenu routines where the use of
    the "Export Message" item caused YAM to export all messages
    instead of just the selected one.
  * YAM_CO.c: fixed flaw in temporary filename specification for
    a new write window. Multiple instances of YAM used the same
    tempfile names for each write window and therefore interfered
    each other.
  * YAM_UT.c: fixed flaw within temporary file generation where we
    didn`t take in consideration that two YAM instances could
    use the same temporary files and therefore cause some trouble.

2003-04-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: fixed bug #729651 where YAM tried to delete a .autosave*
    file even if AutoSave=0 was set in the configuration.

2003-04-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: to make the whole AutoDST mechanism a bit more stable and
    also useable I reworked/fixed the whole GetDST() again.
    Also GetDST() now directly supports the ENV:FACTS/DST env variable
    to check for the current DST mode. So running FACTS with SummerTime
    emulation is not required anymore.
  * YAM.c: fixed bug in AutoDST recognition where YAM didn`t correctly
    recognize the SUMMERTIME environment variable because it provided
    a way too short buffer to GetVar().

2003-04-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_DI.c: fixed bug #728040 where the abbreviation string gadget
    was always reset to "-new-" even if the user didn`t confirm with
    pressing return.
  * YAM_RE.c: fixed bug #728162 where YAM didn`t quote any mail text
    upon a reply if the mail in question had an multipart attachment.

#### YAM 2.4 RELEASE ######################################################

2003-04-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed a serious bug in the RE_UndoPart() function
    where YAM didn`t correctly undo a specific part and put the
    wrong filename string in previous moved parts. This caused
    that some multipart attachments weren`t accessable.
  * YAM.c: replaced calloc()/free() calls for the TimerIO requests
    with better conforming AllocMem()/FreeMem() calls, because
    TimerIO requests need to be MEMF_PUBLIC allocated according to
    Gunther.

2003-04-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COs.c: fixed bug #724594 where YAM didn`t save the
    separate SMTP port value at all to the configuration.

2003-04-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: fixed bug #724394 where a opened bounce window caused
    some enforcer hits upon a AUTOSAVE timerequest. YAM didn`t
    take respect of the fact that a bounce window isn`t a full
    write window and therefore tried to access it in a wrong
    fashion.

2003-04-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: fixed bug #720377 where the folderlist update
    routine did count the entries in the listtree wrong and
    therefore didn`t refresh some entries if some folder groups
    where closed.
  * YAM.c: fixed bug #715959 where a fast try to double start
    YAM caused a small enforcer hit.

2003-04-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed bug #721608 where a return value of NULL
    in the GetRealPath() function wasn`t quite a wise decision as
    GetRealPath is often used in string manipulation functions.

2003-04-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: fixed bug #721041 where YAM caused some serious
    enforcer hits if a too long matchpattern was used together
    with ths substring option.

2003-04-14  David Rey <david@saug.org>

  * YAM_RE.c, YAM.cd: changed the shortcuts for the "Set status to
    marked/unmarked" menu items for them to be actually usable and
    added shortcuts for selecting no messages/toggle the selection.

2003-04-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: fixed enforcer hit upon exit, where a not previously
    issued timerequest caused some trouble. Now everyting should
    work smoothy again.

2003-04-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: added NotifyRequest mechanism to the AutoDST feature. Now
    YAM will automatically reparse a supported AutoDST environment
    variable as soon as it will be changed. This makes it possible
    to have a AutoDST system like "SetDST" running and as soon
    as this system alters the env variable, YAM will recheck this
    variable and change the DST settings accordingly. Now YAM should
    really be timezone&DST compatible like it should have been since
    ages ;)
  * YAM.c, YAM_CO.c: fixed the whole internal timerequest handling
    within YAM. Previously YAM did only use one single timerequest to
    handle the background management functions like automatic
    index saving, checking mail within a specified interval and auto
    backuping text that is currently in edit mode. YAM always issued
    a 1 second long timerequest and managed the mentioned methods by
    counting the time in own iterator variables. This caused a lot of
    overhead for the system and it is a much more cleaner approach to
    generate a single timerequest for each of this automatic interval
    methods. Now YAM will issue 3 different timerequests upon start
    without polling the system each second. Hopefully this increased
    the overall response because YAM doesn`t need to operate on a
    signal each single second.
  * YAM.c: fixed and enhanced the AutoDST facility. Now YAM also takes
    respect of the ENV:TZONE variable created by SetDST. It`s not
    completly finished yet, as we need some notification mechanism
    to signal YAM that the DST has changed.

2003-04-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c, YAM.cd: fixed bug #717880 and #717881 where we forgot
    to set a bubble help text and some shortcuts within the YAM
    configuration.
  * YAM_MA.c, YAM_MAf.c: fixed refresh bug where upon a index rescan
    the folderlisttree wasn`t correctly refreshed.
  * YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_ER.c, YAM_FI.c, YAM_MA.c,
    YAM_MAf.c, YAM_RE.c, YAM_TR.c, YAM_UT.c, YAM_WR.c, YAM_mainFolders.h,
    YAM_rexx_rxif.c, YAM_utilities.h:
    fixed the whole flawed timezone handling within YAM after I
    recognized that YAM couldn`t handle half-an-hour timezones and also
    the dates of the mails were saved within the local timezone to the
    .findex files. Now YAM doesn`t need the YAM_TZ env-variable anymore,
    because it can now also obtain half-an-hour timezone directly from
    Locale and all the timeinformation of a mail are saved in reference
    to UTC. This allows the user to switch timezones without having to
    rescan the whole indices. Please note that this change requires all
    indices to be rebuild, so that the dates are saved in UTC which
    YAM will later refer to. To make this index rescan automatic, I
    bumped the .findex version to YIN5.
    In addition to that fixes/changes, YAM should now also know all
    "well-known" timezone abbreviations. It will now also accept
    timezones which are specified in ISO8601 and accepts timezone
    abbreviations in the military format specified in RFC822.
    And as a special "bonus" the withdraw of the YAM_TZ variable seems
    to have caused that a index rescan processes about 20% faster
    than before because the mass GetVar() calls while index scanning
    are gone. All in all this whole timezone handling should be
    more stable/pratical as before and people using YAM within such a
    half-an-hour timezone should be happy now. ;)

2003-04-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_UT.c: fixed bug in YAM_TZ env variable handling where
    upon a index rescan the environment variable was checked all the
    time and probably lead to some performance problems. Now the
    YAM_TZ variable will just be checked upon a YAM startup.

2003-04-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug in the headerline parsing routines where YAM did
    also display malformed headerlines (which doesn`t conform to RFC)
    and probably mixed up the headerline display within a read window.

2003-04-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #715777 where the gauge while filtering upon new
    mails did show all and not only the new mails.
  * YAM_RE.c: fixed bug #706756 where every action within a read window
    triggered an automatic addition to the addressbook if the option was
    enabled within the configuration.

2003-03-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: bumped minimum version for NList.mcc to v20.111 or otherwise
    we will confuse people using different versions and noticing speed
    differences.

2003-03-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM_RE.c: fixed bug #706760 where upon a read of a
    PGP encrypted message that couldn`t be decrypted cause YAM
    to not display the whole error message within the read window.
    Now also the readwindow will show the encrypted message as a
    seperate attachment to make it able to save this attachment.
    Also tried to make the whole PGP decrypting more robust.
  * YAM_FO.c: the FO_SaveConfig() function didn`t return the success
    status of the write operation which caused some troubles if
    a write operation failed somehow. Now all usages of FO_SaveConfig()
    should be more save.
  * YAM_CO.c: fixed bug #683672 where upon a reload of the default
    values within the TCP/IP configuration a enforcer hit was
    triggered.

2003-03-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FI.c: fixed bug where a CloseRequest to a find window caused
    some enforcer hits if a search was actually running in that
    particular find window.
  * YAM_WR.c: removed the GroupFrame from the bouncing request window
    because it is not needed.
  * YAM_UT.c: omit the MUIA_Window_ID for the Attachment requester or
    otherwise the refering window attributes like RefWindow don`t work
    correctly and put the position of a attachment requester in relation
    to the read window.
  * YAM_RE.c: fixed bug where a found PGP PUBLIC KEY BLOCK line was not
    displayed while viewing a mail.

2003-03-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug in the SMTP send routines where the new routines
    didn`t correctly find the message body and therefore stripped some
    lines on accident.
  * YAM_TR.c: fixed serious bug within the POP3 receive routines where
    a POP3 server that allowed transfers of binary data caused YAM to
    hang under certain situations i.e. a transfered NUL (ASCII 0) caused
    YAM to request too much data from the POP3 server and therefore
    hanged YAM completly.

2003-03-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_RE.c, YAM_TR.c: fixed bug #433751 where the automatic
    deletion of mails triggered an AppIcon refresh for every deleted mail
    and therefore caused lots of flickering.
  * YAM_COs.c: fixed flaw where a "LetterPart = 0" config value always
    caused confusion on users upgrading from 2.3 to 2.4 because the old
    version did interpret the LetterPart a little bit different. If a
    user specified the LetterPart to be zero it could have happened that
    he wasn`t able to see any text on a forward or edit mail operation.
    Now YAM will always use 1 as the bare minimum for the Letterpart
    regardless of what the user specified there.
    This should explain bugreport #701002.

2003-03-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c, YAM_TR: fixed bug #701277 where YAM sent the email body
    with bare LFs which is prohibited by the RFC 2822 and therefore throw
    some errors on some pedantic SMTP servers (qmail).

2003-03-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug #700608 where a missing "unsigned" definition
    caused the automatic display charset translation to fail. Now all
    charset converters should work as expected again.

2003-03-09  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Addrmatchlist.c: fixed bug where multiple recipientstrings
    within one window didn`t correctly refresh the addrmatchlist
    position.
  * classes/Recipientstring.c: fixed bug where a recipientstring allowed
    to Advance to the next object even if the user entered a non-existent
    alias. Now the string should stay active and in addition to that
    present the user a DisplayBeep().

2003-03-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: added developer version expiration requester that will be
    presented to the user if he uses that compiled version for more than
    one month. This should minimize the problems with users using old
    developer versions we can`t build our bugreports on.
  * YAM_RE.c: fixed bug #680450 where attachment filesnames were always
    truncated to 32bytes. Now YAM should leave it to the filesystem
    to support longer filenames or not. This should also fix the
    truncation of attachment (file)names on a mail forward.
  * YAM.c: fixed bug #555698 where a missing .folders file caused some
    enforcer hits because a folder wasn`t actually selected as active.
  * classes/Recipientstring.c: added workaround for buggy Betterstring.mcc
    behaviour. Betterstring.mcc`s OM_GET method is broken and doesn`t
    return the correct MUIA_String_AdvanceOnCR value. Therefore we catch
    the attribute ourself and return it to the caller accordingly.
  * YAM_TR.c, YAM_RE.c, YAM_WR.c: fixed serious flaw within the mail
    parsing and transfer routines where YAM didn`t take respect of
    binary data could being transfered/parsed. All main parsing
    function did use fgets() and string function which could have
    caused trouble if the file/mail had null bytes within. Now
    all major routines take respect of that.
    Also reworked the Encoding test routines to pick the correct
    transfer type encoding depending on previous analyzes of the parsed file.
    This fixes bug #685826.
  * YAM_UT.c, YAM_global.c, YAM_global.h: added new common ContentType
    "application/pdf" to internal YAM types as this one is quite common
    and should be included in YAM.

2003-03-07  Gunther Nikl <gni@gecko.de>

  * classes/InfoBar.c/ShowGauge: fixed an ancient and serious bug in
    SetAttrs() call - TAG_DONE was missing...
    (Since SAS/C inlines such calls the problem was hidden. However,
    with GCC a stub function is used and thus important additional data
    is placed infront of the taglist [saved registers and return address]
    which accidently gets "part" of the taglist causing havoc)

2003-03-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c: fixed bug in MAILINFO arexx command where the
    stem variable didn`t return the 32bit checksum value in the correct
    format. Now the stem will return it as the correct 32bit hexvalue
    like it is saved within the .index file.
  * YAM.c, YAM_UT.c: fixed bug in xget() wrapper function where we
    forgot to set the destination variable to zero which caused the
    CheckMCC() function to fail if a .mcc didn`t had the
    MUIA_Version/Revision attributes.
  * YAM_FO.c: fixed bug #696732 where we used a incorrect locale text
    for the mailinglist signature help bubbles.
  * YAM_MA.c: fixed bug #697501 where the "Set status to" context menu
    items weren`t correctly disabled anymore.
  * YAM_MA.c, YAM_MAf.c, YAM_main.h, YAM_rexx_rxif.c: fixed bug #697407
    where the whole volatile/permanent flag functionality was broken.
    Reworked the whole mechanism and in addition to a better design,
    the MAILINFO arexx command also takes respect of the new marked
    message flag now.

2003-03-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: reworked own YAMMUIRequest() function a bit to work more
    accurate like the original MUI_Request() function. Also these changes
    remove the maximum value of 32 buttons per requester. Now a requester
    can have nearly unlimited buttons.

2003-02-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug where on a use of PGPv5 a unknown keyid wasn`t
    correctly identified. Damn, this whole PGP stuff really needs a
    complete rework soon.
  * YAM_UT.c: replaced redundant CompNoCase() function with a call to
    strnicmp() which anyway does the same.
  * YAM_UT.c, YAM_FI.c: increased the sizes of all buffers used with
    ParsePattern() to at least 2*sourcelen+2, as proposed in the
    dos autodocs. This should probably fix problems with hugh used
    pattern fields that caused a buffer overrun within ParsePattern().

2003-02-25  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_WR.c: removed the autoactivate of the To: string gadget again
    as it seems that one activation upon a write window open is enough.
  * classes/Recipientstring.c: fixed bug in HandleEvent() method where
    a recipientstring did always eat all RAWKEY events, even if they
    were not handled by the string itself. That caused an active string
    not to forward hotkey events to the window.

2003-02-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_MA.c YAM_RE.c: removed all Toolbar qualifier bugs
    workarounds and made the new upcoming version v15.8 the minimum
    requirement for YAM as all known bugs should be removed within
    this final version. All those workarounds in YAM caused more troubles.

2003-02-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed bug in AppendToBuffer() function where we forgot
    to terminate a string with a '\0' and therefore sometimes got
    back unterminated string which could have caused problems later on.

2003-02-18  Jens Langner <Jens.Langner@light-speed.de>

  * added seperate contextmenu for the titlebar of the MailList and
    FolderList. Now a user can directly enable/disable columns by
    using the RMB in front of the NList titlebar.
  * replaced the popupmenu.library based contextmenus with better
    integrateable MUI based contextmenus. This allows to separate the
    contextmenu in two different areas - one for the title and one
    for the rest of the listview. Also contextmenus are now possible
    even if the user hasn`t got popupmenu.library installed.
    Now YAM doesn`t require/use popupmenu.library anymore which is a
    bit more "natural" for a MUI application.

2003-02-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: reworked the textstyle highlighting regular
    expressions to work more accurate and also allow to stylish text
    passages with only one character. That fixes bug #683385.

2003-02-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: fixed tiny bug in the text highlighting routines
    where after a URL in a quoted text part, the color information
    was lost.
  * YAM_CL.c: changed the TextEditor WheelMouse support to scroll
    up/down by a value of 1/6 of the displayed text. Let`s see if
    this is the value most people can live with :)

2003-02-14  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Addrmatchlist.c, classes/Recipientstring.c: changed the
    Recipientstring and it`s matchwindow to support selection via
    the mouse including the possibility to use the wheel to scroll
    up/down in the addrmatchlist. This also fixes bug #645653.
  * YAM_WR.c: changed writewindow to automatically select the
    To string gadget as the active object upon a selection of the
    first page.

2003-02-13  Jens Langner <Jens.Langner@light-speed.de>

  * classes/Addrmatchlist.c: if the window that the addrmatchlist was
    displayed in had been moved while the matchlist was open, the next
    time it opened at the wrong position.
  * YAM_CL.c: added Wheelmouse support to own TextEditor subclass. As
    the original TextEditor doesn`t support the newmouse
    NM_WHEEL_UP/DOWN codes, YAM catches this codes on it`s own now and
    sends the slider the correct commands to scroll down/up.

2003-02-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: changed array MUIM_NList_Insert call to use the newly
    introduced MUIV_NList_Insert_Flag_Raw flag. This flag allows to
    insert data into a NList without reevaluating the NList`s column
    width on each insert operation and therefore speeds up the insertion.
    This new flag is only available if NList.mcc v20.109 or higher is
    used. If a lower version is used, YAM will simply display the mail
    listview with the old speed :)
    Tests have shown that together with this new flag it is possible to
    insert ~8000 elements in around 1-2 sec. instead of 8-9 seconds
    previously.

2003-02-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug #678206 where YAM did strip the signature separator
    upon a mail edit.

2003-02-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: The read window will also take respect of the newly
    introduced marked flag now.
  * supportfiles/icons: Now the 16color Iconset is the new default set
    for YAM. Moved the old and partly outdated 8colors images to std8col
    subdirectory.
  * YAM_RE.c: A mail that is actually displayed within the read window
    can now easily be set to "marked" by using a new introduced readwindow
    menu item.
  * added an additional "marked" mail flag to YAM. Now it is possible to
    set the status of a mail to "Marked" which causes YAM to set a
    special flag to that mail. If a mail is then flagged as "marked",
    YAM will try to highlight this certain mail within the Mail Listview.
    If a new image file "status_mark" is present within the PROGDIR:Icons
    directory, YAM will use this image within the Listview as an additional
    status icon. If this new image file is missing, YAM will simply highlight
    this message by displaying the Senders name with bold letters.
    Also the Status sorting routines take respect of that new "marked" flag
    now, which makes it possible to better sort that marked mails.
    This new flag should make it possible for the user to highlight
    certain mails for later reference, like it is common with other mail
    programs. Please note that YAM will use the mailfile comment field to
    save the flag informatin permanently, if the index needs to be rebuild.

2003-02-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_FO.c: removed the extra Foldername Requester as it caused more
    confusion concerning the Path and Directory settings of a folder.
    Now the user can directly specify the correct folder path within
    the general folder configuration. Also enhanced Warning requesters
    concerning the existance of a folder. Now it should be more intuitive
    to change/set a foldername and path. This also fixed bug #571768.

2003-01-31  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CL.c: YAM will now insert the famous multilinedelete replacement
    text snippet "[...]" if the user marked whole lines and presses
    RAMIGA+DEL within the Write window. This tiny text snippet is used
    quite often in mailinglists and signals the reader that a whole bunch
    of lines have been deleted in the replied text. Previously a user
    had to add this "[...]" snippet on his own, but now YAM inserts it
    automatically if the user deletes those lines with RAMIGA+DEL.

2003-01-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: fixed bug #674998 where a empty mailbody caused
    YAM to not refresh the read window or even hang the whole
    application.

2003-01-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: the new syntax highlighter didn`t center lines that
    starts with <sb> anymore.

2003-01-23  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug where the SaveDisplay functionality did save
    the same headerline more than once to the resulting file if it
    was wrapped within the header display.

2003-01-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: modified the regular expressions of the text scanner
    once more to be more accurate in finding the end of a URL and Email
    address in the text. This fixed bug #671394.

2003-01-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_mail_lex.l: slightly optimized the regular expressions to be
    more accurate in finding the correct tokens.

2003-01-15  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #667194 where a reply or forward of a "virtual"
    mail caused an enforcer hit.
  * YAM_CO.c, YAM_COs.c, YAM_COg.c: added additional color selection
    gadgets for the 1st, 3rd and 4th level quotes. Now the user can select
    different colors for each quoting level. In addition to that also
    the used colored for highlighting URLs is now user configurable within
    the YAM config. This shows how powerfull the new preparsing routines
    are.
  * YAM_RE.c: removed the RE_ExtractURL() function and replaced it with
    a own function that also uses the lexical analyses functions
    introduced recently. This should also make the search for URL
    passages much more precise within YAM.
  * disabled the use of all MUIV_TextEditor_ImportHook_EMail within YAM
    because the internal E-mail importhook of TextEditor seems to be
    way to buggy to allow it to crash YAM anymore.
    As a replacement I implemented own text preparsing routines to highlight
    text passages. This routines are mainly based on the flex tool which
    generates own, fast and reliable lexical analyses. Now YAM should not
    only run more stable, it should also be more precise in highlighting
    URLs, using textstyles such as *bold* /italic/ and so on and it should
    probably also be a bit faster.
    Please note that you now need at least flex v2.5 to correctly compile
    YAM out of the box. One more advantage of this flex mechanism is, that
    we can now exactly specify text areas that should be highlighted with
    the use of regular expressions (flex format). This makes the whole
    engine more powerful and precise.

2003-01-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COs.c: added dozen of "else if" instead of simple "if" statements
    to the config loading routines of YAM. That should speed up the config
    loading very significant.
  * YAM_RE.c: removed MUIM_TextEditor_ClearText calls because they seem
    to be one of the reasons why some emails crash if the Next/Prev
    functionality is used.

2003-01-08  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug #658937 where a MAILSUBJECTCHANGE arexx command
    did trash some memory if a subject larger than SIZE_SUBJECT has
    been used.
  * YAM_rexx_rxif.c, YAM_TR.c: fixed bug #659733 where the MAILCHECK
    arexx command did set the <stem>.OnServer variable not correctly.
    Previously it was just set to the amount of mails before the
    occured download, but now it correctly just shows the remaining
    mails after the download. Also recognized/fixed that after a download
    of 0 mails, the LastDL struct wasn`t set correctly, which also caused
    the MAILCHECK command to return RC 5, which wasn`t quite correct at all.
  * YAM_MAf.c: changed MA_ExamineMail() function to not use a static
    buffer for operation. That caused bug #657352 and probably was also
    the reason for some strange behaviour somewhere. Before that fix
    it was unsafe to use MA_ExamineMail() twice in a row, because the
    second call would have deleted the results of the first one.

2003-01-07  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c: fixed bug #658683 where the APPBUSY arexx command
    required some text. Now you can simply call APPBUSY without any
    option and YAM will only set the application to sleep without
    placing any text in the busy region.
  * YAM_rexx_rxif.c: fixed bug #658259 where YAM didn`t resolve names
    or aliases if they belonged to a distribution list.
  * YAM_AB.c, YAM_rexx_rxif.c: fixed bug #658175 where it was
    possible that a wrong birthdate definition was passed
    through the ADDREDIT command and throwed an enforcer hit.
    Now the command returns an RC 10 code if something is wrong with
    the supplied birthdate number. In case a zero is supplied
    to the ADDREDIT command, YAM will delete the current set
    birthdate accordingly.
  * YAM_RE.c: YAM now also correctly recognized pgp signed
    messages that begin with "-----BEGIN PGP SIGNED MESSAGE" and
    flags this messages as "signed".

2002-12-25  David Rey <david@saug.org>

  * YAM_rexx_rxcl.c: the INFO template was still wrong.

2002-12-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_rexx_rxif.c: changed the bugfix of
    bug #596303 on user demand. Previously YAM
    did always put the Application to sleep if the Busy()
    function was used. This made the usability of the
    application a bit too annoying. Now we just put
    the application to sleep (showing a busy pointer) if
    the APPBUSY arexx command will be used.

2002-12-09  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_DI.c: fixed bug where the listview wasn`t always
    in sync with the current Abbreviature text.

2002-12-06  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c/MA_GetRealSubject(): fixed bug where YAM didn`t
    correctly return the real subject if a subject line with
    brackets hadn`t got any whitespace between the last
    bracket and the real subject line. Also slightly optimized
    the function a bit.

2002-12-05  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c/Busy(): fixed bug #596303 and brought back the
    MUIA_Application_Sleep calls to make the Busy() function work
    again like in 2.3. These calls doesn`t seem to harm the
    performance anymore (at least with MUI 3.9) like described in
    bug #458521. And if so, this is more a problem of old MUI
    versions and not ours.

2002-12-04  Gunther Nikl <gni@gecko.de>

  * YAM.c: (TC_Dispatcher) reformat loops (no code change),
    (Terminate,Initialise,main): use <= MAXWR, (SendWaitingMail): simplify
  * YAM_UT.c: (SPrintF) use va_list for non-MorphOS case too

2002-12-03  Gunther Nikl <gni@gecko.de>

  * YAM_UT.c/YAMMUIRequest: use do/while loop, correct type of return
    value for MUIM_Application_NewInput
  * YAM.c/DoStartup: use do/while loop
  * YAM_CL.c/BC_Dispatcher: improve data->BCD handling
  * YAM.c/Initialise: use MAXWR+1 as loop count when initialising notify
    requests, main: move local variables to better scopes, fix signal mask
    (notsig2 was never waited for!), merged separate notifyrequest handling
    into one loop, StayInProg: simplify
  * YAM_UT.c/PlaySound: fix warning #120 almost without a cast,
    LoadBCImage: fix and simplify
  * YAM.c,YAM_DI.c,YAM_MAf.c,YAM_RE.c,YAM_TR.c: remove superfluous test
    before FreeStrBuf()
  * YAM_utilities.h/FreeStrBuf: use sizeof() instead of hardcoded constant

2002-12-03  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CL.c: replaced multiple set() call to the same object
    with a single SetAttrs() call.

2002-12-02  Gunther Nikl <gni@gecko.de>

  * YAM_COs.c/CO_LoadConfig: constified sortconv[]
  * YAM.c,YAM_UT.c: use EasyRequestArgs()
  * YAM.c: suppress warnings for TimerBase (different casts),
    use MAXICONS as loop count in SetupAppIcons()
  * YAM_UT.c/ExpandText: move chr[] to its usage scope
  * YAM_WR.c/WR_AddArchiveFunc: likewise
  * YAM_UT.c/(RemoveCut,IdentifyFileDT): fixed wrong static usage,
    remove unused dead code (Index), stylistic changes
  * YAM_UT.c/AllocStrBuf: use size_t as argument type
  * YAM_UT.c/StrBufCpy,StrBufCat: adapt to that change
  * YAM_rexx_rxif/rx_addrresolve: remove cast of AllocStrBuf argument
  * YAM_UT.c/AllocCopy,CompressMailFile,UncompressMailFile,CheckPrinter,
    IdentifyFileDT: miscellaneous changes
  * YAM_CL.c/BC_Dispatcher: remove test in case of MUIA_Bodychunk_UseOld
  * YAM_FO.c/FO_MLAutoDetectFunc: fixed potential enforcer hits
  * YAM_UT.c/StrBufCpy,StrBufCat: optimized

2002-12-02  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c/YAM_MA.c: fixed bug #635892 where
    the GETSELECTED arexx command returns wrong values
    on a use at empty folders or if a folder group was
    actually active.

2002-11-30  Jens Langner <Jens.Langner@light-speed.de>

  * includes/SDI_compiler.h: added REGARGS define for MorphOS
  * Makefile/Makefile.MorphOS: added $(CPU) to LDFLAGS

2002-11-27  Gunther Nikl <gni@gecko.de>

  * YAM_MAf.c/FO_SetCurrentFolder: fix wrong NULL usage
  * classes/Recipientstring.c: fix wrong NULL usage, drop superfluous
    strlen()
  * classes/YAM.c: fix wrong NULL usage, changed casts in
    EMailCacheNode handling
  * includes/inline/amissl_protos.h: added
  * includes/extra.h: add prototype for strdup (VBCC, STORM3)
  * classes/ClassesExtra.h: add extra.h
  * extrasrc/access.c, extrasrc/strdup.c: add
  * all_vbcc.c, all_storm.c: use it
  * all_gcc.c: disable runtime CTRL-C checking
  * Makefile: fixes and cleanup
  * VMakefile: updated

2002-11-22  Gunther Nikl <gni@gecko.de>

  * includes/proto/amissl.h,includes/proto/genesis.h,includes/proto/miami.h,
    includes/proto/muimaster.h,includes/proto/openurl.h,includes/proto/pm.h,
    includes/proto/socket.h,includes/proto/xpkmaster.h: re-established VBCC
    support
  * includes/clib/socket_protos.h: add define for htons if its missing
  * YAM.c/CheckMCC: reduced stack usage and simplified it

2002-11-21  Gunther Nikl <gni@gecko.de>

  * includes/clib/socket_protos.h: usage of sys/types.h removed
  * YAM_UT.c/CRC32: replaced dynamic CRCTable with a static const one
  * YAM_utilities.h: removed prototype for FreeCRCTable
  * YAM.c/Terminate: removed FreeCRCTable call
  * smakefile: corrected CFLAGS and LNKFLAGS

2002-11-13  Gunther Nikl <gni@gecko.de>

  * YAM.c: wrap SetupDebug() into DB()
  * classes/YAM.c, classes/Recipientstring.c: use DB wrapper
  * YAM_FO.c, YAM_RE.c: no stray ";" dueto DB statements
  * Debug.h: remove empty D/SetupDebug definitions

2002-11-13  Gunther Nikl <gni@gecko.de>

  * YAM.c: don't call Terminate() inside the exitfunc on a premature exit
  * YAM_MAf.c: use alignment headers

2002-11-08  Gunther Nikl <gni@gecko.de>

  * YAM.c: removed "struct Device *TimerBase"
  * YAM_global.c: added it here
  * YAM_find.h: define FORMAT_DEF if its not defined

2002-10-31  AmiS <amis@amiga.org.ru>

  * Added analyse "x-senderinfo" fields and and automatically
    translate them to system codepage if "Codepage Autodetect/Translation"
    option is turn on. Mainly for cyrillic users.

2002-10-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug #625377 where YAM displayed the
    first message part of a mail even if it were recognized as
    a non printable part. Remember, only the first part in
    a message will be considered the "real" message if it
    is in a printable format, if not it is recognized as
    an attachment.
  * YAM_RE.c, YAM_MA.c: fixed a possible buffer overrun
    in the DisplayHook of the Attachment requester.
    Also fixed a possible problem with attachments which
    included "%" chars - some sprintf() drove crazy because
    of it ;)

2002-10-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: YAM_UT.c, YAM_MA.c: had to remove the LEN_DATSTRING
    from the allocations for the buffer of DateToStr() again
    and extended those buffers to 32bytes each as OS3.1 doesn`t
    seem to respect it anyhow, if used with FORMAT_DEF.
    What happend was, that in case that a .country file was used
    with returning date strings longer than LEN_DATSTRING,
    OS3.1 just overwrote our own buffers and YAM ended up in weird
    crashes. In fact this only happened with the standard
    OS3.1 italia and portugal country files as those are the only
    two that could return datestrings longer than LEN_DATESTRING.

2002-10-21  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c, YAM_MA.c: changed buffer allocation
    constants to use the LEN_DATSTRING defined symbol
    for better clarifications in those sections.

2002-10-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: fixed bug #624953 where YAM did provide
    the %h variable option for the reply texts in the
    configuration window where this feature isn`t quite
    possible or reasonable.

2002-10-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c, YAM_FI.c: changed the DisplayHook of the Mail
    Listview and FindWindowListview to be a NList_DisplayHook2
    so that we are able to distingush between them. We actually
    just use one Hook for both windows and this made it
    necessary to be able to distingush for some reason, like
    which column should be displayed in which window aso.
    Also added the Received/Sent date column to the findwindow
    as it seems to be of some use.
  * YAM_RE.c: reworked the Next/Prev Thread routines a bit and
    made them first search the folder of the refering mail we are
    searching from. If no followup could have been found in this
    folder, YAM will prompt the user if he really wants to
    load other index files to scan other folders. This should make
    the searching for the next/prev thread remarkable faster and
    also hopefully safer.
    Please note that there still exists the flaw that a message
    could have more than one followup to it and that YAM actually
    just search for the first followup and then immediatly displays
    the message.
  * YAM_UT.c: fixed bug in the AllFolderLoaded() function where
    YAM didn`t also check the last folder in the list.

2002-10-16  Jens Langner <Jens.Langner@light-speed.de>

  * added the possibility to correctly display/sort messages
    by the date they were received/sent. Previously YAM lacked
    to correctly save and display messages if they were sorted
    by "date received".
    To fix that lack, YAM now also saves the received date
    within the .index files of the folders and in addition to
    that also within the file comment as a base64 encoded string.
    This is necessary to make it possible to rescan the index
    without loosing the exact received/sent date after the scan.
    Also it is now possible to display the sent/received date
    within the mail listview by selecting "Date Sent/Received"
    from the config [Lists] tab.
    Please note that with this new feature/bugfix it is
    _necessary_ to do a complete rescan of the .index files of
    your folders.
    This should normally automatically be covered by the last
    index version update to YIN4 - if you used a version in
    between of this two changes you will end up with "corrupt index"
    warnings which should easily be solved by doing a manual
    rescan.

2002-10-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c, YAM.c: reworked the index loading/rescanning
    routines a bit to work a bit safer.
  * YAM_COg.c: changed Layout of NewMail/Download MUI group
    a bit and disabled the automatic ghosting of the WarnSize
    gadget to make more clear that this WarnSize is not only
    dependend to the Preselection gadget.

2002-10-13  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c, YAM_FI.c, YAM_UT.c: changed all DateTime FORMAT_DOS
    usages to FORMAT_DEF ones. This allows YAM to preferable
    use the Locale preferences for displaying the Date in
    the Mail listview and other areas.

2002-10-12  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: reworked the mailheader parsing a bit to make
    things more clear and faster.
  * YAM_MAf.c: fixed bug where YAM didn`t correctly connect
    multiline headers and stripped too many spaces.
  * YAM.c: fixed bug where on a fresh start of YAM the mail
    listview was out of sync with the folderlisttree and caused
    some weird enforcer hits if the first folder in the listtree
    wasn`t actually the INCOMING folder.

2002-10-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_read.h: replaced the numerical constants for
    the HeaderModes of the Readwindow with some more descriptive
    Symbols of "enum HeaderMode".
  * YAM_RE.c: added "[" and "]" to the allowed characters
    within a URL. This should fix problems with URLs that
    contain these characters somehow.
    Please note that placing URLs in braces like
    "[http://www.test.de/]" within a mail isn`t really a good
    idea and we count this as a user fault ;)

2002-10-09  Jens Langner <Jens.Langner@light-speed.de>

  * replaced YAM_hook.h with more standarized SDI_hook.h and
    also changed the inlcude statements accordingly.
    Also updated the SDI_compiler.h to newest version.

2002-10-07  Christian Hattemer <krille@users.sourceforge.net>

  * YAM_RE.c: Don't try to use PGP if it's not installed

2002-10-04  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #588099 where YAM didn`t automatically
    download new mail if the "DownloadLarge" option was
    disabled within the configuration.
  * YAM_RE.c: fixed bug #617855 where YAM showed an message part
    text within the readwindow even if "Read/Show all Texts"
    was disabled in the config and the user somehow "decoded"
    the message part by selecting display or save.
  * YAM_UT.c: replaced rudimentary ComprMsgID() algorithm with
    a more unique CRC32 checksum algorithm to give the Next/Prev
    Thread function more power in finding the correct follow-up
    Message. This fixes some problems where YAM did find the
    incorrect message on a Next/Prev Thread.
    NOTE: Please note that because of this different checksum
    calculation routines, all index files of the folders have to
    be recalculated. That`s why the .index ID was increased to
    "YIN4" so that next time you open your folders YAM should
    automatically renew the index file.
  * YAM_RE.c: fixed bug where on a FollowUp with Next/Prev Thread
    YAM didn`t correctly changed the folder and sometimes showed
    weird data.

2002-10-01  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: dropped the idea of resorting the listview on
    a mailstatus change within a sorted by status listview
    again. It seems that ppl just lost track of the messageview
    somehow.

2002-09-29  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c, YAM_FO.c, YAM_UT.c: fixed bug #596302
    where the FOLDERINFO and GETFOLDERINFO arexx command still
    worked somehow on foldergroups. Also fixed the indexing
    behaviour of FOLDERINFO aswell as the foldertype
    specification.
  * YAM_FO.c: fixed bug #589038 where on a folderlist reset,
    the listtree didn`t show the foldericons afterwards and
    didn`t correctly freed the previous images.
  * YAM_FO.c: fixed bug where after a creation of a new folder,
    YAM did always show the foldergroup icon in front of the new
    folder.

2002-09-28  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: fixed bug in the BusyText functions where YAM didn`t
    restore the correct previous text on a BusyEnd;
  * YAM_MA.c: YAM didn`t clear the listview if the user issued
    a index rescan. That caused some corrupt listview display
    if the user scrolled around the listview if the rescan was
    still underway.
  * YAM_RE.c: fixed bug #595017 where YAM didn`t switch to the
    correct folder and highlighted the message if a SwitchMessage()
    (Next/Prev) was done in a readwindow with a mail whos
    folder wasn`t actually active.
  * YAM_MA.c: fixed flaw where YAM did loose the track of
    messages in a readwindow when the listview was sorted by
    status and the user wanted to use Next/Prev to read other
    messages. Now YAM will not resort the listview if the
    message is currently displayed in a readwindow.

2002-09-27  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MA.c: fixed bug where YAM didn`t resort the mail
    listview if it was selected to be sorted by status and
    the status changed somehow.
  * YAM_MA.c: changed the status sorting priorities back again
    to just take the real mail status (New/Unread/Read aso.) and
    the importance of the mail in account for sorting the mails
    or otherwise a sorting by status&date would be kinda
    confusing. For more detailed description refer to the affected
    source code parts.
  * YAM_RE.c: fixed another bug within the MIME Viewer parts
    of YAM were the argument of the MIME Viewer needed some
    extra attention concerning quotation marks. Now YAM should
    be able to execute the mime viewer correctly even if the
    path to the file has some whitespaces in it. It will also
    take care of the variant if the user already used quotation
    marks within the MIME configuration.

2002-09-26  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c, YAM_CO.c, YAM_FI.c, YAM_MA.c, YAM_UT.c, YAM_WR.c,
    YAM_utilities.h: fixed bug #610607 where mails in a
    PROGDIR: located folder were unable to display the RAW part.
    YAM was just forwarding PROGDIR: to the third party program
    where then this programs tried to find the mailfile out of
    PROGDIR: which obviously wasn`t correct. Now YAM will always
    do a Lock()/NameFromLock()/UnLock() to get out the
    correct path to the file before executing a third party
    program (mime viewer).

2002-09-14  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed bug #601755 where YAM showed the overall
    transfered bytes in the transferwindow always doubled by
    the amount of mails downloaded.
  * YAM_RE.c: fixed bug #598715 where YAM didn`t display the
    letter part of a message if the user deselected "Display
    All Texts" within the Read configuration and if the
    message was a multiple MIME encoded message were we had
    to "undo" some message parts because of different msg
    boundaries. YAM wasn`t reorganizing the msg part numbers
    on a UndoPart operation and therefore lost the sync of
    the message parts somehow. This fix should perhaps also
    automatically fix some other strange behaviour were some
    MIME parts were undoed by YAM.

2002-09-11  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_COg.c: fixed bug #600543 where YAM will now ghost the
    according string gadget if the preselection mode doesn`t
    require any size input

2002-09-10  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_MAf.c: fixed bug #586671 in the folder index rescan
    routines where it could have happened that on copying
    a valid mail file into a mailfolder without YAM causes YAM to
    show up 2 equal mail files in the listview. This was caused
    because the rescan routine deleted the .index file while
    rescanning which caused YAM to loose the dirtree somehow.

2002-08-22  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_RE.c: fixed bug where the temporary unpack files weren`t
    deleted if the message was just switched within the same
    read window.
  * YAM_UT.c: fixed bug where it could have happened that
    YAM deleted the temporary unpack files (.unp) too early
    which resulted in some missbehaviour. For instance it was
    impossible to display the raw message part of a message
    that was located within a compressed folder.

2002-07-20  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_UT.c: reworked the FormatSize() function once more to
    now show sizes as a base of 2 for the fraction modes.
    Please note that this function will round the value
    depending on the selected precision mode - so i.e.
    102397 bytes is "100,0 KB", but "99,997 KB".
    Also slightly improved the overall performance of the
    function itself.

2002-07-19  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_rexx_rxif.c: fixed bug where the SHOW arexx command
    didn`t work as expected directly after a start of YAM with
    the HIDE option.
  * classes/YAM.c: fixed bug #583098 where the emailcache
    didn`t seem to work correctly as it should. Somehow it didn`t
    add new entries to the file, and if then not to the
    correct position. Now it should always add new entries to
    the top of the list like a FILO.
    Also added some security check to the load function of the
    emailcache so that it will not read more lines than 100. In
    addition now YAM will also correctly free the whole list on
    exit.

2002-07-18  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_TR.c: fixed behaviour of the transfer status of the
    Transferwindow where the Gauge never really reached 100%
    even if the mail was finished.
  * YAM_TR.c: YAM didn`t issue any error message under certain
    situations while sending a mail. Now YAM should pop up a proper
    error message to signal the user that the connection was broken
    somehow.

2002-07-17  Jens Langner <Jens.Langner@light-speed.de>

  * YAM_CO.c: fixed bug #580961 where the default AppIcon Label
    wasn`t localized at all.
  * YAM_rexx_rxif.c: fixed bug #580964 where the ADDRDELETE
    arexx command had deleted the active entry if the command
    was called with an entry that didn`t exists in the ABook
    at all. Now the command will return a WARN(5) code if the
    entry wasn`t found.

2002-07-16  Jens Langner <Jens.Langner@light-speed.de>

  * YAM.c: added an additional check to the new CheckMCC
    function that will allow also broken .mcc to pass the
    test if the library version matches the one requested.
    In the particular example Toolbar.mcc is broken which
    will result in a a requester that requests the same
    version that we were searching for.
  * YAM_utilities.h: fixed bug #580966 where we lost the
    "Displayed Text" option within the save and print
    attachment requesters because of some screwed up
    flags.
  * YAM.c, YAM_MA.c, YAM_MAf.c, YAM_TR.c, YAM_UT.c,
    classes/InfoBar.c: fixed bug #557910 where the status
    icon of the infobar wasn`t in sync with the one in the
    folder listtree. Now they both should always show the
    same icon depending on the status.
    Please note that this fix could lead to additional
    flickering within the Listtree, which is a NList.mcc
    bug that is fixed within version 20.107+.

2002-07-11  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: added some general flags for the ->Status
    flags used within the preselection routines to make it
    easier to track down the purpose of some operations.
  * YAM_MA.c, YAM_MAf.c: changed the displayhook of the
    folder listtree and mail listview to skip certain
    operations if the user didn`t select any of the colums
    where this operations will be performed. This should
    slightly increase performance on that listviews.
  * YAM_UT.c: fixed bug #579202 where we used the wrong
    separator character for the precision sizes within the
    mail listview.
    Also fixed another bug within the FormatSize() function
    where it didn`t format sizes correctly. Now it should work
    as expected.
  * YAM_CO.c: fixed a small bug in the filter configuration
    page, where on a change from/to a Remote-Filter the
    Cycle gadget of the filter rule wasn`t notified and
    therefore showed some weird data.

2002-07-10  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_RE.c: modified the ExtractURL function once more
    to be a bit more precise on recognizing email addresses.
    Now it should really only recognize proper email adresses
    and not any word that contains a "@".

2002-07-09  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_RE.c: reworked the DoubleClickFunc of the Readwindow
    a bit to make it work more precise on the word the user
    really has double clicked on. This will make it possible
    for the user to double lick on two URL in the same line
    with having two separate actions to occur.
  * YAM_RE.c: Made the ExtractURL code within the ReadMessage
    functions a bit safer and also added normal email addresses
    to the recognition also. Now normal email addresses without
    a mailto: will not only be clickable within the readwindow
    they will also be highlighted like other clickable links.

2002-07-08  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_RE.c: Undecoded message part sizes will now also be shown
    directly within the Readwindow with the ~ sign, like within
    the attachment window. This should make it more clear that the
    size of the message part isn`t known yet and that this is just
    a approximation.
  * YAM_rexx_rxif.c: changed the INFO arexx command to
    require the ITEM attribute and return an error as stated
    in the arexx documentation. This fixes bug #555127
  * YAM_FO.c: fixed another enforcer hit within the ML-Autodetect
    functions that occured if only one mail was in a folder.
    This should hopefully fix this whole autodetect thing now.
  * YAM_RE.c: fixed the doubleclick on mailto: functions once
    again and now it should also recognize ?subject= attributes
    and as a special bonus I also added support for cc= and bcc=
    as defined in the HTML standard.
    It will also try to figure out "&amp;" as the separator
    between attributes. With that I recognized that also the ";"
    was missing within the legal chars of a URI because a valid
    URI can also be something like:
    "mailto:a@b.c?subject=test&amp;cc=b@c.d"
  * YAM_WR.c: reverted the Hotkeys for the Menushortcuts of
    the write window back to use CommandStrings, so that they
    will not interfere with the same hotkeys for other gadgets.

2002-07-05  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_UT.c, YAM_FO.c: reworked the whole "Autodetect"
    feature for MLs once more and hopefully now it will be
    stable and doesn`t crash at all. Also found and fixed
    a bug within the SWS string functions. This should fix
    bug #555125 and #557784.
  * YAM_COg.c, YAM_COs.c: changed the location of the
    "New Group for addrbook entries" string gadget and added
    a MUIA_Disabled relation to the above cycle gadget to better
    point out that this two options are belonging together.
  * YAM_RE.c: the designated addressbook group for new
    automatic added entries didn`t work correctly - fixed now.
    This should fix bug #528082, even if we have to mention
    that this group will only be used if a address is added
    automatically as soon as the user reads a message.
  * YAM_MA.c: fixed bug #431549 where it was possible to
    interrupt a transfer by trying to use the "Check Version"
    menuitem within the Main menu.
  * YAM_MA.c: the "Show last message" menuitem will now
    be disabled by default after a startup of YAM if there
    are no pending errors somehow.
  * YAM_ER.c: fixed bug #431550 where the activation of
    the error window via the Menuitem "Show last message"
    caused a actual transfer to abort. Also enhanced
    the Error window handling a bit.
  * YAM_MA.c: fixed enforcer hit that occured on clicking
    the support URL within the About window while YAM
    was starting up. (bug #576191)

2002-07-04  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_RE.c: fixed bug #557524 where the doubleclick action
    on a mailto: link didn`t work anymore.
  * YAM_WR.c, YAM_CL.c: even if the Attachment NList is
    inherented from List.mui, it seems much clearer to use
    NList tags for all operations on this list. So now
    the attachment list will use NList tags when ever
    possible.
  * YAM_WR.c: fixed bug #555122 where we forgot to delete
    temporary files if an attachment that has been added to
    the attachment list of the write window was deleted
    immediatly.
  * YAM_UT.c: made our own MUI_Request() replacement even more
    compatible with some information provided by Allan.
    Now the requester should also be useable with F-keys like
    the native one and will listen to Window Closerequests also.
  * YAM_WR.c: changed the menu shortcuts for the TextEditor
    to be show up as normal shortcuts and not as CommandStrings
    as I can`t see really a good reason not to do so.
  * YAM_WR.c: fixed a tiny, but extremly nasty bug within the
    MenuStripObject for the Writewindow, that crashed a gcc
    compiled version of YAM as soon as one tried to Dispose the
    Write Window. Somehow this bug didn`t show up with SAS/C.

2002-07-02  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_UT.c: our own MUI_Request() reimplementation didn`t
    support a immediate exit via the "ESC" key. Now this
    should be possible like with the original MUI_Request().
  * YAM_MAf.c: did some small performance tuning to the
    MA_ExamineMail() function where we didn`t use "else if"
    constructs somehow.
    Also added a mem clearing memset() to the SaveIndex()
    function to make sure that also the reserved array of the
    index structured is somehow equal each time a index is
    regenerated.
  * YAM_TR.c: fixed small flaw in the newly introduced TCP/IP
    routines where we threw an error on the optional UIDL command
    which is not supported by all types of POP3 servers.
    There is still the flaw in YAM that if a POP3 server doesn`t
    support either TOP or UIDL command, the "Avoid Duplicates"
    option cannot somehow work and therefore we should inform the
    user about it, but as this "Avoid Duplicates" option is a
    general one for all POP3 servers in a list, we don`t bother now
    and just skip over that tiny thing, as it wouldn`t really hurt
    and otherwise it would take the user the possibility to have
    POP3 servers in his list that doesn`t support that UIDL features
    at all. We therefore should address this functionality to
    be changed within the next release and put it configurable
    for every POP3 server within the config.

2002-07-01  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: fixed many major flaws within the whole TCP/IP
    routines according to some ideas from Jörg:
    1) YAM didn`t make sure that it sent/received whole command
       lines and missused some RecvDat() calls which could have
       caused some weird behaviour if receiving/sending packets
       were fragmented too much. i.e. we try to use the new
       ReadLine() function werever possible now.
    2) Reimplemented the Read/Write TCP functions to use general
       read and write buffers. Now YAM will use buffers for mail
       transfers as much as possible which could possibly speed
       mail transfers up to 100%.
    3) Improved the abort handling of the SMTP routines. Now it`s
       not possible anymore to send distorted messages by aborting
       a actual SMTP transfer.
    4) restructured the whole SMTP/POP3 command routines to use
       general identifiers for all known SMTP/POP3 commands, which
       simplified many functions and makes it easier to identify
       problems or extend the functionality in future versions.
    5) tried to improve the overall function API for all important
       TCP functions, so that they are more descriptive and open
       for future enhancements.
  * YAM_UT.c, YAM_utilities.h: replaced FreeStrBuf() function
    by a simple function macro for speed reasons.

2002-06-28  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: fixed some more bugs within the transfer preselection
    routines. Mainly we forgot to filter already downloaded mail,
    even if the user aborted the transfer, this would leave
    unfiltered mail in the incoming folder.
    Secondly, the PAUSE and RESUME buttons within the preselection
    window somehow didn`t work correctly because we forgot to
    remember the last mail that was displayed within the transfer
    window. Now the whole preselection stuff should work as
    expected and a bit safer.
  * YAM.c, YAM_UT.c: fixed the recalculation routines of the
    folder listtree where it didn`t take respect of grandparent
    folder groups. If a mail within a folder had the status of
    Unread and this folder was itself also located within a full
    folder group hierarchy, all the grandparent foldergroups didn`t
    refreshed their statuses.

2002-06-27  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: fixed some design bugs within the TCP/IP stuff.
    We didn`t issue a QUIT command to either the POP3 or SMTP
    server on a abort. Also fixed some enforcer hits that occured
    on aborting of transfers. This whole abort functionality
    should perform a bit better now, even if it`s implementation
    is very bad and has to be rewritten within the next release.
  * YAM.c: fixed a big flaw in the mail transfer routines
    where YAM didn`t take respect of a preselection window if
    a automatic mailcheck was selected within the Start/Finish
    section of the Config. This should fix the bugreport #555673
  * YAM.c, YAM_rexx_rxif.c: the WRITE#? and READ#? rexx commands
    were often missunderstood to work on the actual windows that
    are opened by the gui. But for these commands to work properly
    it is necessary to issue a MAILWRITE or MAILREAD command first
    to set a window active within the own arexx scope. The only
    problem that arised from the actual implementation was, that
    this scope variables were set by default to 0 and therefore
    the first opened window was the actual window this commands
    were performed on. Now YAM will set this active variables by
    default to -1 so that a user HAVE TO issue a MAILREAD/WRITE
    command before using any of the WRITE#?/READ#? commands.
    This should explain and make the reported "bugs" #555118 and
    #555120 obsolete.

2002-06-26  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: fixed another flaw in the POP3 implementation of YAM
    where YAM didn`t check the statuscode of the welcome message of
    the POP3 server it was connecting to. Now YAM should pop up
    a proper error message with terminating the connection
    accordingly.
  * YAM_TR.c: fixed a small TCP/IP flaw within the APOP functions
    where YAM ignored the APOP identified supplied within the
    welcomemessage of the pop server. Now YAM should throw a
    proper error message with exiting the POP routines immediatly.
  * YAM_TR.c, YAM.cd: fixed some flaws in the ESMTP handling where
    we issued a STARTTLS command without checking previously if the
    mailer supports it or not. Also enhanced the whole ESMTP handling
    a bit, so that we can use SMTP Server extension in future easier.
    Also added some more detailed error messages to inform the user
    that a Server doesn`t support a particular selected extension.

2002-06-25  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM.c, YAM_TR.c: fixed missbehaviours with MUIA_Window_Activate
    where we sometimes activated the Main/Transferwindow were it
    shouldn`t be. Also fixed a bug where a MUIA_Window_Open with TRUE
    caused the window to activate if the window was already open.
    Now YAM shouldn`t interrupt the user if it`s really not
    necessary.

2002-06-22  Jacob Laursen <jlaur@mail1.stofanet.dk>

  * Improved the MCC check - now automatically attempts flushing,
    shows the version number of any existing MCC and allows for
    retrying.

2002-06-22  Jens Langner <Jens.Langner@htw-dresden.de>

  * classes/Addrmatchlist.c: fixed bug #571831 where it could
    have happened that entries with the same Realname in the
    address matchlist caused a conflict and made it impossible
    to select the second entry.

2002-06-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * smakefile: changed SAS/C makefile to start the autogenerating
    tools automatically if something has changed. Also added
    directory variables to easily change them on compiletime.
  * YAM.c, YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_MA.c, YAM_TR.c:
    fixed a bug in the TLS/SSL recognition routines where it could
    have happen that a user selected SSL for a connection but the
    next time the amissl library is perhaps not available. In that
    situation YAM still tried to initiate a SSL connection and
    suddenly hang. Now YAM will throw a error message telling the
    user that he has selected SSL but SSL is not available right now.
    Also changed the configuration accordingly that the user can
    still disable the SSL support for those connection, but can`t
    enable it again as long as SSL is not available.
  * YAM.c: fixed bug where it could have happened that on a
    restart the AppIcon wasn`t displayed anymore.
  * YAM.c: fixed bug #560664 where YAM didn`t add the Okay
    button to the About window at initiating a restart.
  * YAM.c: fixed bug #555675 where YAM "lost" the folder group
    status on a restart of YAM.

2002-06-20  Jens Langner <Jens.Langner@htw-dresden.de>

  * Makefile.MorphOS: added stub link library calls so that YAM will
    get the correct stub functions for some STDARG functions.
    This should fix some strange hang ups when using YAM with MOS.
  * extrasrc/dice.c: removed the NO_PPCINLINE_STDARG check, because we
    cannot use the STDARG functions in there for PPC. We have to use
    stub functions instead provided by stubs libraries.
  * YAM_COg.c: added some debug information to debug the XPK a bit.
  * YAM_hook.h: added some documentation/example about the hook macros.

2002-06-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_hook.h: fixed a nasty bug within the HOOK macros for MorphOS
    that caused the whole hook stuff to freak out. :)
    Now Hooks should work as expected.

2002-06-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * reworked the handling of varargs functions within YAM to make
    it compatible/compileable with MorphOS.
    This should fix some crashes caused by misshandles vararg
    functions under MorphOS.

2002-06-12  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_MAf.c: fixed corrupt .index file WARNING for MorphOS.
    We simply forgot to align the .index structures for PPC. Also
    added some general ALIGN and PACKED defines to the
    SDI_compiler.h for easier use.
    NOTE: We have to be careful in future with intercommunication
    structures between 68k and PPC, so all structures that used
    directly on both plaforms (like for this .index files) have to
    be aligned for the PPC, so that this files will be compatible to
    eachother.

2002-06-10  David Rey <david@saug.org>

  * YAM_TR.c: Changed the event code issued with MSG_LOG_SendingVerbose
    to be 42.  41 was already in use by MSG_LOG_ConnectSMTP, and on the
    other hand 42 is also consistent with 32 as used by
    MSG_LOG_RetrievingVerbose
  * YAM.c: Likewise, MSG_LOG_LoggedInVerbose will use code 2 from now
    on instead of 1, which is reserved for MSG_LOG_LoggedIn

2002-06-10  Jens Langner <Jens.Langner@htw-dresden.de>

  * all_morphos.c: removed file, because the whole libnix stuff
    of morphos is now somehow more compatible and so we can use
    the more general all_gcc.c for morphos support also
  * did some efforts on getting YAM compiled for MorphOS again.
    Updated several includes and included ppcinline includes
    to the CVS tree.
    Even if I couldn`t tested it yet, it`s compiling and linking
    correctly. So this needs some more tests until we can release
    a new MorphOS version.

2002-06-08  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_rexx_rxif.c: fixed bug #563641 where the ADDRDELETE function
    still didn`t work without providing an Alias. Now it should
    perform like stated in the documentation of the Arexx command.
  * YAM.h, YAM_MA.c, YAM_WR.c, YAM_write.h, YAM_rexx_rxif.*:
    change the signature of the corresponding AddSignature function
    to receive just the number of the window to add the signature to.
    That way we can easily set the Radiobutton accordingly.
  * YAM_WR.c: fixed a bug where YAM didn`t enable the correct
    Radiobutton for Signatures if the mailinglist signature
    feature was used.
  * YAM_MA.c: fixed bug #557522 where on a reply with a selected
    mailing list folder YAM wasn`t inserting the correct
    signature at all. Now it should insert the correct one
    depending on the mailing list variables of the folder.
  * YAM_FO.c: fixed a small, but nasty bug within the Folderimage
    allocation routines that stopped YAM somehow to show up the
    GUI if the user had just enabled one column of the Folder
    NListtree.

2002-06-02  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_MA.c: to be on the safe side with that ReturnID issues,
    I increased the minimum ReturnID for the Menuitems to 100,
    taking care of dynamic elements like the POP3 list.
  * YAM_utilities.h: as it seems it wasn`t that wise to
    call MUIM_Application_Input with a 0 as the signal address,
    because it still prevented it from collecting returnIDs which
    resulting in a non-working requester within the online-version
    checking.
  * #?.c: removed a whole bunch of gcc warnings. Mainly some
    suggested paratheses and wrong format descriptions.
    Nothing really serious and cross-checked with SAS/C.
  * Makefile: Changed the Makefile to be more compatible to the
    SAS/C smakefile. Now the invocation should be somehow the
    same, especially for creating non-debug versions.

2002-06-01  Jens Langner <Jens.Langner@htw-dresden.de>

  * Makefile, inline/#?: Did some efforts to get YAM compiled
    with gcc again, as we will need that in future for sure.
  * YAM_AB.c, YAM_RE.c: also added the capslock (fix) to other
    places like the addressbook and read window to allow the user
    to still use his keys with a turned on capslock.

2002-05-30  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM.c: fixed bug #556531. YAM will now also execute the
    Start&Stop Macros, as defined within the configuration, at
    initiating of a "Restart".

2002-05-27  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_MA.c: YAM treats (SHIFT)+DEL keypresses with a turned on
    CapsLock like without Capslock now. This should improve the
    usability a bit, because it can happen quite often that a user
    enables the caps lock errounously while typing around.

2002-05-22  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM.c, YAM.cd: added a more descriptive error message about
    the minimum requirement versions of MCCs and reworked the Abort()
    routines a bit
  * YAM.c: raised minimum requirement version for NList.mcc to
    v20.104 and NListtree v18.12 as this versions fixes some bugs
    that would otherwise make YAM unstable.
  * YAM_UT.c: reimplemented the original MUI_Request() function
    in a more secure, reliable way. This fixes some LONG READ
    enforcer hits as it seems that the original MUI_Request()
    is quite broken and shouldn`t be used at all.

2002-05-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_rexx_rxif.c: fixed bug #555128 where YAM didn`t return
    the default screenname "Workbench" on issueing a INFO screen
    rexx command, if it was iconified.
  * YAM_CO.c: fixed bug #556527 where the signature cyclegadget
    didn`t work anymore because of a incorrect return.

2002-05-19  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_AB.c: added a more sophisticated error handling to the
    LoadTree() function to return a proper error message even
    if the file exists but isn`t accessible at all.
  * YAM_FO.c: the bug #555117 wasn`t completly fixed because
    FO_GetFolderRexx() still counted groups as folders.

2002-05-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_rexx_rxif.c: fixed bug #555126 where the USERINFO arexx
    command also counted folder groups as real folders.
  * YAM_FO.c, YAM.cd: fixed bug #555123 by adding new localization
    strings for the Edit Folder group String requester.
  * YAM_rexx_rxif.c: fixed bug #555117 where using the NEWMAILFILE
    arexx command worked on groups, which was obviously wrong.
  * YAM_MA.c: fixed bug #555116 where calling the RescanIndexHook
    on a folder which isn`t really a real one (FT_GROUP) caused
    the creation of a bogus .index file at PROGDIR:
  * YAM_rexx_rxif.c: fixed bug #555115 where the MAILREAD
    rexx command didn`t activate a readwindow as stated
    in the documentation.
  * YAM_AB.c: fixed bug/flaw #555113 by adding additional
    checkings and a requester to inform the user that YAM
    will process a non YAM addressbook file as a newline
    separated file of email addresses.
  * YAM_UT.c, YAM_utilities.h: added a wrapper function to
    implement a MUI_Request() in a secure way. Also added a
    wrapper #define for MUI_Request() to automatically use
    the new YAMMUIRequest() function.
  * YAM_FO.c, YAM_US.c, YAM_UT.c, YAM_utilities.h:
    introduced some special macros COLLECT_RETURNIDS and
    REISSUE_RETURNIDS to handle some problems with overlapping
    ReturnID values at the usage time of MUIM_Notifys with
    MenuActions.

2002-05-15  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_AB.c: fixed bug #555112 where we cleared the Listtree before
    we checked if the file can be opened and therefore could have
    lost the whole addressbook if it wasn`t loadable at all.
  * accordingly to recent discussions in the dev-ML I added some
    general flag handling macros to YAM_utilities.h and spread
    them all over the sources. With this macros flag handling
    should be simplified a bit and hopefully they will also reduce
    the risk of handling flags incorrect.
    In addition to that general flag macros every flag itself has
    now some kinda "check-macro" where the current state can be
    checked by accessing it`s is/has macro which always returns
    TRUE or FALSE accordingly to the actual state.

2002-05-10  Jens Langner <Jens.Langner@htw-dresden.de>

  * added #define vars for the rule actions in YAM_main.h and
    spread them all over the sources to deal with symbolic names
    instead.
  * YAM_CO.c: changed the AddRule button behaviour a bit, so
    that it will now automatically activate the name stringgadget
    and autoselect any string in there. This should be a bit more
    handy for the user.
  * YAM_MA.c: fixed bug where a Remote-Filter executed actions
    it was not supposed to do and it was also possible to fire
    a remote filter were it shouldn`t have been possible at all.
    i.e. on the Filter button in the main window aso.

2002-05-09  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM_TR.c: fixed bug where we didn`t checked the result code
    of a TR_SendCMTPCmd() call and therefore placed the mail in
    the wrong folder on an error.
  * added a proper status message to the connecting process of
    the SMTP send commands. Now YAM will show a message that
    it is trying to connect to the SMTP server. Formerly
    there were no status message at all informing the user
    about what is next.

2002-05-07  Jens Langner <Jens.Langner@htw-dresden.de>

  * change the title generation of the MailContextMenu to show
    a subset of the Sender/Recipient instead of the Mailfile
    number.

2002-05-06  Jens Langner <Jens.Langner@htw-dresden.de>

  * added a Busy() call to the POP transfer functions so that
    the user still has a indicator what`s going on if he has
    enabled time depending mail checking.
  * fixed another bug in the ADDRRESOLVE rexx command where it
    was also checking the emailcache what is not supposed to
    happen with the command.
  * fixed bug #552414 where the creations of a Recipientstring
    object in the ADDRRESOLVE rexx command caused some enforcer
    hits later because we were refering to the renderinfo of that
    object where obviously is not renderinfo at all.
  * fixed bug #552395 where we forgot to set a pointer to a
    empty string by default to prevent a NULL pointer hit.
  * got rid of the SAS/C portability warnings #120 by modifying
    the code a bit. Now #120 warnings are turned on in the
    smakefile also.

2002-05-02  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #551543 where we didn`t check for a NULL pointer in
    YAM_AB.c - AB_GotoEntry().

2002-05-01  David Rey <david@saug.org>

  * YAM_WR.c: updated the URLs given by the MIME warning in
    WR_ComposeReport.

2002-05-01  Jens Langner <Jens.Langner@htw-dresden.de>

  * changed internal busy gauge handling a bit. Now there is the
    possibility to have multiple BusyLevels (maximum defined by
    BUSYLEVEL). This makes it possible to show a information at the
    Infobar and by ending it with BusyEnd, it will print the previous
    message that occured.
    This also fixes some bugs were we wanted to show the user some
    information but it was not possible because a previous Busy state
    wasn`t closed by BusyEnd.
  * fixed a small flaw in the PGP recognition stuff. Now YAM will
    explicitly flag a message as crypted/signed if it couldn`t be
    found out initially by scanning the header while downloading
    the message. Now YAM will flag this message as crypted/signed
    along with flagging the folder it resists in as modified.

2002-04-30  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed (worked-around) the bug #534430. I call this "worked-around"
    because it seems that if the autocorrect feature of TextEditor.mcc
    is turned on and we close the amissl.library within YAM somehow,
    something gets really wrong within YAM which results in strange
    crashes/lock ups as soon as the autocorrect feature gets initiate
    from within the TextEditor.mcc. I really couldn`t see any dependency
    between closing amissl.library and this lock ups within texteditor.mcc,
    but simply keeping the amissl.library open for the lifetime of YAM
    solved the problem somehow.
  * added a error message to the import mail function to tell the user
    that a selected file doesn`t contain any mails.
  * fixed bug in GetMailFile() utility functions where a -1 assignment
    to a folder wasn`t checked. This fixes a bug in the import mail
    handling as well as in other places.

2002-04-29  Jens Langner <Jens.Langner@htw-dresden.de>

  * reverted the fix #508202 because as it pointed out this wasn`t
    really a bug at all.
  * changed some of those small utility functions to act as macros.
  * fixed a nasty bug in the multipart handling code where we forgot to
    close the output file on a error condition. That resulted in a
    crash if we tried to open that mail several times.

2002-04-28  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed some possible errors with not checking the result of Examine()
    all over at different places. Now this functions should really perform
    a bit more secure on this.

2002-04-23  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug in the mail listview display hook were it was possible that
    the status flag wasn`t displayed/screwed because of a too long Address
    column.

2002-04-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed serious bug in hmac_md5() function were we replaced bcopy() with
    memcpy() and overwritten the key string, because a bcopy() is per
    define a memmove(). Now the CRAM-MD5 authentification with ESMTP
    servers should work again.

2002-04-19  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed a TCP/IP issue flaw within the TR_Connect() function were it could
    have happened that if a particular host has 2 different IPs in the
    DNS and the first was down, YAM didn`t try to connect to the other one
    instead and just reported a error.

2002-04-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed behaviour of status flag ordering again a bit. Now it should
    really perform like stated within the documentation
  * fixed another mailfile-doesn`t-exists bugs concerning mail copying
    and transfering to another folder. Now YAM should throw proper
    error messages instead.
  * fixed more possibly bug issues on the mailfile-doesn`t-exist fact
    because the result code from MA_ExamineMail() wasn`t checked
    everywhere probably.
  * fixed bug #461926 by throwing an error requester now, informing the
    user that YAM tried to open a mail file that doesn`t exists anymore
    but is still listed in the folder.

2002-04-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #480905/505857 by changing the temporary file handling like
    described below and also by just opening a eventually unwriteable file
    with just read because it is locked by another application (viewer)
  * changed behaviour of the temporary file handling a bit to make it more
    secure. Now YAM not only identifies tempfiles by the window and part
    number, it also takes the serialzed ID of the mail itself, so this
    tempfiles should be really unique while mail reading which will
    fix many issues/bugs that are related to that old restriction/flaw.

2002-04-15  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #528105 that was caused because of the usage of one shared
    displayhook for the maillistview and the findmaillistview in the find
    window. Now we just set MUIA_NList_DisplayRecall to inform both listview
    of this situation.
  * fixed a small flaw in the Mail Listview display hook were YAM could have
    been displaying empty From: strings when a user/group doesn`t have a name
    within the addressbook. Now it just displays the email instead.
  * changed behaviour of Folder Listtree according to doubleclick events a
    bit. If the user now double clicks on a folder group it will just fold
    or unfold the tree and not popup the change requester for it. This
    feels a little bit better because in the past it could happen that
    on a doubleclick for fold/unfold the requester poped up aswell which
    was quite annoying.

2002-04-14  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed some problems with setting a folder active without opening the
    parent node in the hierarchical system. This kills bug #528080
  * fixed behaviour of LISTSELECT arexx command to really select/deselect all
    messages as described in the documentation. Fixes bug #508202
  * fixed some possible bugs in the arexx interface were it could happen that
    it did some harmful stuff with invalid ActiveWriteWindow values. Now these
    situations just returns an RETURN_ERROR instead.
  * the MAILWRITE command will now return a RETURN_WARN if the user tried to
    send WINDOW value other than 0 or 1.
  * changed behaviour of Arexx commands that will set a write window active.
    If now the command is executed without QUIET, the window will really go
    active. This should fix some confusion about this behaviour as well.
    This should kill one bug of ticket #466021
  * fixed bug #506533 where YAM didn`t jump to a new message when a ghosted
    folder was selected before.
  * fixed another enforcer hit that occured on filtering mails by msgbody or
    header.

2002-04-13  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed occuring enforcer hits in the filter routing where YAM caused some
    hits when you were filtering by message body. bug #528631
  * fixed the Status flag sorting routine accordingly to bug #474525
  * increased the max. string size for email adresses to 150 and for NAMES to 30
    That should fix bug #460430 and #511259.
  * fixed bug #456134 accordingly that it will only display the senderinfo if
    there is only one person with that realname in the Addressbook.
  * changed email string gadgets in Filter settings to use the ResolveString
    string gadget.
  * fixed bug in AttachRequest() function where it could happen that if the
    user did 2 same attachment requests it returned a partlist that the user
    hasn`t even selected. fixes bug #433800

2002-04-11  Jens Langner <Jens.Langner@htw-dresden.de>

  * did some minor cosmetic change to the send window accordingly
    to bug #433765

2002-03-02  David Rey <david@saug.org>

  * YAM_RE.c: fixed the duplicated "shift right" menu shorcut
    (bug #440010)

2002-02-22  Gunther Nikl <gni@gecko.de>

  * YAM_AB.c, YAM_CL.c, YAM_CO.c, YAM_COg.c, YAM_COs.c, YAM_EA.c, YAM_FI.c,
    YAM_FO.c, YAM_MA.c, YAM_MAf.c, YAM_RE.c, YAM_TR.c, YAM_UT.c, YAM_WR.c:
    converted TABs to spaces
  * includes/inline/muimaster.h: switched to macro based inlines
  * YAM_TR.c: removed AmiSSLBase definition
  * YAM_global.c: added here

2002-02-22  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed smakefile accordingly to new genclasses changes.
    Now YAM should be compileable with SAS/C again.

2002-02-21  Gunther Nikl <gni@gecko.de>

  * YAM_FI.c/FI_SearchPatternInBody: fix typo
  * YAM_MI.c/outdec: fix GCC warnings

2002-02-21  Gunther Nikl <gni@gecko.de>

  * extrasrc/genclasses: updated for new headername convention
  * classes/Addrmatchlist.c,classes/InfoBar.c,classes/Recipientstring.c,
    classes/Searchwindow.c,classes/YAM.c: adapt includes for new naming
    convention

2002-02-20  Gunther Nikl <gni@gecko.de>

  * libraries/pm.h: fixed GCC warnings about anonymous unions
  * proto/amissl.h: added support for different compilers
  * inline/amissl.h: added
  * extrasrc/dice.c: added AMISSL stub functions

2002-02-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * added new JumpToIncoming hidden option and set it by default
    to FALSE. If enabled YAM will jump to new incoming messages
    after retrival.

2002-01-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * the listview in the find window will be sorted by date by
    default now. This makes more sense then sorting by filename
    like it did before.
  * updated the X-Mailer header to reflect 2002.

2002-01-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug in the listview display of the glossary. Now YAM
    should again display every glossary item correct.

2002-01-04  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug where YAM lost the LastActive variable which normally
    saves the last active entry in a mail folder and jumps to this
    position if the folder is activated again.
  * YAM now also jumps to a new received message after getting
    all mail from the POP servers with respect to the JumpToNewMsg
    option.
  * changed copyright note to reflect the new year 2002.

2001-12-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed support@yam.ch email from About window on request
    from Marcel Beck.
  * reworked the YAM.cd a bit.

2001-12-16  Christian Hattemer <krille@users.sourceforge.net>

  * YAM_EA.c: Added missing MUIA_ControlChar to security cycle

2001-12-11  Jens Langner <Jens.Langner@htw-dresden.de>

  * the SWSSearch() function requires more stack than I thought and
    so I increased it to obtain 65535 bytes to be on the safe side.
    This fixes the enforcer hit that occured on the use of the new
    autoguess feature for MLs.

2001-12-11  Christian Hattemer <krille@users.sourceforge.net>

  * YAM_RE.c: fixed crash when the edit window was opened from
    a read window and the read window was closed before clicking
    "Send Later", "Send Now" or "Hold" in the write window.
    Fixes Bug #481316

2001-12-08  Jens Langner <Jens.Langner@htw-dresden.de>

  * we use a Recipientstring for the return address specification
    in the configuration of AB Lists now.

2001-12-07  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug in email cache that caused that new entries weren`t
    added to the cache if it was already filled up completly.
  * the email cache check routines for the addressbook now only
    check for a existing AB entry with the email address because we
    don`t want to have duplicate entries in the AB and EmailCache.

2001-12-05  Jens Langner <Jens.Langner@htw-dresden.de>

  * added support for emailcache resolving in recipientstrings.
    Now YAM should also fully resolve a email adress out of the
    email cache if the user press return.

2001-12-04  Jens Langner <Jens.Langner@htw-dresden.de>

  * the incoming folder appicon stats is now enabled by default if not
    explicitly disabled in the folder config. (Bug #484553)
  * fixed a not localized string in the MIME import functions
    (Bug #441917)
  * changed drag&drop routines of folder NListtree accordingly that
    if the user tries to drop a mail to a folder it should only appear
    if he has the mouse over the folder and not above or below it.
    Also changed the DragReport routines that if the user drops a
    folder onto another folder a sign should not appear and only drops
    below or above should be allowed.
    Concerning the MAIL->FOLDER drop routines there seems to be still a
    flaw in NListtree because it`s somehow still possible to drag a mail
    in between of two folder but it will then be moved to one of those.

2001-12-03  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed the tiny font from the Autodetect button in the folder
    configuration following the MUI Styleguide.
  * reapplied the tiny font in the info bar.

2001-11-25  AmiS <amis@amiga.org.ru>

  * Added "Codepage Autodetect/Translation" option.
    If this option is enabled, YAM will statistically analyse
    message text, from/to/subject fields and MIME text/* attachments
    (independently) and automatically translate them to system codepage.
    Mainly for cyrillic users.  See guide for detailed description.

2001-11-22  Jacob Laursen <laursen@myself.com>

  * Commas inside quotes are now accepted as valid characters in
    recipient strings.

2001-11-20  Gunther Nikl <gni@gecko.de>

  * (YAM.c/InitLib): changed return type to APTR for better NDK
    compatibility and removed cast of InitLib() calls
  * YAM_global.c: unified yamversion#? strings

2001-11-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed a unneeded error message in the SMTP send routines
    as the TR_SendSMTPCmd() always throws out errors on failure.

2001-11-15  Jens Langner <Jens.Langner@htw-dresden.de>

  * added SMTP SSL/TLS support through AmiSSL accordingly to
    (RFC 2487)
  * fixed bug in the SMTP routines where it happened that
    if a SMTP AUTH request wasn`t succesfull we forgot to
    disconnect from the server.
  * fixed a bug in the SMTP AUTH routines where the server response
    wasn`t displayed to the user on a authentication failure.
  * made some cosmetic code changes to the SMTP AUTH part.
  * added possibility to explicitly specify the POP3 and SMTP Port
    in a string gadget in the configuration.
  * added POP3 SSL/TLS support for stunnel servers (port 995) and
    also POP3-server that supports the STLS command set like
    suggested in (RFC 2595)
  * implemented optional TLS/SSL support by using AmiSSL library
    from Andrija Antonijevic, which is a public AmigaOS port
    of OpenSSL (RFC 2246)

2001-11-10  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed a security flaw in YAM where it was possible that a user
    received a mail with special escape sequences in the Mail header
    that were interpreted by MUI. And with additional knowledge
    about PIPE mechanisms it was possible to execute real commands
    that could harm the system!
    YAM now strips out those escape sequences in the header of a
    mail as soon as it receives them.

2001-10-28  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug where a empty ", ," string in a recipient gadget were
    resolved as the whole AB.
  * on resolve, if a realname doesn`t exists in the AB, the recipient
    resolve feature only completes the address with the email.
  * if more than one entry for a recipientstring is found in the
    addressbook the Resolve routines doesn`t just take the first
    one for resolving, they now stop resolving it.
  * fixed a little flaw in the recipientstring class where it
    wasn`t possible to select the correct recipient if more
    than one entry with the same realname was found in the
    addressbook.
  * Parts in a multipart mail will now be displayed colored to
    indicate that they are clickable.

2001-10-27  Jens Langner <Jens.Langner@htw-dresden.de>

  * YAM now also brings all windows to the front if the AppIcon
    is doubleclicked while the main window is open.
  * implemented match & save functions for new emailcache
    feature. Now YAM should save/move entries in the emailcache
    list to the corresponding file. This finally finishes the
    emailcache feature.

2001-10-26  Jens Langner <Jens.Langner@htw-dresden.de>

  * added functions/methods to use the new emailcache on a
    recipientstring. Moved match function from the addrmatchlist
    to the YAM main subclass like proposed in the mailinglist.
  * added config entry and GUI elements for upcoming emailcache
    feature. Also reconfigured some GUI elements to use a
    NumericbuttonObject.

2001-10-25  Jens Langner <Jens.Langner@htw-dresden.de>

  * added feature to try to automatically detect the mailinglist
    pattern and To: field by integrating the Smith&Waterman
    algorithm for a string similarity search.
    YAM will try to detect the pattern from the first 5 messages
    in a folder and only if the pattern is != #? it will be
    placed into the pattern string gadget.
    This should make it easier to enter the correct mailinglist
    pattern.
  * by default we disable the ML support for the standard folders
    like INCOMING/OUTGOING/SENT/DELETED.
  * the mailinglist support of every folder can now be explicitly
    enabled/disabled

2001-10-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * the folder configuration window now also uses YAM`s standard
    Addressfield string for the ML support.

2001-10-20  Jens Langner <Jens.Langner@htw-dresden.de>

  * changed InfoBar label refresh not to refresh the folder image
    also, because this causes some unnecessary flickering while
    opening a read mail window.
  * added user ability to define the InfoBar label with own text
    and inputs from a folder. This finishes the missing features
    of the new InfoBar.

2001-10-19  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed enforcer hit that happened on a manual filter operation.
  * added ability to configurate the position of the new Infobar
    along with the ability to disable it completly.
  * changed catalog description for the new introduced size formats
    in YAM, because they were a bit strange :)

2001-10-18  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed another bug that caused the insert of a wrong signature
    if a user replied to a message that resisted in the incoming
    folder.
  * fixed a tiny bug in the StripSignature routines were it could
    have happened that a signature doesn`t get stripped.

2001-10-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed another bug in the ML support were it happened that on a
    reply of a mail without a ReplyTo: field the mail were sent
    to the mailinglist and the sender.

2001-10-12  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #468896 where the old Folder/Order/Reset option caused
    a serious crash of YAM.
  * added reload tree option to the folder context menu
  * switched off automatic sorting of the folder listtree because it`s
    not supported yet.
  * Added/Created new InfoBar class, removed the bottom gauge bar and
    made this InfoBar a default setting.
    This new InfoBar combines the old first version of the InfoBar
    together with the bottom GaugeBar and Busy texts/gauges are only
    displayed if necessary.

    This InfoBar class is NOT finished yet and there are still some
    unimplemented features like:
    - user configurable InfoBar position (Top/Center/Bottom)
    - user configurable Folder text (number of new mails etc.)

    The new style of this InfoBar is not finished yet and any suggestion
    is welcome.

2001-09-14  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed another bug in the folder listtree were on a drag&drop mail
    move operation the incorrect folder was refreshed if a folder
    group was fold.
  * fixed bug in folder listtree were it wasn`t possible to drag any
    mail to another folder if one of the folder groups were fold.

2001-09-13  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #432328 where the wrong image was displayed if a folder
    was a password protected one.
  * fixed bug #450062 where the index of some folders wasn`t displayed
    because only visible entries of the Listtree were selected to be
    displayed.

2001-09-12  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #432331 where it happened that, if no action was performed
    at the start of YAM that caused the AppIcon to refresh, no AppIcon
    was displayed at all.
  * fixed bug #459478 where MyStrCpy() was used with a string pointer
    while MyStrCpy() doesn`t accept string pointer, which will result in
    a broken string copy.

2001-09-12  Christian Hattemer <krille@users.sourceforge.net>

  * YAM_RE.c: Now accepts "(" and ")" in URLs also
    (according to RFC 1738, ";" are also allowed in some cases
     but not yet added)
    Fixes Bug #460488

2001-09-06  Jens Langner <Jens.Langner@htw-dresden.de>

  * commented MUIA_Application_Sleep calls in Busy() function. This is the
    cause for bug #458521. This busybar stuff anyway will be reworked
    completly if the new infobar is finished which will replace this
    bottom busybar.
  * modified makefile to reflect new genclasses tool
    Now you can directly compile the genclasses tool by specifing
    the smakefile target "GenClasses".
    You can also execute the genclasses tool to auto-generate
    all necessary sourcesfiles with the target "ClassInfo".
  * modified class sources to be compatible with the new genclasses
    tool from Andrew.

2001-09-03  Jens Langner <Jens.Langner@htw-dresden.de>

  * added error message to move mail filter operation if it tries
    to move a mail to a folder that couldn`t be found by name.
    This can happen if a filter rule exists and the user renames
    a folder. Now a error message pops up and tells the user that
    this operation failed !
  * added missing localization to the newfoldergroup requester.
  * fixed bug #433745 where YAM was not displaying the check.info
    icon anymore.
  * fixed bug #433751 that caused flickering of the AppIcon after
    recalculating the statistics.
  * added standard source headers to new classfiles
  * set emailcache filename lowercase with a uppercase assign.

2001-08-22  Allan Odgaard <duff@diku.dk>

  * When using D(DBF_ERROR, ()) then a DisplayBeep() is issued.
  * The FindUserData-hook used to resolve email aliases is now restricted to
    only find matches of type AET_USER or AET_LIST.

2001-08-05  Allan Odgaard <duff@diku.dk>

  * Added loading of email cache in OM_NEW of new application subclass.
  * Added Debug.c and Debug.h to the repository. The system is used like
    this (notice no \n and no ;):
           D(DBF_ALWAYS, ("this value is %ld", val))
    When DEBUG isn't defined this turns into ';', so you can write:
           for(int i = 0; i < 10; i++)
              D(DBF_ERROR, ("invalid item: %ld", a[i]))
    I.e. without using braces.
    DBF_ALWAYS is used for stuff that must always be shown. DBF_ERROR when
    something fails. DBF_VERBOSE is for generally interesting messages which
    doesn't really fit a category. The rest of the flags has to be added
    when required. They should be categorized, i.e. no flag for 'my fancy
    feature', but instead a flag for i/o, network stuff etc.
    You enable debug output with "SetEnv YAMDebug «flags»". Flags is a
    comma, space or semi-colon separated list of stuff you want enabled.
    E.g. "io, verbose, error". You can also enter "all" to get everything
    enabled.
    Currently 'always' and 'error' are enabled by default (and can't be
    disabled).
  * Some styleguide changes.
  * Changed version string to say 'dev' instead of 'devel'.
  * Added an application subclass which is now used.

2001-08-06  Jens Langner <Jens.Langner@htw-dresden.de>

  * ContextMenus now also open in areas where no mail/folder is, so that this
    popupmenus can be used to generate at least a new folder/group or mail.
  * If a context menu is opened on a already active entry the maillist will
    not be refreshed anymore. This should reduce flickering at least on
    already active entries.

2001-08-06  Jacob Laursen <laursen@myself.com>

  * Now respects the "Iconified on startup" MUI setting. If the HIDE
    tooltype is present, it'll override it.

2001-08-05  Jens Langner <Jens.Langner@htw-dresden.de>

  * the delete folder menu item & context menu entry does not allow to remove
    the incoming/deleted/sent/outgoing folder anymore. This was the standard
    behaviour before the hierarchical folder system was added and was broken.
    This fixes bug #445602 also.
  * if a folder group is going to be deleted YAM will pop up a requester now
    asking the user to confirm if it is not empty. If this folder group
    contains any subfolders or another group, then this subentries will be
    moved to the parent folder of the group first.
  * reverted changes to the resolve method of the recipientstring to reduce
    complexity of the code. (who requested this... guess?)
  * turned the ChangeLog upsidedown. Now the newest entry should always be
    attached to the top because this is more natural.

2001-08-05  Allan Odgaard <duff@diku.dk>

  * Fixed enforcer hit in Recipientstring class («censored»).
  * ResolveOnCR defaults to FALSE similar to AdvanceOnCR.
  * Pressing 'delete' in a recipient string will now delete close the popup
    list.
  * The mails in the main listview are now shown to be from the real name
    of the sender found in your addressbook (this name should also be used
    when replying to the letter and composing the greeting phrase, but is
    currently not).
  * Removed classes/Classes.h dependency from class sources!
  * Added ClassesExtra.h file.
  * Added section about tags and compact switch/cases to the styleguide.
  * Moved the address list popup window to its own class.
  * The adddress list popup window will now adapt to the position and size
    of the parent window, when changed.
  * Escape will now close the address matchlist popup window (and
    MUIKEY_WINDOW_CLOSE is disabled for the recipient string as long as the
    window is open).

2001-08-02  Allan Odgaard <duff@diku.dk>

  * Recipientstring class no longer sets the frame, cyclechain or 'advance
    on cr' tags.
  * Ensured that all source descriptions are now prefixed with ' Module:'.
    This allows e.g. to do a »Search YAM_#?.c "*N Module:"« to see the
    description of each source file.

2001-08-02  Jens Langner <Jens.Langner@htw-dresden.de>

  * added a MUIA_Recipientstring_NoResolve attribute to the recipientstring
    class. If this attribute is set to TRUE the recipientstring is not going
    to perform a resolving on the entered string, what means in fact that it
    will not transform it with a realname or something else.
  * fixed some bugs recently introduced to the recipientstring class.
  * the recipient string class now only set the focus on the next object
    if the MUIA_String_AdvanceOnCR is set.
  * renamed the MUIA_Recipientstring_Resolve_NoResolve to _ResolveOnCR
    accordingly to some discussions.
  * renamed GetMUI() function to xget() because this is a more "standard"
    name for this function.
  * the ShowMatches() method of the recipient string class is now using
    SetAttrs() for setting the list position.
  * added EXPORT statement for the MUIF_ flags to the recipient string class
    to allow the autogen tool to take care about this.
  * removed obsolete DD_String class stuff including WR_ResolveName() and
    WR_ExpandAddresses()
  * modified smakefile to reflect every dependency for the classes.

2001-08-01  Jens Langner <Jens.Langner@htw-dresden.de>

  * changed RETURN, SHIFT+RETURN behaviour as discussed in the mailing list.
    Now YAM should resolve any entered string without the realname if the user
    press SHIFT+RETURN in a recipientstring gadget.
  * changed the string gadget checks if a mail is going to be sent accordingly
    to the above behavioõr. Now YAM will pop up an error requester if a user
    tries to send a email and it can`t resolve any entered string or if the
    From: is missing.
  * YAM will also change the focus of the pagegroup and string gadget that
    produced the failure, so that the user can immediatly change it.
  * added From: is missing warning requester. Now YAM will warn the user that
    the From: string is empty and allow him to either use the default sender
    address from the config or reenter the string again.
  * fixed bug in recipient string where the position of the popuplist was not
    set everytime it was opened. This caused that if the window was moved in
    between of two popups, then the popuplist was displayed on a wrong position.
    Still one flaw:
    1)if the window is moved while the popuplist ist open, then the popuplist
      will not move it`s position in sync with the window.

2001-08-01  Gunther Nikl <gni@gecko.de>

  * YAM_rexx.c (global): added REXXMSG macro to hide annoying NDK difference
    (ReplyRexxCommand, DoRXCommand): use it
  * YAM_rexx.c: small cleanups

2001-07-31  Allan Odgaard <duff@diku.dk>

  * Addressbook popup gadget is no longer in cyclechain as you can popup the
    book with the standard MUI popup key (defaults to ctrl-p) -- I really
    would prefer to turn it into a real Popstring gadget, but currently the
    hook to open the address book require both global and local info etc.
  * Each change of the recipient string will result in an attempt of
    completing the address which is in front of the cursor. Earlier e.g.
    deleting a character wouldn't.
  * The recipient class now has a tag for "allow multiple recipients". This
    is enabled for the From and Reply-To strings (which it wasn't earlier).
  * The recipient class has a method to resolve the names entered. The
    MakeRecipients() function setup a notify on MUIA_String_Acknowledge to
    call this method.
  * When resolving a list then it will recursively continue to expand
    members of this list so one can have a list of lists. Though this is
    currently limited to 5 recursions.
  * The 'resolve' gadget has been removed (since it happens on return anyway
    in the writewindow) and thus the 'focus on return' scheme has been
    removed entirely.
  * There's now a popup list when YAM attempts to complete what the user is
    typing in a recipient string. It contain 3 columns for alias, real name
    and address. The entire string of the column which match what the user
    is entering is in bold, though limited to SIZE_ADDRESS characters due
    to the static display hook buffer. The list is sorted accodring to which
    field match and secondly alphabetically.
  * Using arrow up/down when the popup list is open immidiately change the
    contents of the string gadget and pressing return will act as if the
    popup wasn't shown (i.e. it will be interpreted by the gadget, so
    MUIA_String_Acknowledge will go high).
  * As with the old class one can enter a comma while text is marked (during
    a completion) and the comma will be inserted behind the marked text
    instead of overwriting it.
  * The alias, real name and address stringgadgets of the addressbook (new
    user, new list and new group windows) no longer accept comma as a valid
    character.
  * The stringgadget for entering list members (in the list window of the
    addressbook) is now a Recipientstring. It doesn't auto-transform on
    return (since often you want the alias in the list, so that a change to
    the address of this alias will also affect the list). Also, it currently
    lack the addressbook gadget. This is only because I was lazy when I
    added it... we could just cut'n'paste the code from MakeRecipient(), but
    I want this Recipientstring to instead be a popuplist which handle the
    addressbook itself.
  * Put the Okay gadget in the (stupid) subject warning requester as default
    (didn't I already do that?).
  * Trim() now accepts a NULL pointer (returns NULL).
  * Added a STR() define to YAM_utilities.h. This transforms a define into a
    string. This is useful e.g. if you do sprintf and want to limit the
    string length to that of a define. E.g. in the AB_PrettyPrint() function
    I do the following:
       static TEXT buf[SIZE_REALNAME + SIZE_ADDRESS + 4];
       sprintf(buf, "%." STR(SIZE_REALNAME) "s <%." STR(SIZE_ADDRESS) "s>",
          e->RealName, e->Address);
  * Added DUFF define to smakefile -- I'll soon remove the define, but my
    code has made a lot of functions obsolete and I'm going to wait a little
    before I start to remove all this code (which is currently marked by an
    #ifndef DUFF).
  * One can go back in the recipientstring gadget and change previous
    entries, even with name completion (earlier that would delete the rest
    of the string). The completion will only kick in if the character under
    the cursor is '\0' or ','.

««« Some bugs/flaws which remain: »»»

[FIXED] ADDRRESOLVE arexx command is currently broken. Reason is that I have
      retired the WR_Resolve() function which this command require. Suggested
      solution is that the command simply create a Recipientstring objectc,
      set the alias as contents in this object and calls the
      MUIM_Recipientstring_Transform method.
[FIXED] When using a list in the To gadget then the From and Reply-To fields
      won't be changed to that setup in the addressbook. Reason: this was
      really a hack before IMHO (testing various pointers to figure if and
      where to set the new strings). Also, some problems arise if letter is
      sent to multiple lists. Suggested solution would be to introduce
      two tags which tell the recipientstring object which object(s) it should
      propagate the (new) From and Reply-To addresses.
    * When typing the last character of an alias (while the popup list is
      open) then the popup list won't close. Reason being that the
      Recipientstring class doesn't notice that the string change (user
      overwrites last marked character with same character).
    * There's currently no warning requester when one of the recipient strings
      can't resolve the names (but a DisplayBeep(NULL) and a
      "DB(kprintf();)").

  * Renamed MUIM_Recipientstring_Transform method to
    MUIM_Recipientstring_Resolve for consistency with the rest of the YAM
    source.
  * Fixed ADDRRESOLVE arexx command further. Btw: this command would earlier
    (YAM 2.2) return a random string on failure.

2001-07-30  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug #440000. Now the NListtree default foldergroup icons will be
    displayed if one of the folder_fold/unfold images are missing.
  * fixed bug #445715. YAM should now not change the Track Message flag if
    a message is going to edit.
  * WR_WriteUserInfo() now takes respect of the alternative selected From:
    address of the folder the mail was created in.

2001-07-29  Allan Odgaard <duff@diku.dk>

  * Rewrote the eventhandler of the recipient string. The new code should be
    much simpler and thus more transparent.
    Some functionality still lack and it needs some finetuning (e.g.
    multiple recipient support)...

2001-07-28  Jens Langner <Jens.Langner@htw-dresden.de>

  * Changed code layout of the new classes files accordingly to the standard
    layout of YAM and added the fold/unfold marks.

2001-07-28  Allan Odgaard <duff@diku.dk>

  * Moved the Recipient String class to its own file
    (classes/Recipientstring.c) and added a popup window when multiple
    candidates exist for address completion. Some functionality is still
    pending (you can navigate the list with arrow up/down but return just
    does a DisplayBeep()) -- you need to define DUFF for this to work.

2001-07-26  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed possible enforcer hit in YAM_FO.c where the destructor of
    the folder listtree called FO_FreeFolder and tried to remove a Object
    with a InitChange where this Group doesn`t exists anymore.
  * change addressfield completion accordingly to some discussions on the
    mailinglist. if you now press SHIFT+RETURN after entering a string that
    matches a addressbook entry to should not complete it with the realname.
    Also if you send a mail it will not complete already valid email addresses.

2001-07-24  Allan Odgaard <duff@diku.dk>

  * Centered the checkmark (and label) in the search window.

2001-07-22  Jens Langner <Jens.Langner@htw-dresden.de>

  * change MA_ExamineMail() to only check for uuencoded attachments if the
    header itself doesn`t tell us that this mail in a MULTIPART mail.
    This should speed up the "update index" as well as the download of mail
    a bit.
    Also removed the maximum check of the first 30 lines for a UUE check
    of a mail.
  * added missing status_flags to the Status Group of the read window. Now
    it should show all statuses accordingly to the message status

2001-07-20  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed MUIA_NList_Quiet calls in DisplayMailList YAM_UT.c because
    this will speed up the insertion of items for 3-4 seconds with ~6000
    items. (This is a strange behaviour of the NList class itself)

2001-07-18  Allan Odgaard <duff@diku.dk>

  * Fixed some wrong RexxMsg types.
  * Enhanced the output of the smake process and also did other minor
    changes to the smakefile (e.g. cleanall now use clean).
  * When DEBUG is enabled NewReadArgs.c includes YAM_debug.h.
  * mail is set to NULL to get rid of that 'uninitialized' warning.
  * Added Classes.c,h to the repository, though these files are
    auto-generated (so they'll go again when I add the auto-generate tool).
  * Re-added Searchwindow.c with uppercase 's' to the repository.
  * Enabled Searchwindow.c in smakefile, since it should compile.
  * The 'search' function of the write window now works. There's only one
    search window (in the global structure) which should probably also be
    used if anyone adds search to the readwindow.

2001-07-17  Gunther Nikl <gni@gecko.de>

  * Makefile: renamed revision 1.12 to Makefile.MorphOS
  * Makefile.m68k-AmigaOS: renamed revison 1.14 to Makefile
  * Makefile.m68k-AmigaOS-ixemul: deleted

2001-07-17  Gunther Nikl <gni@gecko.de>

  * YAM.c: (struct Args): fixed GCC cpp problem

  * YAM.c, YAM_addressbookEntry.h, YAM_main.h, YAM_utilities.h, YAM_write.h
    includes/proto/genesis.h: fixed GCC warnings

2001-07-06  Jens Langner <Jens.Langner@htw-dresden.de>

  * replaced "remailer@replay.com" in YAM_CO.c with a uptodate remailer,
    because replay.com no longer provides a remailer service.

2001-06-29  Gunther Nikl <gni@gecko.de>

  * YAM_hook.h: use proper types in hook casts, change placement of SAVEDS
    in DISPATCHERPROTO to match other uses, added cast for ENTRY argument in
    AmigaOS case

  * YAM_utilities: added OUT_DOS define as replacement for incorrect NULL
    usage
  * YAM_MA.c: (MA_ExecuteRuleAction,MA_StartMacro): use OUT_DOS
  * YAM_TR.c: (TR_ApplyRemoteFilters,TR_NewMailAlert): likewise
  * YAM_UT.c: (ExecuteCommand): likewise

  * YAM_MA.c: (MA_CallRexxFunc) fix wrong NULL usage
  * YAM_TR.c: (TR_IsOnline) likewise
  * YAM_UT.c: (GetBCImage) likewise
  * YAM_rexx.c: (DoRXCommand) likewise

  * YAM_UT.c: (putCharFunc) change parameter type from "char" to "int"

  * YAM_rexx_rxcl.c: changed RESINDEX to utilize stddef.h/offsetof()

  * extrasrc/dice.c: added test for VBCC
  * includes/extra.h: more general access() handling

  * added all_vbcc.c, inlines/*_protos.h and VMakefile

2001-06-25  Allan Odgaard <duff@diku.dk>

  * Added MyAddHead() function to YAM_UT.c.
  * When reading folder contents messages are now added to the head of the
    list rather than the tail. This makes reading large folder index much
    faster (since AddTail is O(n)), however NList layout is still required,
    so it's still painfully slow...

2001-06-24  Dirk Stöcker <stoecker@epost.de>

  * YAM.c Added proper exitcode and modified Abort()
  * Added classes directory, moved Searchwindow_class to this as
    searchwindow.c, modified smakefile to support this, disabled it
    in smakefile, as it does not yet compile (remove # in CLASSES line
    to enable again)

2001-06-22  Allan Odgaard <duff@diku.dk>

  * Fixed toolbar init code (uses "tb_butt[i]." instead of const "p->").
  * Added extra toolbar button to write window (search) -- nop ATM.
  * Added new source to the repository (Searchwindow_class.c).

2001-06-22  Gunther Nikl <gni@gecko.de>

  * YAM_utilities.h: added "struct NewToolbarEntry"
  * YAM_AB.c (AB_New): merged tb_butt[] and tb_help[] using that struct
  * YAM_MA.c (MA_New): likewise
  * YAM_RE.c (RE_New): likewise
  * YAM_WR.c (Wr_New): likewise

2001-06-22  Gunther Nikl <gni@gecko.de>

  * YAM_read.h: (struct RE_GUIData) fixed wrong toolbar array size,
    was off by one since at least YAMos 2.2 ...
  * YAM_utilities.h: added ARRAY_SIZE define
  * YAM_AB.c (AB_New): use it
  * YAM_EA.c (EA_New): likewise
  * YAM_MA.c (MA_New): likewise
  * YAM_RE.c (RE_New): likewise
  * YAM_WR.c (Wr_New): likewise

2001-06-22  Gunther Nikl <gni@gecko.de>

  * YAM_AB.c,YAM_CL.c,YAM_CO.c,YAM_COg.c,YAM_COs.c,YAM_EA.c,YAM_FI.c,
    YAM_MA.c,YAM_RE.c,YAM_TR.c,YAM_US.c,YAM_UT.c,YAM_WR.c,
    YAM_rexx_rxif.c: added missing "extra.h", fixed double inclusion
    and corrected its usage

2001-06-22  Gunther Nikl <gni@gecko.de>

  * smakefile: added OPTCOMPLEXITY=5 OPTDEPTH=3 to OPTFLAGS,
    created LNKFLAGS
  * makeall.ados: removed MAP file renaming since smakefile already
    creates the "correct" one, fixed scompare statements
  * Makefile, Makefile.m68k-AmigaOS: removed "-c" from $(CDEFS)
  * YAM_RE.c: (RE_SendMDN) added const qualifier
  * YAM_COg.c: (CO_Page7) fix formatting
  * YAM_COs.c: (CO_Save) likewise
  * YAM_UT.c: (CloneWorkbenchPath) likewise
  * YAM_WR.c: (MIMewarn,PGPwarn) likewise

2001-06-20  Dirk Stöcker <stoecker@epost.de>

  * fixed smakefile: $< does NOT work, when there are 2 or more depencies
    in the header line! This only works, if the header files are never
    changed and this very unlikely.
  * Also adding $(CDEFS) before RESOPT was not that clever at all.
  * makeall.dos now uses the stuff Gunther introduced

2001-06-20  Gunther Nikl <gni@gecko.de>

  * makeall.ados: replaced "move" with "rename"
  * smakefile: changed CFLAGS handling, changed LINK statement
  * Makefile, Makefile.m68k-AmigaOS: restructured
  * starter.c: cleanup

2001-06-20  Gunther Nikl <gni@gecko.de>

  * (smakefile) refined CFLAGS
  * (YAM_global.c) removed __near

2001-06-20  Gunther Nikl <gni@gecko.de>

  * YAM_COg.c: (CO_LV_TConFunc, MakeTransPop) fixed potential enforcer hit
  * YAM_FO.c: (FO_NewFolder) likewise
  * YAM_MAf.c: (MA_ScanMailBox) likewise
  * YAM_TR.c: (TR_AddMessageHeader) likewise
  * YAM_RE.c: (RE_InitPrivateRC) likewise
  * YAM_US.c: (US_LV_ConFunc) likewise
  * YAM_US.c: (US_LV_ConFunc) likewise
  * YAM_WR.c: (NewPart, EmitRcptField, WR_LV_ConFunc) likewise

2001-06-20  Gunther Nikl <gni@gecko.de>

  * YAM.c: (Initialise) use iconfile as buffer for hideicon,
    move hidecion loading to an appropriate location
    (header) cleanup
  * YAM.c: (Root_New) added const qualifier
    (Initialise) likewise
  * YAM_AB.c: (AB_PrintField) removed format variable
    (AB_PrintShortEntry) added const qualifier
    (AB_New) moved menu enums inside function,
    fixed GCC warning, added const qualifier
  * YAM_CO.c: (CO_NewRule) fixed GCC warning
    (CO_NewPOP3,CO_NewMimeView,CO_New) likewise
  * YAM_COg.c: (CO_Page13) changed stype into a constant array
  * YAM_COs.c: (Bool2Txt,Txt2Bool): added const qualifier
  * YAM_DI.c: (DI_New) fixed GCC warning
  * YAM_EA.c: (EA_NEW) likewise
  * YAM_ER.c: (ER_New) likewise
  * YAM_FI.c: (FI_New) likewise
  * YAM_FO.c: (FO_GetFolder,FO_PutFolder) added const qualifier
    (FO_New) fixed GCC warning
  * YAM_MA.c: (MA_GetSortType,MA_MailCompare,MA_SetupDynamicMenus,MA_MakeMAFormat)
    added const qualifier
    (MA_New) likewise, fixed GCC warning
  * YAM_MAf.c: (MA_MakeFOFormat) added const qualifier
  * YAM_MI.c: (global) added const qualifier
  * YAM_RE.c: (RE_ExtractURL) likewise
    (RE_New) likewise, fixed GCC warning
  * YAM_TR.c: (TR_GetMessageList_GET) added const qualifier
    (TR_ProcessEXPORT) fixed GCC warning
    (TR_New) likewise
  * YAM_US.c: (US_New) fixed GCC warning
  * YAM_UT.c, YAM_utilities.h: (CompNoCase, stristr, MyStrChr, ReqFile, GetTZ)
    added const qualifier
    (Index) disabled
    (FormatSize() changed #defines into enum
  * YAM_WR.c: (PutQP) added const qualifier
    (WR_New, WR_NewBounce) likewise, fixed GCC warning

2001-06-19  Dirk Stöcker <stoecker@epost.de>

  * documented disabled warnings in smakefile, remove 2 disabled warnings
  * mada DATA=NEAR in smakefile, suggested by Gunther
  * added YAMOS-texts to other makefiles

2001-06-19  Giles Burdett <layabouts@the-giant-sofa.demon.co.uk>

  * Added #include <extra.h> to a number of files to stop "implicit declaration"
    warnings caused by usage of extra string functions
  * YAM now uses it's own icon when being hidden/iconified, instead of default
    icon provided by MUI

2001-06-18  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed potential enforcer hits where check for NULL of FO_GetCurrentFolder()
    was missing. Should also fix some enforcer hits on exit of YAM.

2001-06-18  Gunther Nikl <gni@gecko.de>

  * YAM.c: (Terminate) always release resources in reverse allocation order
    (main) removed warning about return type and discarded STACKEXT
    (NOTE: STACKEXT doesn't do what was intended! It does *only* extend the
    stack if there is not enough space for the current frame. Thats hardly
    the case for main() ...)
  * YAM_FI.c: fix prototype for FI_IsFastSearch()
  * YAM_global.(c,h): replaced "APTR" with "void *" and removed include
  * YAM_UT.c: (DisplayAppIconStatistics) replaced AppAppIconA() with AddAppIcon()
    (DisplayStatistics) small cleanup

2001-06-18  Giles Burdett <layabouts@the-giant-sofa.demon.co.uk>

  * Added file dependencies listed in smakefile to Makefile, Makefile.m68k-AmigaOS and
    Makefile.m68k-AmigaOS-ixemul.
  * Added GNUC section to YAM_global.c to handle stack stuff - it is an empty section
    because GCC supports neither __stack nor __buffsize, but this empty define should
    really stay so that this fact is recorded instead of leading others to think that
    GCC support has not been considered.

2001-06-17  Dirk Stöcker <stoecker@epost.de>

  * Moved __USE_SYSBASE from YAM_UT.c to smakefile (where it really belongs to).
  * Changed YAM_global.c stack stuff. This needs to be completed.
  * Made some more stuff static.
  * Moved last old.h stuff, old.h got obsolete now. First reordering step
    finished.
  * smakefile reflects the correct dependencies now. Please addapt this for
    other makefiles as well.

2001-06-17  Jacob Laursen <laursen@myself.com>

  * Removed "give up after 20 lines" signature strip "feature".
    (Bug #432034)

2001-06-17  Jens Langner <Jens.Langner@htw-dresden.de>

  * the position of a folder was calculated wrong on performed FOLDERINFO rexx
    commands. fixed!
  * if using the folder context menu now, the mail list will be refreshed if
    the user uses the context menu on a folder that is not active. This will
    fix some bugs that will result because the mail list is not in sync with
    the folder list.
  * fixed several bugs concerning syncing of the mail and folder list.
    This also hopefully fixed now really (Bug #433825)

2001-06-16  Gunther Nikl <gni@gecko.de>

  * C_c.sd: changed GetStripStr() to work with older versions of flexcat
  * YAM_CO.c: includes "extra.h" to get prototypes for non SAS/C
  * YAM_MA.c: fixed potential enforcer hits dueto FO_GetCurrentFolder() returning NULL
    (NOTE: There are more cases which need fixing!)
  * YAM_UT.c, YAM_WR.c: fixed warnings
  * YAM_WR.c: changed to enable optimizations for SAS/C
  * YAM_global.c: added additional processor checks for GCC and VBCC
  * YAM_rexx_rxcl.c: swapped include order of YAM_#?.h to get rid of warnings
  * extrasrc/dice.c: added popupmenu functions and cleanup
  * includes/extra.h: removed isascii define
  * YAM_WR.c: added isascii define

2001-06-16 Allan Odgaard <duff@diku.dk>

  * No longer sets MUIA_Window_Open to TRUE for main window on uniconify.
    (this had the effect of bringing main window to front on uniconify)
  * Added #define __USE_SYSBASE to YAM_UT.c so that it compiles with SAS/C.
  * Message list no longer has MUIA_NList_DefaultObjectOnClick set to TRUE
    since this makes it non-default when clicking outside the listview.
  * Now sets MUIA_BetterString_KeyUp/DownFocus for the To and Subject
    strings in the mail write window.
  * Updated BetterString_mcc.h (latest Betterstring.mcc can be found in the
    file area of YahooGroups.Com/yamos/).
  * When pressing ',' in the recipient string and text is marked, the comma
    will be inserted at the end of the string. This is to allow easier
    name-completion with multiple recipients.
  * Now sets GUI.NL_MAILS as the default object instead of GUI.LV_MAILS.
  * No longer sets the folder list as active window object when no entries
    exist in the message list (this would e.g. happen after sending emails
    from the outbox, because the outbox goes empty before returning to the
    inbox).
  * The OK gadget in the about window now have some space on each side of
    the label, bares the label 'Okay', is the default object and rendered in
    bold (to indicate the user can use 'return' to continue).
  * The OK gadget is now added after first phase of startup (rather than
    setting MUIA_ShowMe to TRUE) -- mainly because it's now 2 rectangle
    objects and the gadget, so we'd need to set the MUIA_ShowMe value for 3
    objects (not to mention that MUIA_ShowMe is buggy). Also
    MUIA_Window_Activate is set after this initial setup phase, so selecting
    about should now bring up an *active* about window.
  * Cancel is no longer the default gadget in the 'missing subject'-warning
    (since that'd make both the return and escape key act as cancel).

2001-06-16  Jacob Laursen <laursen@myself.com>

  * Re-added uniconify behaviour when attempting to start a second instance
    of YAM (without enforcer hits).
  * Corrected 'Check version' date.

2001-06-16  Christian Hattemer <krille@users.sourceforge.net>

  * changed the behaviour of the WarnSubject requester due to some discussions
    in the YAMos ML.

2001-06-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * reactivated information bar, but made it optional. Now a user can select
    if he wants to have the infobar or not.
  * now the ContextMenus for the folder and message list are optional. A user can
    select in the configuration if he wants to have context menus or not.
    (Please note that if a context menu is selected and the user has the mouse
    over the list, the menu shortcuts will not work anymore due to a bug of MUI)
  * made WarnSubject a public option. The user can now select in the config if he
    wants to be warned or not if he is going to send a message without a subject.
  * fixed alignment bug in struct Rule.
  * Flush indices didn`t work on grouped folders - fixed. (Bug #433506)
  * Folder groups will be displayed highlighted&bold now if any child has new or
    unread mail.
  * if popupmenu.library is not present, the contextmenus are disabled completly
    now and it is possible to use the normal menu with shortcuts. Also the config
    items for the ContextMenu are disabled.
  * fixed recently introduced enforcer hits (Bug #433797)

2001-06-15  Jacob Laursen <laursen@myself.com>

  * Removed information bar, since it was redundant.

  * Removed error messages when unable to load images.

  * Last year digit was missing in error window - fixed! (Bug #431947)

2001-06-14  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed bug that caused that it was not possible to remove a entry from the folder
    listtree. (BUG #431912)
  * reworked addressbook search functions (AB_SearchEntry) completly. Now a search
    in the addressbook should perform faster. This will result in a faster
    name completion in AddressFields and if a mail is going to be sent out
  * fixed some addressbook<->NListtree related bugs/issues.
  * fixed Distribution List bug (BUG #431536)

2001-06-12  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed alignment Problem in "struct ComprMail" which causes the corruption of
    the old .index files from older 2.x versions. Now we should be compatible again.
  * merge the differences from RELEASE 2.3 branch to actual MAIN branch

2001-06-10  Dirk Stöcker <stoecker@epost.de>

  * moved a lot more stuff to the corresponding header files
  * removed all includes from old.h
  * created YAM_global.h and YAM_global.o
  * made a lot of stuff static to YAM_RE.c, removed obsolete hook
  * changes smakefile to use $(CC) instead of slink

2001-06-09  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed folder shortcut keys "0-9" to have a fast jump to a folder.
    Folder groups are excluded here and will be overjumped. Also a folded tree will
    be unfolded if the user press a number where the tree was folded.
  * reworked and optimized some code in the addressbook code.
  * fixed addressbook entry selection bug. If a new mail was created and the user
    doubleclicked a entry in the addressbook to get the name in the addressfield
    YAM was not coping this address.
  * changed Library check routine to show the required revision also. Users where
    complaining about the NList.mcc v19.97 -> v19.98 upgrade requirement and the
    error message just showed "required v19".
  * fixed enforcer hit when creating a new folder in the listtree. -bug #431614

2001-06-08  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed addressbook NListtree bug where status_group image got trashed somehow.
  * now YAM doesn`t require the PROGDIR:Icons/* images anymore. This "feature" was
    added accidently and now it should only print a warning message to the
    Errorwindow of YAM.

2001-06-06  Jens Langner <Jens.Langner@htw-dresden.de>

  * v18.7 of NListtree.mcc is now required because all earlier version seems to be too
    buggy to allow them.
  * The alternative images of the OUTGOING and DELETED folder will now be displayed if
    there is any mail in the folders. This is a more natural behaviour.
  * now the SortFlag of the NList Mail List should work again without flickering the
    Listview.
  * removed "Flush indices" entry of the FolderList ContextMenu

2001-06-06  Jacob Laursen <laursen@myself.com>

  * 'Folder/Check single account' menu is no longer trashed after
    clicking 'Use' in the configuration window. (Bug #425212).

2001-06-05  Jens Langner <Jens.Langner@htw-dresden.de>

  * added next version of the folder_xxxx images to CVS
  * included the new folder_xxxx images in the code. Now also alternative images
    for INCOMING/OUTGOING and DELETED show be loaded and if there is new mail in the
    folder the image should change accordingly.
  * added a nice FolderInfoBar above the Listviews. Perhaps we have to make this
    bar optional, but I think it will fit in the layout if we are going to
    introduce TearOff.mcc in YAM.
  * changed FolderInfoBar refreshing. Now it should not flicker anymore and refreshing
    the main NList Mail List should be fast again.

2001-06-04  Jens Langner <Jens.Langner@htw-dresden.de>

  * checked memory allocation&freeing of the folder listtree and it`s mails. Now it
    seems that all works fine.
  * reactivated the CompareHook for the folder listtree. Here we still have to do
    some modifications.

2001-06-03  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed recently introduced enforcerhit in the parsing of content-disposition
    parts
  * fixed LoadBCImage function where something went wrong with the stcpfn()
    function
  * added folder images from Philip A. Vedovatti to std images.

2001-06-02  Jens Langner <Jens.Langner@htw-dresden.de>

  * added support to load standard images for the standard INCOMING/OUTGOING/SENT
    and DELETED folder. The images must have the name "folder_incoming" a.s.o.
    at the PROGDIR:Icons/ directory to get loaded.
  * fixed alternative folder image function. This feature was broken and if you
    placed an image in the folder directory ".fimage" to was loaded incorrect.
    This should work now and if you have such an image file placed in the folder
    directory it will override the standard image that is loaded by YAM.
  * added a separate Error-Requester to screem out that an standard image file
    couldn`t be loaded.
  * added separate "supportfiles/Icons/std" directory at the cvs to place all the
    standard images+icons that should be included in the main YAM archive.

2001-06-01  Gunther Nikl <gni@gecko.de>

  * created YAM_debug.h with stuff taken from old.h/YAM.h
  * YAM_FO.c, YAM_MAf.c, YAM_RE.c: use "YAM_debug.h"
  * YAM_UT.c: lame fix for a MUI header problem with GCC
  * YAM_md5.c: removed non-breaking spaces

2001-05-28  Dirk Stöcker <stoecker@epost.de>

  * replaced MD5 calculation by PD variant

2001-05-27  Dirk Stöcker <stoecker@epost.de>

  * moved a lot more stuff to the corresponding header files
  * NOTE: YAM_UT.c should be splitted!
  * Maybe the global variables from YAM.c should move into new file YAM_global.c?

2001-05-26  Jens Langner <Jens.Langner@htw-dresden.de>

  * fixed BUG #407550. Had to insert a InputBuffered at start to assure that G-TR
    gets cleared or otherwise it will be became NULL later which caused that
    mass of hits reported in the BugTracker.
  * a CTRL-C will now break the application and a CTRL-D will restart it immediatly.

2001-05-24  Jens Langner <Jens.Langner@htw-dresden.de>

  * added option to define the AppIcon Label that should be displayed. Now a
    User can configurate the string that should be displayed below the AppIcon
    by reconfigurating it in the configuration window (Misc)
  * YAM reads the Content-Disposition: of a multipart message now. If a name of
    a part could not be found in the Content-Type: field we get it from the
    Disposition field now. (i.e. mails with attachments from ELM behave like this)
    [ this fixes the reported bug #285 from Holger J.]
  * fixed today introduced bug. Now the AppIcon Label text gets saved & loaded
    correctly
  * a user can now select all folders that should be included in the AppIcon
    statistics. With that feature displaying statistics is not limited to the
    INCOMING folder anymore.

2001-05-22  Jens Langner <Jens.Langner@htw-dresden.de>

  * variable signatures will now also be used if one want`s to write a NEW or
    FORWARD a mail in a folder which belongs to a mailinglist.
  * the format of the sizes can be choosen now. That means that one can choose
    between different display formats for displaying the message & attachment
    sizes in YAM. I added 4 more different size formats that will hopefully
    fit everyones needs. Default is the standard YAM size format which was there
    since ages.
  * added forgotten Help messages for the SMTP AUTH feature of YAM.
  * fixed bug in the alignment of POP3 struct. The listview of the POP3 accounts
    didn`t show up the accounts anymore. Perhaps here we have to use a separate
    displayhook if this realignment causes trouble with MorphOS.

2001-05-22  Gunther Nikl <gni@gecko.de>

  * converted _WBenchMsg to WBmsg initialised from argv
  * YAM_CO.c: removed PL_IconBody[]
  * YAM_CL.c: added here
  * YAM_UT.c: replaced stch_i() with sscanf()
  * all_gcc.c: removed usage of stch_i

2001-05-22  Christian Hattemer <krille@users.sourceforge.net>

  * Fixed Enforcer Hit when searching by status (Bug #423880)

2001-05-21  Jens Langner <Jens.Langner@htw-dresden.de>

  * put back all fold/unfold statements (///) for our beloved GoldED users :)
    This will break Dirks plan to remove all "//" comments, but I think that`s
    acceptable. ;)

2001-05-20  Dirk Stöcker <stoecker@epost.de>

  * further reorganization
  * made whole code optimizable with SAS-C again (tracking down compiler bugs
    seems to get a hobby of me :-)
  * YAM_FO.c and YAM_EA.c are directly compilable now.

2001-05-20  Dirk Stöcker <stoecker@epost.de>

  * some more stuff. Now at least the files
    YAM_ER.c, YAM_DI.c, YAM_US.c and YAM_md5.c compile without old.h
  * And modifications I do during cleanup:
  * remove clear and bzero, replace them by memset
  * remove stccpy and replace it by MyStrCpy (which is an easy define)
  * changed all "struct Object *" to "Object *"
  * Start using enum types wherever necessary. This will improve error checking.
    All enums get names now and these are used in structures and prototypes.
  * I also started to remove the // comments and replace them by /*** xxx ***/
    or /* xxx */. I hope everyone else will do this also at code-parts he works
    on, so they will disappear very soon.
  * All structure definitions get resorted and most important all elements get
    seperate lines and type entries (Looks much better).
  * Moved all library bases to YAM.c and made them all global. No other
    declarations elsewhere (Maybe we should move these declarations to
    YAM_globals.c as Gunther suggested).

2001-05-19  Dirk Stöcker <stoecker@epost.de>

  * started second step of cleanup
  * replaced compiler.h by SDI_compiler.h (please don't mind Gunther, but it is
    better structured and also reflects you original design better (e.g. ASM))
  * added HOOKPROTO in YAM_hook.h and started to use it everwhere. SDI_compiler.h
    is thus nearly used from YAM_hook.h only (HOOKPROTO taken from freeciv).
  * gen_gates will no longer work, but I think this can be replaced by the
    HOOKPROTO definitions directly.
  * moved wbpath.c into YAM_UT.h
  * the header files are still not complete, but much more :-)
  * compiling with SAS will get faster again, when old.h is away. Maybe also the
    optimizing problem will disappear then?

2001-05-19  Dirk Stöcker <stoecker@epost.de>

  * started first step of real code cleanup (very likely MorphOS support will
    be broken for some time!)
  * gen_includes.pl will be obsoleted by proper structures. If alignment cannot
    be reached by rearranging the stuff, pad bytes maybe added.
  * added lots of header files, added 2 new directories, moved files
  * Later necessary renames (when BETA is rejoined):
    YAM_DI.c --> YAM_glossarydisplay.c
    YAM_WR.c --> YAM_write.c
    YAM_FO.c --> YAM_folderconfig.c
    YAM_MA.c --> YAM_main.c
    YAM_FI.c --> YAM_find.c
    YAM_MI.c --> YAM_mime.c
    YAM_US.c --> YAM_userlist.c
    YAM_AB.c --> YAM_addressbook.c
    YAM_RE.c --> YAM_read.c
    YAM_MAf.c--> YAM_mainFolder.c
    YAM_CO.c --> YAM_config.c
    YAM_TR.c --> YAM_transfer.c
    YAM_COs.c--> YAM_configFile.c
    YAM_COg.c--> YAM_configGUI.c
    YAM_CL.c --> YAM_classes.c
    YAM_UT.c --> YAM_utilities.c
    YAM_ER.c --> YAM_error.c
    YAM_EA.c --> YAM_addressbookEntry.c
  * The old.h files replaces the YAM.h and headers.h and should disappear very
    soon. The includes have to be in the source codes directly and the definitions
    have to be in the related header files.
  * Only really required stuff should be moved there, so we can see obsoleted
    code after this is finished.
  * A BIG SORRY FOR THE PROBLEMS THIS MAY CAUSE, BUT IT WILL BE WORTH THE EFFORT!
  * added supportfiles directory and locale directory, the make process for locales
    should be moved to locale/makefile
  * also still undone, but the makefiles should be joined in major parts!
  * NOTE: The makefiles are to be reworked totally, especially the dependencies

2001-05-16  Jens Langner <Jens.Langner@htw-dresden.de>

  * Added separate ContextMenus for the Folder Listtree and the Mail Listview.
    If popupmenu.library v9 or above could be found in the system a right
    mouseclick on the folder listtree or mail listview should pop up a nice
    ContextMenu now.

  * Fixed bug in the AB_FindTodaysBirthdates() function. Now YAM should find
    contacts who have birthday again.

  * Modified & reactivated AB_LB_CmpFunc() again. Now the addressbook should be
    sortable again.

2001-05-14  Jens Langner <Jens.Langner@htw-dresden.de>

  * Added hierarchical folder support. Now it is possible to sort the mail folders
    via a listtree and to have folder groups.
    This feature will obsolete the folder SEPARATORs. The .folders config file format
    should stay compatible.

  * It is now possible to display a 16x16 image in front of every folder. The
    image file have to have the name ".fimage" and have to be located in
    the desired folder.
    NOTE: This feature is not finished 100% and has some bug I couldn`t resolve
    yet. -> Help wanted

  * some global optimizations on the folder listtree & mail listview.

2001-05-14  Jacob Laursen <laursen@myself.com>

  * Added two hidden configuration items:
    - AskJumpUnread: if set to 'N', YAM will not suggest to jump to the
      next folder with unread mails.
    - WarnSubject: if set to 'N', YAM will not display the empty
      subject line warning.
    Both defaults to 'Y'.

2001-05-11  Jens Langner <Jens.Langner@htw-dresden.de>

  * Fixed Y2K bug in DateStamp2String() function. Now Daterequests to
    UNIXTIME should perform accurate. -> fixes the export email function

  * Removed some unneeded GetLocale calls for getting the TimeZone.
    Getting the actual TimeZone is only needed once YAM is started. This
    changes should also improved the MailListview a little bit because
    The DisplayHook was calling such GetLocale calls everytime.

2001-05-09  Jens Langner <Jens.Langner@htw-dresden.de>

  * Reverted back from NFloattext.mcc to Floattext.mcc in about window

  * If you enter an alias in a address field and press return the alias
    or realname will be resolved and the complete e-mail address string
    will be printed in the field now.

  * Added eMail resolving to the address field functions so that also
    while entering a eMail address YAM will try to resolve it from the
    addressbook. The resolve & expand ording will be
    Alias->RealName->eMail.

  * Fixed mailing list stuff again. Now Shift/Alt-Reply should behave
    like before.

2001-05-08  Jens Langner <Jens.Langner@htw-dresden.de>

  * Did some cosmetic changes to the About window

  * Modified Copyright string in About window and also in every source
    file

  * NListview & NList.mcc will be used now in the Attachment part of
    the write window

  * Added Title to the window that lists each part of a message.

  * Fixed behaviour of Mailing List feature for every folder. Now the
    correct From/To etc. should be set if To: Pattern is used

  * Added Signature selection to Mailinglist feature. Now you can select
    a different signature for every mailing list.

2001-05-06  Christian Hattemer <krille@users.sourceforge.net>

  * Added backwards search to the 'change to next folder with unread
    mail' feature.

  * MA_ChangeFolder() now jumps to the first unread mail from bottom
    if reverse sorting is used in one of the sort criteria.
    This is needed for the above feature.

2001-05-01  Jacob Laursen <laursen@myself.com>

  * Removed enforcer hits when trying to spawn a second instance of YAM
    while the first one is starting up.

2001-04-30  Jacob Laursen <laursen@myself.com>

  * Fixed a nasty crash bug when loading corrupted indices.  Left some
    debug info in there, since I lost the corrupted index during the
    tests.

2001-04-26  Jens Langner <Jens.Langner@htw-dresden.de>

  * removed obsolete MCC NListtree check in addressbook code

2001-04-26  Jacob Laursen <laursen@myself.com>

  * Added correct MCC version check.
  * Library open errors will now always be displayed in a requester,
    no matter if MUI is available. If possible, localized.

2001-04-25  Jens Langner <Jens.Langner@htw-dresden.de>

  * replaced Listtree.mcc with NListtree.mcc of Carsten Scholling
  * fixed some minor bugs in the addressbook code
  * added CVS $id tags to every source file for better revision control
  * changed AppIcon to also show the unread messages of the INCOMING
    folder (this is a feature I was searching for a long time :)
  * did some small cosmetic changes to the code


2001-04-07  Jacob Laursen <laursen@myself.com>

  * Nicer compilation date in About window ("7.4.2001" -> "07-Apr-01").

2001-04-02  Jacob Laursen <laursen@myself.com>

  * Using Locale timezone setting now if available.

2001-03-21  Christian Hattemer <krille@users.sourceforge.net>

  * Offers to save the address book on quit if it was modified

  * Added some return statements to avoid warnings

2001-03-20  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Fixed enforcer hits when listing a PGP keyring with very long UID
    lines.

2001-03-19  Christian Hattemer <krille@users.sourceforge.net>

  * When the maileditor is invoked from a readwindow this is updated
    after editing.

2001-03-17  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Added rather rudimentary LaTeX printing support

2001-03-13  Christian Hattemer <krille@users.sourceforge.net>

  * Added a warning when a mail without subject is going to be sent.

2001-03-10  Jörg Strohmayer <joergs@users.sourceforge.net>

  * Changes for GCC/ixemul.

  * Workaround for the 'crash on editwindow close' bug added
    (YAM_UT.c/DisposeModule()).

2001-03-10  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Changed dynamic string functions in YAM_UT.c to use calloc()/free()
    instead of AllocMem()/FreeMem() and thus (hopefully) memory pools.

2001-03-08  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Fixed: potential NULL pointer referenced in StrBufCat() and
    StrBufCpy()

  * Started to improve the printing system (see RE_PrintFile())

2001-03-07  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Fixed: CheckPrinter() assumed printer on parallel port when
    interpreting printer.device status bits

2001-03-06  Jacob Laursen <laursen@myself.com>

  * Changed compiler options to avoid linker warning.

  * Changed default CPU target in SAS/C makefile to 68020.

2001-02-19  Christian Hattemer <krille@users.sourceforge.net>

  * When pressing "shift right" in the read window YAM now looks
    if there are unread mails in folders after the current one
    (below the current one in the folders list).
    If there are such folders the user is asked if he wants to change
    to the first of these and continue reading there.

2001-02-19  Jacob Laursen <laursen@myself.com>

  * Removed memory deallocation of all mails on shutdown when
    compiling with SAS/C - based on the assumption that SAS/C uses
    memory pools in its malloc()/free() implementation.

2001-02-17  Jacob Laursen <laursen@myself.com>

  * Added TYPE/N (internal format) to the STEM that ARexx command
    FOLDERINFO returns:
    0 = normal
    1 = incoming
    2 = outgoing
    3 = sent (built-in)
    4 = deleted
    5 = sent and received
    6 = sent
    Useful for ARexx scripts when deciding whether to show the "From:"
    or "To:" header line.

  * Fixed wbstart-crash, which was introduced with the removal of
    the library auto-open (on January 28th).

2001-02-15 msbethke <Matthias.Bethke@gmx.net>

  * Added external quote function to edit window (+preferences)

2001-02-14  Jacob Laursen <laursen@myself.com>

  * Address Book/New/Portrait/Select: The ASL requester title was
    "Se_lect" (same string used twice) - fixed! (Bug #131008).

2001-02-04  Jacob Laursen <laursen@myself.com>

  * Fixed broken ARexx interface for SAS/C (introduced on January
    28th).

2001-02-04  Jörg Strohmayer <joergs@users.sourceforge.net>

  * Fixed Utility and LocalBase types, added m68k-AmigaOS makefile
    and some other minor changes to be able to compile with GCC again.
    SAS/C users with old, broken includes have to fix them now.

2001-02-01  Jacob Laursen <laursen@myself.com>

  * Removed enforcer hits when encountering message headers with
    non-terminated MIME-encoded text (i.e. during a folder rescan).

2001-01-29  Jacob Laursen <laursen@myself.com>

  * Added dynamic date string creation in smakefile.

2001-01-28  Dirk Stöcker <stoecker@amigaworld.com>

  * Moved SAS-C make process completely into smakefile

  * Now uses original Listtree includes

2000-12-21  Jacob Laursen <laursen@myself.com>

  * Fixed a very nasty bug when using the ARexx command MAILWRITE with
    the QUIET switch.

  * YAM would try to send mails using SMTP AUTH when a username was
    configured, even though "Use SMTP AUTH" wasn't selected. Fixed.
    Localized ESMTP error message.

2000-12-20  Jörg Strohmayer <joergs@users.sourceforge.net>

  * Added SMTP AUTH to config GUI.

2000-12-20  Jacob Laursen <laursen@myself.com>

  * Finished slave work on menus in main window.

  * Added "Fixed font" menu item in read window to quickly switch
    font when needed. It doesn't work yet, though, since TextEditor.mcc
    doesn't seem to catch MUIA_TextEditor_FixedFont on the fly.

  * Now explicitly opens utility.library.

2000-12-19  Jacob Laursen <laursen@myself.com>

  * Fixed .taglines bug - %'s was used for formatting, which would
    result in a "***NULL POINTER***" mess.

  * Localized all menu shortcuts in main window.

2000-12-18  Jacob Laursen <laursen@myself.com>

  * Using ARexx commands MAILWRITE and MAILSEND, while YAM is iconified
    and the external editor is configured to be spawned always, would
    throw enforcer hits. Fixed.

  * Got rid of the ANSI C time() function, which would access ENV:TZ
    each time a log entry or new mail was to be written.

2000-12-17  Jacob Laursen <laursen@myself.com>

  * SAS/C fixes. Now compiles again, also without V44 includes.

  * Removed enforcer hits when creating new messages.

  * YAM.cd: Set max. length of commodity description to 39 characters.

  * Added sprintf() replacement with Locale support.

2000-12-10  Jacob Laursen <laursen@myself.com>

  * Removed custom bsdsocket.library interface - now uses the includes.

2000-12-07  Jacob Laursen <laursen@myself.com>

  * Added "Reply-To:" address to folder options. Useful for folders that
    are mail aliases instead of real mailing lists, to avoid getting
    dublicate answers.

2000-12-06  Jacob Laursen <laursen@myself.com>

  * Enforcer hits when doing: rx "address 'YAM';info"
    (without arguments) Fixed!

  * Added "From:" address to folder options. Useful when using
    different e-mail addresses on different mailing lists.

  * When deleting a bunch of mails, and one with Disposition
    Notification pops up - new option: Ignore all

2000-11-22  Matthias Bethke <Matthias.Bethke@gmx.net>

  * Added partial PGP multipart support
